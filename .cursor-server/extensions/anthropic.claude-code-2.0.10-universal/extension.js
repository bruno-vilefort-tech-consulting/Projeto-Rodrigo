var K1=Object.create;var Lc=Object.defineProperty;var J1=Object.getOwnPropertyDescriptor;var Q1=Object.getOwnPropertyNames;var Y1=Object.getPrototypeOf,X1=Object.prototype.hasOwnProperty;var j=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),bg=(t,e)=>{for(var r in e)Lc(t,r,{get:e[r],enumerable:!0})},_g=(t,e,r,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Q1(e))!X1.call(t,s)&&s!==r&&Lc(t,s,{get:()=>e[s],enumerable:!(a=J1(e,s))||a.enumerable});return t};var Ee=(t,e,r)=>(r=t!=null?K1(Y1(t)):{},_g(e||!t||!t.__esModule?Lc(r,"default",{value:t,enumerable:!0}):r,t)),eI=t=>_g(Lc({},"__esModule",{value:!0}),t);var Cg=j((X5,Rg)=>{Rg.exports=Pg;Pg.sync=rI;var Sg=require("fs");function tI(t,e){var r=e.pathExt!==void 0?e.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var a=0;a<r.length;a++){var s=r[a].toLowerCase();if(s&&t.substr(-s.length).toLowerCase()===s)return!0}return!1}function Eg(t,e,r){return!t.isSymbolicLink()&&!t.isFile()?!1:tI(e,r)}function Pg(t,e,r){Sg.stat(t,function(a,s){r(a,a?!1:Eg(s,t,e))})}function rI(t,e){return Eg(Sg.statSync(t),t,e)}});var kg=j((eG,Ag)=>{Ag.exports=Og;Og.sync=aI;var Tg=require("fs");function Og(t,e,r){Tg.stat(t,function(a,s){r(a,a?!1:Ig(s,e))})}function aI(t,e){return Ig(Tg.statSync(t),e)}function Ig(t,e){return t.isFile()&&sI(t,e)}function sI(t,e){var r=t.mode,a=t.uid,s=t.gid,i=e.uid!==void 0?e.uid:process.getuid&&process.getuid(),n=e.gid!==void 0?e.gid:process.getgid&&process.getgid(),o=parseInt("100",8),l=parseInt("010",8),c=parseInt("001",8),u=o|l,d=r&c||r&l&&s===n||r&o&&a===i||r&u&&i===0;return d}});var jg=j((rG,Dg)=>{var tG=require("fs"),Fc;process.platform==="win32"||global.TESTING_WINDOWS?Fc=Cg():Fc=kg();Dg.exports=sp;sp.sync=nI;function sp(t,e,r){if(typeof e=="function"&&(r=e,e={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(a,s){sp(t,e||{},function(i,n){i?s(i):a(n)})})}Fc(t,e||{},function(a,s){a&&(a.code==="EACCES"||e&&e.ignoreErrors)&&(a=null,s=!1),r(a,s)})}function nI(t,e){try{return Fc.sync(t,e||{})}catch(r){if(e&&e.ignoreErrors||r.code==="EACCES")return!1;throw r}}});var Ug=j((aG,qg)=>{var Wn=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",Ng=require("path"),iI=Wn?";":":",$g=jg(),Lg=t=>Object.assign(new Error(`not found: ${t}`),{code:"ENOENT"}),Fg=(t,e)=>{let r=e.colon||iI,a=t.match(/\//)||Wn&&t.match(/\\/)?[""]:[...Wn?[process.cwd()]:[],...(e.path||process.env.PATH||"").split(r)],s=Wn?e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",i=Wn?s.split(r):[""];return Wn&&t.indexOf(".")!==-1&&i[0]!==""&&i.unshift(""),{pathEnv:a,pathExt:i,pathExtExe:s}},Mg=(t,e,r)=>{typeof e=="function"&&(r=e,e={}),e||(e={});let{pathEnv:a,pathExt:s,pathExtExe:i}=Fg(t,e),n=[],o=c=>new Promise((u,d)=>{if(c===a.length)return e.all&&n.length?u(n):d(Lg(t));let h=a[c],p=/^".*"$/.test(h)?h.slice(1,-1):h,m=Ng.join(p,t),f=!p&&/^\.[\\\/]/.test(t)?t.slice(0,2)+m:m;u(l(f,c,0))}),l=(c,u,d)=>new Promise((h,p)=>{if(d===s.length)return h(o(u+1));let m=s[d];$g(c+m,{pathExt:i},(f,v)=>{if(!f&&v)if(e.all)n.push(c+m);else return h(c+m);return h(l(c,u,d+1))})});return r?o(0).then(c=>r(null,c),r):o(0)},oI=(t,e)=>{e=e||{};let{pathEnv:r,pathExt:a,pathExtExe:s}=Fg(t,e),i=[];for(let n=0;n<r.length;n++){let o=r[n],l=/^".*"$/.test(o)?o.slice(1,-1):o,c=Ng.join(l,t),u=!l&&/^\.[\\\/]/.test(t)?t.slice(0,2)+c:c;for(let d=0;d<a.length;d++){let h=u+a[d];try{if($g.sync(h,{pathExt:s}))if(e.all)i.push(h);else return h}catch{}}}if(e.all&&i.length)return i;if(e.nothrow)return null;throw Lg(t)};qg.exports=Mg;Mg.sync=oI});var Bg=j((sG,np)=>{"use strict";var zg=(t={})=>{let e=t.env||process.env;return(t.platform||process.platform)!=="win32"?"PATH":Object.keys(e).reverse().find(a=>a.toUpperCase()==="PATH")||"Path"};np.exports=zg;np.exports.default=zg});var Gg=j((nG,Hg)=>{"use strict";var Zg=require("path"),cI=Ug(),lI=Bg();function Vg(t,e){let r=t.options.env||process.env,a=process.cwd(),s=t.options.cwd!=null,i=s&&process.chdir!==void 0&&!process.chdir.disabled;if(i)try{process.chdir(t.options.cwd)}catch{}let n;try{n=cI.sync(t.command,{path:r[lI({env:r})],pathExt:e?Zg.delimiter:void 0})}catch{}finally{i&&process.chdir(a)}return n&&(n=Zg.resolve(s?t.options.cwd:"",n)),n}function uI(t){return Vg(t)||Vg(t,!0)}Hg.exports=uI});var Wg=j((iG,op)=>{"use strict";var ip=/([()\][%!^"`<>&|;, *?])/g;function dI(t){return t=t.replace(ip,"^$1"),t}function pI(t,e){return t=`${t}`,t=t.replace(/(?=(\\+?)?)\1"/g,'$1$1\\"'),t=t.replace(/(?=(\\+?)?)\1$/,"$1$1"),t=`"${t}"`,t=t.replace(ip,"^$1"),e&&(t=t.replace(ip,"^$1")),t}op.exports.command=dI;op.exports.argument=pI});var Jg=j((oG,Kg)=>{"use strict";Kg.exports=/^#!(.*)/});var Yg=j((cG,Qg)=>{"use strict";var fI=Jg();Qg.exports=(t="")=>{let e=t.match(fI);if(!e)return null;let[r,a]=e[0].replace(/#! ?/,"").split(" "),s=r.split("/").pop();return s==="env"?a:a?`${s} ${a}`:s}});var ey=j((lG,Xg)=>{"use strict";var cp=require("fs"),mI=Yg();function hI(t){let r=Buffer.alloc(150),a;try{a=cp.openSync(t,"r"),cp.readSync(a,r,0,150,0),cp.closeSync(a)}catch{}return mI(r.toString())}Xg.exports=hI});var sy=j((uG,ay)=>{"use strict";var vI=require("path"),ty=Gg(),ry=Wg(),gI=ey(),yI=process.platform==="win32",xI=/\.(?:com|exe)$/i,bI=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function _I(t){t.file=ty(t);let e=t.file&&gI(t.file);return e?(t.args.unshift(t.file),t.command=e,ty(t)):t.file}function wI(t){if(!yI)return t;let e=_I(t),r=!xI.test(e);if(t.options.forceShell||r){let a=bI.test(e);t.command=vI.normalize(t.command),t.command=ry.command(t.command),t.args=t.args.map(i=>ry.argument(i,a));let s=[t.command].concat(t.args).join(" ");t.args=["/d","/s","/c",`"${s}"`],t.command=process.env.comspec||"cmd.exe",t.options.windowsVerbatimArguments=!0}return t}function SI(t,e,r){e&&!Array.isArray(e)&&(r=e,e=null),e=e?e.slice(0):[],r=Object.assign({},r);let a={command:t,args:e,options:r,file:void 0,original:{command:t,args:e}};return r.shell?a:wI(a)}ay.exports=SI});var oy=j((dG,iy)=>{"use strict";var lp=process.platform==="win32";function up(t,e){return Object.assign(new Error(`${e} ${t.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${e} ${t.command}`,path:t.command,spawnargs:t.args})}function EI(t,e){if(!lp)return;let r=t.emit;t.emit=function(a,s){if(a==="exit"){let i=ny(s,e);if(i)return r.call(t,"error",i)}return r.apply(t,arguments)}}function ny(t,e){return lp&&t===1&&!e.file?up(e.original,"spawn"):null}function PI(t,e){return lp&&t===1&&!e.file?up(e.original,"spawnSync"):null}iy.exports={hookChildProcess:EI,verifyENOENT:ny,verifyENOENTSync:PI,notFoundError:up}});var uy=j((pG,Kn)=>{"use strict";var cy=require("child_process"),dp=sy(),pp=oy();function ly(t,e,r){let a=dp(t,e,r),s=cy.spawn(a.command,a.args,a.options);return pp.hookChildProcess(s,a),s}function RI(t,e,r){let a=dp(t,e,r),s=cy.spawnSync(a.command,a.args,a.options);return s.error=s.error||pp.verifyENOENTSync(s.status,a),s}Kn.exports=ly;Kn.exports.spawn=ly;Kn.exports.sync=RI;Kn.exports._parse=dp;Kn.exports._enoent=pp});var By=j((oW,zy)=>{"use strict";var{PassThrough:yA}=require("stream");zy.exports=function(){var t=[],e=new yA({objectMode:!0});return e.setMaxListeners(0),e.add=r,e.isEmpty=a,e.on("unpipe",s),Array.prototype.slice.call(arguments).forEach(r),e;function r(i){return Array.isArray(i)?(i.forEach(r),this):(t.push(i),i.once("end",s.bind(null,i)),i.once("error",e.emit.bind(e,"error")),i.pipe(e,{end:!1}),this)}function a(){return t.length==0}function s(i){t=t.filter(function(n){return n!==i}),!t.length&&e.readable&&e.end()}}});var _o=j((OW,px)=>{"use strict";var DA="2.0.0",jA=Number.MAX_SAFE_INTEGER||9007199254740991,NA=16,$A=250,LA=["major","premajor","minor","preminor","patch","prepatch","prerelease"];px.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:NA,MAX_SAFE_BUILD_LENGTH:$A,MAX_SAFE_INTEGER:jA,RELEASE_TYPES:LA,SEMVER_SPEC_VERSION:DA,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var wo=j((IW,fx)=>{"use strict";var FA=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};fx.exports=FA});var Qn=j((fa,mx)=>{"use strict";var{MAX_SAFE_COMPONENT_LENGTH:Lp,MAX_SAFE_BUILD_LENGTH:MA,MAX_LENGTH:qA}=_o(),UA=wo();fa=mx.exports={};var zA=fa.re=[],BA=fa.safeRe=[],fe=fa.src=[],ZA=fa.safeSrc=[],me=fa.t={},VA=0,Fp="[a-zA-Z0-9-]",HA=[["\\s",1],["\\d",qA],[Fp,MA]],GA=t=>{for(let[e,r]of HA)t=t.split(`${e}*`).join(`${e}{0,${r}}`).split(`${e}+`).join(`${e}{1,${r}}`);return t},ze=(t,e,r)=>{let a=GA(e),s=VA++;UA(t,s,e),me[t]=s,fe[s]=e,ZA[s]=a,zA[s]=new RegExp(e,r?"g":void 0),BA[s]=new RegExp(a,r?"g":void 0)};ze("NUMERICIDENTIFIER","0|[1-9]\\d*");ze("NUMERICIDENTIFIERLOOSE","\\d+");ze("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${Fp}*`);ze("MAINVERSION",`(${fe[me.NUMERICIDENTIFIER]})\\.(${fe[me.NUMERICIDENTIFIER]})\\.(${fe[me.NUMERICIDENTIFIER]})`);ze("MAINVERSIONLOOSE",`(${fe[me.NUMERICIDENTIFIERLOOSE]})\\.(${fe[me.NUMERICIDENTIFIERLOOSE]})\\.(${fe[me.NUMERICIDENTIFIERLOOSE]})`);ze("PRERELEASEIDENTIFIER",`(?:${fe[me.NONNUMERICIDENTIFIER]}|${fe[me.NUMERICIDENTIFIER]})`);ze("PRERELEASEIDENTIFIERLOOSE",`(?:${fe[me.NONNUMERICIDENTIFIER]}|${fe[me.NUMERICIDENTIFIERLOOSE]})`);ze("PRERELEASE",`(?:-(${fe[me.PRERELEASEIDENTIFIER]}(?:\\.${fe[me.PRERELEASEIDENTIFIER]})*))`);ze("PRERELEASELOOSE",`(?:-?(${fe[me.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${fe[me.PRERELEASEIDENTIFIERLOOSE]})*))`);ze("BUILDIDENTIFIER",`${Fp}+`);ze("BUILD",`(?:\\+(${fe[me.BUILDIDENTIFIER]}(?:\\.${fe[me.BUILDIDENTIFIER]})*))`);ze("FULLPLAIN",`v?${fe[me.MAINVERSION]}${fe[me.PRERELEASE]}?${fe[me.BUILD]}?`);ze("FULL",`^${fe[me.FULLPLAIN]}$`);ze("LOOSEPLAIN",`[v=\\s]*${fe[me.MAINVERSIONLOOSE]}${fe[me.PRERELEASELOOSE]}?${fe[me.BUILD]}?`);ze("LOOSE",`^${fe[me.LOOSEPLAIN]}$`);ze("GTLT","((?:<|>)?=?)");ze("XRANGEIDENTIFIERLOOSE",`${fe[me.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);ze("XRANGEIDENTIFIER",`${fe[me.NUMERICIDENTIFIER]}|x|X|\\*`);ze("XRANGEPLAIN",`[v=\\s]*(${fe[me.XRANGEIDENTIFIER]})(?:\\.(${fe[me.XRANGEIDENTIFIER]})(?:\\.(${fe[me.XRANGEIDENTIFIER]})(?:${fe[me.PRERELEASE]})?${fe[me.BUILD]}?)?)?`);ze("XRANGEPLAINLOOSE",`[v=\\s]*(${fe[me.XRANGEIDENTIFIERLOOSE]})(?:\\.(${fe[me.XRANGEIDENTIFIERLOOSE]})(?:\\.(${fe[me.XRANGEIDENTIFIERLOOSE]})(?:${fe[me.PRERELEASELOOSE]})?${fe[me.BUILD]}?)?)?`);ze("XRANGE",`^${fe[me.GTLT]}\\s*${fe[me.XRANGEPLAIN]}$`);ze("XRANGELOOSE",`^${fe[me.GTLT]}\\s*${fe[me.XRANGEPLAINLOOSE]}$`);ze("COERCEPLAIN",`(^|[^\\d])(\\d{1,${Lp}})(?:\\.(\\d{1,${Lp}}))?(?:\\.(\\d{1,${Lp}}))?`);ze("COERCE",`${fe[me.COERCEPLAIN]}(?:$|[^\\d])`);ze("COERCEFULL",fe[me.COERCEPLAIN]+`(?:${fe[me.PRERELEASE]})?(?:${fe[me.BUILD]})?(?:$|[^\\d])`);ze("COERCERTL",fe[me.COERCE],!0);ze("COERCERTLFULL",fe[me.COERCEFULL],!0);ze("LONETILDE","(?:~>?)");ze("TILDETRIM",`(\\s*)${fe[me.LONETILDE]}\\s+`,!0);fa.tildeTrimReplace="$1~";ze("TILDE",`^${fe[me.LONETILDE]}${fe[me.XRANGEPLAIN]}$`);ze("TILDELOOSE",`^${fe[me.LONETILDE]}${fe[me.XRANGEPLAINLOOSE]}$`);ze("LONECARET","(?:\\^)");ze("CARETTRIM",`(\\s*)${fe[me.LONECARET]}\\s+`,!0);fa.caretTrimReplace="$1^";ze("CARET",`^${fe[me.LONECARET]}${fe[me.XRANGEPLAIN]}$`);ze("CARETLOOSE",`^${fe[me.LONECARET]}${fe[me.XRANGEPLAINLOOSE]}$`);ze("COMPARATORLOOSE",`^${fe[me.GTLT]}\\s*(${fe[me.LOOSEPLAIN]})$|^$`);ze("COMPARATOR",`^${fe[me.GTLT]}\\s*(${fe[me.FULLPLAIN]})$|^$`);ze("COMPARATORTRIM",`(\\s*)${fe[me.GTLT]}\\s*(${fe[me.LOOSEPLAIN]}|${fe[me.XRANGEPLAIN]})`,!0);fa.comparatorTrimReplace="$1$2$3";ze("HYPHENRANGE",`^\\s*(${fe[me.XRANGEPLAIN]})\\s+-\\s+(${fe[me.XRANGEPLAIN]})\\s*$`);ze("HYPHENRANGELOOSE",`^\\s*(${fe[me.XRANGEPLAINLOOSE]})\\s+-\\s+(${fe[me.XRANGEPLAINLOOSE]})\\s*$`);ze("STAR","(<|>)?=?\\s*\\*");ze("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");ze("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Xc=j((AW,hx)=>{"use strict";var WA=Object.freeze({loose:!0}),KA=Object.freeze({}),JA=t=>t?typeof t!="object"?WA:t:KA;hx.exports=JA});var Mp=j((kW,yx)=>{"use strict";var vx=/^[0-9]+$/,gx=(t,e)=>{let r=vx.test(t),a=vx.test(e);return r&&a&&(t=+t,e=+e),t===e?0:r&&!a?-1:a&&!r?1:t<e?-1:1},QA=(t,e)=>gx(e,t);yx.exports={compareIdentifiers:gx,rcompareIdentifiers:QA}});var Bt=j((DW,bx)=>{"use strict";var el=wo(),{MAX_LENGTH:xx,MAX_SAFE_INTEGER:tl}=_o(),{safeRe:rl,t:al}=Qn(),YA=Xc(),{compareIdentifiers:Yn}=Mp(),qp=class t{constructor(e,r){if(r=YA(r),e instanceof t){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>xx)throw new TypeError(`version is longer than ${xx} characters`);el("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let a=e.trim().match(r.loose?rl[al.LOOSE]:rl[al.FULL]);if(!a)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+a[1],this.minor=+a[2],this.patch=+a[3],this.major>tl||this.major<0)throw new TypeError("Invalid major version");if(this.minor>tl||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>tl||this.patch<0)throw new TypeError("Invalid patch version");a[4]?this.prerelease=a[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){let i=+s;if(i>=0&&i<tl)return i}return s}):this.prerelease=[],this.build=a[5]?a[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(el("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),Yn(this.major,e.major)||Yn(this.minor,e.minor)||Yn(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let a=this.prerelease[r],s=e.prerelease[r];if(el("prerelease compare",r,a,s),a===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(a===void 0)return-1;if(a===s)continue;return Yn(a,s)}while(++r)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let r=0;do{let a=this.build[r],s=e.build[r];if(el("build compare",r,a,s),a===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(a===void 0)return-1;if(a===s)continue;return Yn(a,s)}while(++r)}inc(e,r,a){if(e.startsWith("pre")){if(!r&&a===!1)throw new Error("invalid increment argument: identifier is empty");if(r){let s=`-${r}`.match(this.options.loose?rl[al.PRERELEASELOOSE]:rl[al.PRERELEASE]);if(!s||s[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,a);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,a);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,a),this.inc("pre",r,a);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,a),this.inc("pre",r,a);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let s=Number(a)?1:0;if(this.prerelease.length===0)this.prerelease=[s];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(r===this.prerelease.join(".")&&a===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(r){let i=[r,s];a===!1&&(i=[r]),Yn(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};bx.exports=qp});var Ns=j((jW,wx)=>{"use strict";var _x=Bt(),XA=(t,e,r=!1)=>{if(t instanceof _x)return t;try{return new _x(t,e)}catch(a){if(!r)return null;throw a}};wx.exports=XA});var Ex=j((NW,Sx)=>{"use strict";var ek=Ns(),tk=(t,e)=>{let r=ek(t,e);return r?r.version:null};Sx.exports=tk});var Rx=j(($W,Px)=>{"use strict";var rk=Ns(),ak=(t,e)=>{let r=rk(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};Px.exports=ak});var Ox=j((LW,Tx)=>{"use strict";var Cx=Bt(),sk=(t,e,r,a,s)=>{typeof r=="string"&&(s=a,a=r,r=void 0);try{return new Cx(t instanceof Cx?t.version:t,r).inc(e,a,s).version}catch{return null}};Tx.exports=sk});var kx=j((FW,Ax)=>{"use strict";var Ix=Ns(),nk=(t,e)=>{let r=Ix(t,null,!0),a=Ix(e,null,!0),s=r.compare(a);if(s===0)return null;let i=s>0,n=i?r:a,o=i?a:r,l=!!n.prerelease.length;if(!!o.prerelease.length&&!l){if(!o.patch&&!o.minor)return"major";if(o.compareMain(n)===0)return o.minor&&!o.patch?"minor":"patch"}let u=l?"pre":"";return r.major!==a.major?u+"major":r.minor!==a.minor?u+"minor":r.patch!==a.patch?u+"patch":"prerelease"};Ax.exports=nk});var jx=j((MW,Dx)=>{"use strict";var ik=Bt(),ok=(t,e)=>new ik(t,e).major;Dx.exports=ok});var $x=j((qW,Nx)=>{"use strict";var ck=Bt(),lk=(t,e)=>new ck(t,e).minor;Nx.exports=lk});var Fx=j((UW,Lx)=>{"use strict";var uk=Bt(),dk=(t,e)=>new uk(t,e).patch;Lx.exports=dk});var qx=j((zW,Mx)=>{"use strict";var pk=Ns(),fk=(t,e)=>{let r=pk(t,e);return r&&r.prerelease.length?r.prerelease:null};Mx.exports=fk});var Ar=j((BW,zx)=>{"use strict";var Ux=Bt(),mk=(t,e,r)=>new Ux(t,r).compare(new Ux(e,r));zx.exports=mk});var Zx=j((ZW,Bx)=>{"use strict";var hk=Ar(),vk=(t,e,r)=>hk(e,t,r);Bx.exports=vk});var Hx=j((VW,Vx)=>{"use strict";var gk=Ar(),yk=(t,e)=>gk(t,e,!0);Vx.exports=yk});var sl=j((HW,Wx)=>{"use strict";var Gx=Bt(),xk=(t,e,r)=>{let a=new Gx(t,r),s=new Gx(e,r);return a.compare(s)||a.compareBuild(s)};Wx.exports=xk});var Jx=j((GW,Kx)=>{"use strict";var bk=sl(),_k=(t,e)=>t.sort((r,a)=>bk(r,a,e));Kx.exports=_k});var Yx=j((WW,Qx)=>{"use strict";var wk=sl(),Sk=(t,e)=>t.sort((r,a)=>wk(a,r,e));Qx.exports=Sk});var So=j((KW,Xx)=>{"use strict";var Ek=Ar(),Pk=(t,e,r)=>Ek(t,e,r)>0;Xx.exports=Pk});var nl=j((JW,eb)=>{"use strict";var Rk=Ar(),Ck=(t,e,r)=>Rk(t,e,r)<0;eb.exports=Ck});var Up=j((QW,tb)=>{"use strict";var Tk=Ar(),Ok=(t,e,r)=>Tk(t,e,r)===0;tb.exports=Ok});var zp=j((YW,rb)=>{"use strict";var Ik=Ar(),Ak=(t,e,r)=>Ik(t,e,r)!==0;rb.exports=Ak});var il=j((XW,ab)=>{"use strict";var kk=Ar(),Dk=(t,e,r)=>kk(t,e,r)>=0;ab.exports=Dk});var ol=j((e8,sb)=>{"use strict";var jk=Ar(),Nk=(t,e,r)=>jk(t,e,r)<=0;sb.exports=Nk});var Bp=j((t8,nb)=>{"use strict";var $k=Up(),Lk=zp(),Fk=So(),Mk=il(),qk=nl(),Uk=ol(),zk=(t,e,r,a)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return $k(t,r,a);case"!=":return Lk(t,r,a);case">":return Fk(t,r,a);case">=":return Mk(t,r,a);case"<":return qk(t,r,a);case"<=":return Uk(t,r,a);default:throw new TypeError(`Invalid operator: ${e}`)}};nb.exports=zk});var ob=j((r8,ib)=>{"use strict";var Bk=Bt(),Zk=Ns(),{safeRe:cl,t:ll}=Qn(),Vk=(t,e)=>{if(t instanceof Bk)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(e.includePrerelease?cl[ll.COERCEFULL]:cl[ll.COERCE]);else{let l=e.includePrerelease?cl[ll.COERCERTLFULL]:cl[ll.COERCERTL],c;for(;(c=l.exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||c.index+c[0].length!==r.index+r[0].length)&&(r=c),l.lastIndex=c.index+c[1].length+c[2].length;l.lastIndex=-1}if(r===null)return null;let a=r[2],s=r[3]||"0",i=r[4]||"0",n=e.includePrerelease&&r[5]?`-${r[5]}`:"",o=e.includePrerelease&&r[6]?`+${r[6]}`:"";return Zk(`${a}.${s}.${i}${n}${o}`,e)};ib.exports=Vk});var lb=j((a8,cb)=>{"use strict";var Zp=class{constructor(){this.max=1e3,this.map=new Map}get(e){let r=this.map.get(e);if(r!==void 0)return this.map.delete(e),this.map.set(e,r),r}delete(e){return this.map.delete(e)}set(e,r){if(!this.delete(e)&&r!==void 0){if(this.map.size>=this.max){let s=this.map.keys().next().value;this.delete(s)}this.map.set(e,r)}return this}};cb.exports=Zp});var kr=j((s8,fb)=>{"use strict";var Hk=/\s+/g,Vp=class t{constructor(e,r){if(r=Wk(r),e instanceof t)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new t(e.raw,r);if(e instanceof Hp)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e.trim().replace(Hk," "),this.set=this.raw.split("||").map(a=>this.parseRange(a.trim())).filter(a=>a.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let a=this.set[0];if(this.set=this.set.filter(s=>!db(s[0])),this.set.length===0)this.set=[a];else if(this.set.length>1){for(let s of this.set)if(s.length===1&&tD(s[0])){this.set=[s];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let r=this.set[e];for(let a=0;a<r.length;a++)a>0&&(this.formatted+=" "),this.formatted+=r[a].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let a=((this.options.includePrerelease&&Xk)|(this.options.loose&&eD))+":"+e,s=ub.get(a);if(s)return s;let i=this.options.loose,n=i?rr[Ht.HYPHENRANGELOOSE]:rr[Ht.HYPHENRANGE];e=e.replace(n,dD(this.options.includePrerelease)),gt("hyphen replace",e),e=e.replace(rr[Ht.COMPARATORTRIM],Jk),gt("comparator trim",e),e=e.replace(rr[Ht.TILDETRIM],Qk),gt("tilde trim",e),e=e.replace(rr[Ht.CARETTRIM],Yk),gt("caret trim",e);let o=e.split(" ").map(d=>rD(d,this.options)).join(" ").split(/\s+/).map(d=>uD(d,this.options));i&&(o=o.filter(d=>(gt("loose invalid filter",d,this.options),!!d.match(rr[Ht.COMPARATORLOOSE])))),gt("range list",o);let l=new Map,c=o.map(d=>new Hp(d,this.options));for(let d of c){if(db(d))return[d];l.set(d.value,d)}l.size>1&&l.has("")&&l.delete("");let u=[...l.values()];return ub.set(a,u),u}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(a=>pb(a,r)&&e.set.some(s=>pb(s,r)&&a.every(i=>s.every(n=>i.intersects(n,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new Kk(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(pD(this.set[r],e,this.options))return!0;return!1}};fb.exports=Vp;var Gk=lb(),ub=new Gk,Wk=Xc(),Hp=Eo(),gt=wo(),Kk=Bt(),{safeRe:rr,t:Ht,comparatorTrimReplace:Jk,tildeTrimReplace:Qk,caretTrimReplace:Yk}=Qn(),{FLAG_INCLUDE_PRERELEASE:Xk,FLAG_LOOSE:eD}=_o(),db=t=>t.value==="<0.0.0-0",tD=t=>t.value==="",pb=(t,e)=>{let r=!0,a=t.slice(),s=a.pop();for(;r&&a.length;)r=a.every(i=>s.intersects(i,e)),s=a.pop();return r},rD=(t,e)=>(gt("comp",t,e),t=nD(t,e),gt("caret",t),t=aD(t,e),gt("tildes",t),t=oD(t,e),gt("xrange",t),t=lD(t,e),gt("stars",t),t),Gt=t=>!t||t.toLowerCase()==="x"||t==="*",aD=(t,e)=>t.trim().split(/\s+/).map(r=>sD(r,e)).join(" "),sD=(t,e)=>{let r=e.loose?rr[Ht.TILDELOOSE]:rr[Ht.TILDE];return t.replace(r,(a,s,i,n,o)=>{gt("tilde",t,a,s,i,n,o);let l;return Gt(s)?l="":Gt(i)?l=`>=${s}.0.0 <${+s+1}.0.0-0`:Gt(n)?l=`>=${s}.${i}.0 <${s}.${+i+1}.0-0`:o?(gt("replaceTilde pr",o),l=`>=${s}.${i}.${n}-${o} <${s}.${+i+1}.0-0`):l=`>=${s}.${i}.${n} <${s}.${+i+1}.0-0`,gt("tilde return",l),l})},nD=(t,e)=>t.trim().split(/\s+/).map(r=>iD(r,e)).join(" "),iD=(t,e)=>{gt("caret",t,e);let r=e.loose?rr[Ht.CARETLOOSE]:rr[Ht.CARET],a=e.includePrerelease?"-0":"";return t.replace(r,(s,i,n,o,l)=>{gt("caret",t,s,i,n,o,l);let c;return Gt(i)?c="":Gt(n)?c=`>=${i}.0.0${a} <${+i+1}.0.0-0`:Gt(o)?i==="0"?c=`>=${i}.${n}.0${a} <${i}.${+n+1}.0-0`:c=`>=${i}.${n}.0${a} <${+i+1}.0.0-0`:l?(gt("replaceCaret pr",l),i==="0"?n==="0"?c=`>=${i}.${n}.${o}-${l} <${i}.${n}.${+o+1}-0`:c=`>=${i}.${n}.${o}-${l} <${i}.${+n+1}.0-0`:c=`>=${i}.${n}.${o}-${l} <${+i+1}.0.0-0`):(gt("no pr"),i==="0"?n==="0"?c=`>=${i}.${n}.${o}${a} <${i}.${n}.${+o+1}-0`:c=`>=${i}.${n}.${o}${a} <${i}.${+n+1}.0-0`:c=`>=${i}.${n}.${o} <${+i+1}.0.0-0`),gt("caret return",c),c})},oD=(t,e)=>(gt("replaceXRanges",t,e),t.split(/\s+/).map(r=>cD(r,e)).join(" ")),cD=(t,e)=>{t=t.trim();let r=e.loose?rr[Ht.XRANGELOOSE]:rr[Ht.XRANGE];return t.replace(r,(a,s,i,n,o,l)=>{gt("xRange",t,a,s,i,n,o,l);let c=Gt(i),u=c||Gt(n),d=u||Gt(o),h=d;return s==="="&&h&&(s=""),l=e.includePrerelease?"-0":"",c?s===">"||s==="<"?a="<0.0.0-0":a="*":s&&h?(u&&(n=0),o=0,s===">"?(s=">=",u?(i=+i+1,n=0,o=0):(n=+n+1,o=0)):s==="<="&&(s="<",u?i=+i+1:n=+n+1),s==="<"&&(l="-0"),a=`${s+i}.${n}.${o}${l}`):u?a=`>=${i}.0.0${l} <${+i+1}.0.0-0`:d&&(a=`>=${i}.${n}.0${l} <${i}.${+n+1}.0-0`),gt("xRange return",a),a})},lD=(t,e)=>(gt("replaceStars",t,e),t.trim().replace(rr[Ht.STAR],"")),uD=(t,e)=>(gt("replaceGTE0",t,e),t.trim().replace(rr[e.includePrerelease?Ht.GTE0PRE:Ht.GTE0],"")),dD=t=>(e,r,a,s,i,n,o,l,c,u,d,h)=>(Gt(a)?r="":Gt(s)?r=`>=${a}.0.0${t?"-0":""}`:Gt(i)?r=`>=${a}.${s}.0${t?"-0":""}`:n?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,Gt(c)?l="":Gt(u)?l=`<${+c+1}.0.0-0`:Gt(d)?l=`<${c}.${+u+1}.0-0`:h?l=`<=${c}.${u}.${d}-${h}`:t?l=`<${c}.${u}.${+d+1}-0`:l=`<=${l}`,`${r} ${l}`.trim()),pD=(t,e,r)=>{for(let a=0;a<t.length;a++)if(!t[a].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let a=0;a<t.length;a++)if(gt(t[a].semver),t[a].semver!==Hp.ANY&&t[a].semver.prerelease.length>0){let s=t[a].semver;if(s.major===e.major&&s.minor===e.minor&&s.patch===e.patch)return!0}return!1}return!0}});var Eo=j((n8,xb)=>{"use strict";var Po=Symbol("SemVer ANY"),Kp=class t{static get ANY(){return Po}constructor(e,r){if(r=mb(r),e instanceof t){if(e.loose===!!r.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),Wp("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===Po?this.value="":this.value=this.operator+this.semver.version,Wp("comp",this)}parse(e){let r=this.options.loose?hb[vb.COMPARATORLOOSE]:hb[vb.COMPARATOR],a=e.match(r);if(!a)throw new TypeError(`Invalid comparator: ${e}`);this.operator=a[1]!==void 0?a[1]:"",this.operator==="="&&(this.operator=""),a[2]?this.semver=new gb(a[2],this.options.loose):this.semver=Po}toString(){return this.value}test(e){if(Wp("Comparator.test",e,this.options.loose),this.semver===Po||e===Po)return!0;if(typeof e=="string")try{e=new gb(e,this.options)}catch{return!1}return Gp(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new yb(e.value,r).test(this.value):e.operator===""?e.value===""?!0:new yb(this.value,r).test(e.semver):(r=mb(r),r.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||Gp(this.semver,"<",e.semver,r)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||Gp(this.semver,">",e.semver,r)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};xb.exports=Kp;var mb=Xc(),{safeRe:hb,t:vb}=Qn(),Gp=Bp(),Wp=wo(),gb=Bt(),yb=kr()});var Ro=j((i8,bb)=>{"use strict";var fD=kr(),mD=(t,e,r)=>{try{e=new fD(e,r)}catch{return!1}return e.test(t)};bb.exports=mD});var wb=j((o8,_b)=>{"use strict";var hD=kr(),vD=(t,e)=>new hD(t,e).set.map(r=>r.map(a=>a.value).join(" ").trim().split(" "));_b.exports=vD});var Eb=j((c8,Sb)=>{"use strict";var gD=Bt(),yD=kr(),xD=(t,e,r)=>{let a=null,s=null,i=null;try{i=new yD(e,r)}catch{return null}return t.forEach(n=>{i.test(n)&&(!a||s.compare(n)===-1)&&(a=n,s=new gD(a,r))}),a};Sb.exports=xD});var Rb=j((l8,Pb)=>{"use strict";var bD=Bt(),_D=kr(),wD=(t,e,r)=>{let a=null,s=null,i=null;try{i=new _D(e,r)}catch{return null}return t.forEach(n=>{i.test(n)&&(!a||s.compare(n)===1)&&(a=n,s=new bD(a,r))}),a};Pb.exports=wD});var Ob=j((u8,Tb)=>{"use strict";var Jp=Bt(),SD=kr(),Cb=So(),ED=(t,e)=>{t=new SD(t,e);let r=new Jp("0.0.0");if(t.test(r)||(r=new Jp("0.0.0-0"),t.test(r)))return r;r=null;for(let a=0;a<t.set.length;++a){let s=t.set[a],i=null;s.forEach(n=>{let o=new Jp(n.semver.version);switch(n.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!i||Cb(o,i))&&(i=o);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${n.operator}`)}}),i&&(!r||Cb(r,i))&&(r=i)}return r&&t.test(r)?r:null};Tb.exports=ED});var Ab=j((d8,Ib)=>{"use strict";var PD=kr(),RD=(t,e)=>{try{return new PD(t,e).range||"*"}catch{return null}};Ib.exports=RD});var ul=j((p8,Nb)=>{"use strict";var CD=Bt(),jb=Eo(),{ANY:TD}=jb,OD=kr(),ID=Ro(),kb=So(),Db=nl(),AD=ol(),kD=il(),DD=(t,e,r,a)=>{t=new CD(t,a),e=new OD(e,a);let s,i,n,o,l;switch(r){case">":s=kb,i=AD,n=Db,o=">",l=">=";break;case"<":s=Db,i=kD,n=kb,o="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ID(t,e,a))return!1;for(let c=0;c<e.set.length;++c){let u=e.set[c],d=null,h=null;if(u.forEach(p=>{p.semver===TD&&(p=new jb(">=0.0.0")),d=d||p,h=h||p,s(p.semver,d.semver,a)?d=p:n(p.semver,h.semver,a)&&(h=p)}),d.operator===o||d.operator===l||(!h.operator||h.operator===o)&&i(t,h.semver))return!1;if(h.operator===l&&n(t,h.semver))return!1}return!0};Nb.exports=DD});var Lb=j((f8,$b)=>{"use strict";var jD=ul(),ND=(t,e,r)=>jD(t,e,">",r);$b.exports=ND});var Mb=j((m8,Fb)=>{"use strict";var $D=ul(),LD=(t,e,r)=>$D(t,e,"<",r);Fb.exports=LD});var zb=j((h8,Ub)=>{"use strict";var qb=kr(),FD=(t,e,r)=>(t=new qb(t,r),e=new qb(e,r),t.intersects(e,r));Ub.exports=FD});var Zb=j((v8,Bb)=>{"use strict";var MD=Ro(),qD=Ar();Bb.exports=(t,e,r)=>{let a=[],s=null,i=null,n=t.sort((u,d)=>qD(u,d,r));for(let u of n)MD(u,e,r)?(i=u,s||(s=u)):(i&&a.push([s,i]),i=null,s=null);s&&a.push([s,null]);let o=[];for(let[u,d]of a)u===d?o.push(u):!d&&u===n[0]?o.push("*"):d?u===n[0]?o.push(`<=${d}`):o.push(`${u} - ${d}`):o.push(`>=${u}`);let l=o.join(" || "),c=typeof e.raw=="string"?e.raw:String(e);return l.length<c.length?l:e}});var Jb=j((g8,Kb)=>{"use strict";var Vb=kr(),Yp=Eo(),{ANY:Qp}=Yp,Co=Ro(),Xp=Ar(),UD=(t,e,r={})=>{if(t===e)return!0;t=new Vb(t,r),e=new Vb(e,r);let a=!1;e:for(let s of t.set){for(let i of e.set){let n=BD(s,i,r);if(a=a||n!==null,n)continue e}if(a)return!1}return!0},zD=[new Yp(">=0.0.0-0")],Hb=[new Yp(">=0.0.0")],BD=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===Qp){if(e.length===1&&e[0].semver===Qp)return!0;r.includePrerelease?t=zD:t=Hb}if(e.length===1&&e[0].semver===Qp){if(r.includePrerelease)return!0;e=Hb}let a=new Set,s,i;for(let p of t)p.operator===">"||p.operator===">="?s=Gb(s,p,r):p.operator==="<"||p.operator==="<="?i=Wb(i,p,r):a.add(p.semver);if(a.size>1)return null;let n;if(s&&i){if(n=Xp(s.semver,i.semver,r),n>0)return null;if(n===0&&(s.operator!==">="||i.operator!=="<="))return null}for(let p of a){if(s&&!Co(p,String(s),r)||i&&!Co(p,String(i),r))return null;for(let m of e)if(!Co(p,String(m),r))return!1;return!0}let o,l,c,u,d=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1,h=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1;d&&d.prerelease.length===1&&i.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let p of e){if(u=u||p.operator===">"||p.operator===">=",c=c||p.operator==="<"||p.operator==="<=",s){if(h&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===h.major&&p.semver.minor===h.minor&&p.semver.patch===h.patch&&(h=!1),p.operator===">"||p.operator===">="){if(o=Gb(s,p,r),o===p&&o!==s)return!1}else if(s.operator===">="&&!Co(s.semver,String(p),r))return!1}if(i){if(d&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===d.major&&p.semver.minor===d.minor&&p.semver.patch===d.patch&&(d=!1),p.operator==="<"||p.operator==="<="){if(l=Wb(i,p,r),l===p&&l!==i)return!1}else if(i.operator==="<="&&!Co(i.semver,String(p),r))return!1}if(!p.operator&&(i||s)&&n!==0)return!1}return!(s&&c&&!i&&n!==0||i&&u&&!s&&n!==0||h||d)},Gb=(t,e,r)=>{if(!t)return e;let a=Xp(t.semver,e.semver,r);return a>0?t:a<0||e.operator===">"&&t.operator===">="?e:t},Wb=(t,e,r)=>{if(!t)return e;let a=Xp(t.semver,e.semver,r);return a<0?t:a>0||e.operator==="<"&&t.operator==="<="?e:t};Kb.exports=UD});var tf=j((y8,Xb)=>{"use strict";var ef=Qn(),Qb=_o(),ZD=Bt(),Yb=Mp(),VD=Ns(),HD=Ex(),GD=Rx(),WD=Ox(),KD=kx(),JD=jx(),QD=$x(),YD=Fx(),XD=qx(),ej=Ar(),tj=Zx(),rj=Hx(),aj=sl(),sj=Jx(),nj=Yx(),ij=So(),oj=nl(),cj=Up(),lj=zp(),uj=il(),dj=ol(),pj=Bp(),fj=ob(),mj=Eo(),hj=kr(),vj=Ro(),gj=wb(),yj=Eb(),xj=Rb(),bj=Ob(),_j=Ab(),wj=ul(),Sj=Lb(),Ej=Mb(),Pj=zb(),Rj=Zb(),Cj=Jb();Xb.exports={parse:VD,valid:HD,clean:GD,inc:WD,diff:KD,major:JD,minor:QD,patch:YD,prerelease:XD,compare:ej,rcompare:tj,compareLoose:rj,compareBuild:aj,sort:sj,rsort:nj,gt:ij,lt:oj,eq:cj,neq:lj,gte:uj,lte:dj,cmp:pj,coerce:fj,Comparator:mj,Range:hj,satisfies:vj,toComparators:gj,maxSatisfying:yj,minSatisfying:xj,minVersion:bj,validRange:_j,outside:wj,gtr:Sj,ltr:Ej,intersects:Pj,simplifyRange:Rj,subset:Cj,SemVer:ZD,re:ef.re,src:ef.src,tokens:ef.t,SEMVER_SPEC_VERSION:Qb.SEMVER_SPEC_VERSION,RELEASE_TYPES:Qb.RELEASE_TYPES,compareIdentifiers:Yb.compareIdentifiers,rcompareIdentifiers:Yb.rcompareIdentifiers}});var lw=j(xa=>{"use strict";var nq=xa&&xa.__createBinding||(Object.create?function(t,e,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,a,s)}:function(t,e,r,a){a===void 0&&(a=r),t[a]=e[r]}),iq=xa&&xa.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),oq=xa&&xa.__importStar||function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var a=t(e),s=0;s<a.length;s++)a[s]!=="default"&&nq(r,e,a[s]);return iq(r,e),r}}();Object.defineProperty(xa,"__esModule",{value:!0});xa.TempFileProvider=void 0;var Lr=oq(require("vscode"));function cw(t){return t.includes("\\")?t.startsWith("\\\\")?"/"+t.substring(2).replace(/\\/g,"/"):(/^[a-zA-Z]:/.test(t)&&(t=t.replace(/^([a-zA-Z]):/,(e,r)=>"/"+r.toLowerCase()+":")),t.replace(/\\/g,"/")):t}var Xf=class{uri;contents;type=Lr.FileType.File;ctime;modifiedTime;constructor(e,r){this.uri=e,this.contents=r,this.ctime=this.modifiedTime=Date.now()}get mtime(){return this.modifiedTime}get size(){return this.data.length}get data(){return this.contents}write(e){this.modifiedTime=Date.now(),this.contents=e,this.emitter.fire()}emitter=new Lr.EventEmitter;onDidSave=this.emitter.event},em=class{scheme;documents=new Map;constructor(e){this.scheme=e}createFile(e,r){let a=e;process.platform==="win32"&&(a=cw(e));let s=Lr.Uri.from({scheme:this.scheme,path:a}),i=this.documents.get(s.path);return i?(this.writeFile(s,new TextEncoder().encode(r)),i):(i=new Xf(s,new TextEncoder().encode(r)),this.documents.set(s.path,i),i)}emitter=new Lr.EventEmitter;onDidChangeFile=this.emitter.event;watch(e){return new Lr.Disposable(()=>{})}stat(e){return this.find(e)}find(e){let r=e.path;process.platform==="win32"&&(r=cw(e.path));let a=this.documents.get(r);if(!a)throw Lr.FileSystemError.FileNotFound(e);return a}readDirectory(e){throw Lr.FileSystemError.FileNotFound(e)}readFile(e){let r=this.find(e).data;if(r)return r;throw Lr.FileSystemError.FileNotFound(e)}writeFile(e,r){this.find(e).write(r),this.emitter.fire([{type:Lr.FileChangeType.Changed,uri:e}])}createDirectory(e){throw Lr.FileSystemError.Unavailable()}delete(e){throw Lr.FileSystemError.Unavailable()}rename(e,r,a){throw Lr.FileSystemError.Unavailable()}};xa.TempFileProvider=em});var Fo=j(vt=>{"use strict";Object.defineProperty(vt,"__esModule",{value:!0});vt.getParsedType=vt.ZodParsedType=vt.objectUtil=vt.util=void 0;var tm;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{let i={};for(let n of s)i[n]=n;return i},t.getValidEnumValues=s=>{let i=t.objectKeys(s).filter(o=>typeof s[s[o]]!="number"),n={};for(let o of i)n[o]=s[o];return t.objectValues(n)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{let i=[];for(let n in s)Object.prototype.hasOwnProperty.call(s,n)&&i.push(n);return i},t.find=(s,i)=>{for(let n of s)if(i(n))return n},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function a(s,i=" | "){return s.map(n=>typeof n=="string"?`'${n}'`:n).join(i)}t.joinValues=a,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(tm||(vt.util=tm={}));var uw;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(uw||(vt.objectUtil=uw={}));vt.ZodParsedType=tm.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]);var cq=t=>{switch(typeof t){case"undefined":return vt.ZodParsedType.undefined;case"string":return vt.ZodParsedType.string;case"number":return Number.isNaN(t)?vt.ZodParsedType.nan:vt.ZodParsedType.number;case"boolean":return vt.ZodParsedType.boolean;case"function":return vt.ZodParsedType.function;case"bigint":return vt.ZodParsedType.bigint;case"symbol":return vt.ZodParsedType.symbol;case"object":return Array.isArray(t)?vt.ZodParsedType.array:t===null?vt.ZodParsedType.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?vt.ZodParsedType.promise:typeof Map<"u"&&t instanceof Map?vt.ZodParsedType.map:typeof Set<"u"&&t instanceof Set?vt.ZodParsedType.set:typeof Date<"u"&&t instanceof Date?vt.ZodParsedType.date:vt.ZodParsedType.object;default:return vt.ZodParsedType.unknown}};vt.getParsedType=cq});var $l=j(ms=>{"use strict";Object.defineProperty(ms,"__esModule",{value:!0});ms.ZodError=ms.quotelessJson=ms.ZodIssueCode=void 0;var dw=Fo();ms.ZodIssueCode=dw.util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);var lq=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");ms.quotelessJson=lq;var Mo=class t extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){let r=e||function(i){return i.message},a={_errors:[]},s=i=>{for(let n of i.issues)if(n.code==="invalid_union")n.unionErrors.map(s);else if(n.code==="invalid_return_type")s(n.returnTypeError);else if(n.code==="invalid_arguments")s(n.argumentsError);else if(n.path.length===0)a._errors.push(r(n));else{let o=a,l=0;for(;l<n.path.length;){let c=n.path[l];l===n.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(r(n))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return s(this),a}static assert(e){if(!(e instanceof t))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,dw.util.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){let r={},a=[];for(let s of this.issues)if(s.path.length>0){let i=s.path[0];r[i]=r[i]||[],r[i].push(e(s))}else a.push(e(s));return{formErrors:a,fieldErrors:r}}get formErrors(){return this.flatten()}};ms.ZodError=Mo;Mo.create=t=>new Mo(t)});var am=j(rm=>{"use strict";Object.defineProperty(rm,"__esModule",{value:!0});var Vt=$l(),an=Fo(),uq=(t,e)=>{let r;switch(t.code){case Vt.ZodIssueCode.invalid_type:t.received===an.ZodParsedType.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Vt.ZodIssueCode.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,an.util.jsonStringifyReplacer)}`;break;case Vt.ZodIssueCode.unrecognized_keys:r=`Unrecognized key(s) in object: ${an.util.joinValues(t.keys,", ")}`;break;case Vt.ZodIssueCode.invalid_union:r="Invalid input";break;case Vt.ZodIssueCode.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${an.util.joinValues(t.options)}`;break;case Vt.ZodIssueCode.invalid_enum_value:r=`Invalid enum value. Expected ${an.util.joinValues(t.options)}, received '${t.received}'`;break;case Vt.ZodIssueCode.invalid_arguments:r="Invalid function arguments";break;case Vt.ZodIssueCode.invalid_return_type:r="Invalid function return type";break;case Vt.ZodIssueCode.invalid_date:r="Invalid date";break;case Vt.ZodIssueCode.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:an.util.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Vt.ZodIssueCode.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Vt.ZodIssueCode.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Vt.ZodIssueCode.custom:r="Invalid input";break;case Vt.ZodIssueCode.invalid_intersection_types:r="Intersection results could not be merged";break;case Vt.ZodIssueCode.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Vt.ZodIssueCode.not_finite:r="Number must be finite";break;default:r=e.defaultError,an.util.assertNever(t)}return{message:r}};rm.default=uq});var Ll=j(hs=>{"use strict";var dq=hs&&hs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(hs,"__esModule",{value:!0});hs.defaultErrorMap=void 0;hs.setErrorMap=pq;hs.getErrorMap=fq;var pw=dq(am());hs.defaultErrorMap=pw.default;var fw=pw.default;function pq(t){fw=t}function fq(){return fw}});var nm=j(mt=>{"use strict";var mq=mt&&mt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(mt,"__esModule",{value:!0});mt.isAsync=mt.isValid=mt.isDirty=mt.isAborted=mt.OK=mt.DIRTY=mt.INVALID=mt.ParseStatus=mt.EMPTY_PATH=mt.makeIssue=void 0;mt.addIssueToContext=gq;var hq=Ll(),mw=mq(am()),vq=t=>{let{data:e,path:r,errorMaps:a,issueData:s}=t,i=[...r,...s.path||[]],n={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let o="",l=a.filter(c=>!!c).slice().reverse();for(let c of l)o=c(n,{data:e,defaultError:o}).message;return{...s,path:i,message:o}};mt.makeIssue=vq;mt.EMPTY_PATH=[];function gq(t,e){let r=(0,hq.getErrorMap)(),a=(0,mt.makeIssue)({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===mw.default?void 0:mw.default].filter(s=>!!s)});t.common.issues.push(a)}var sm=class t{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){let a=[];for(let s of r){if(s.status==="aborted")return mt.INVALID;s.status==="dirty"&&e.dirty(),a.push(s.value)}return{status:e.value,value:a}}static async mergeObjectAsync(e,r){let a=[];for(let s of r){let i=await s.key,n=await s.value;a.push({key:i,value:n})}return t.mergeObjectSync(e,a)}static mergeObjectSync(e,r){let a={};for(let s of r){let{key:i,value:n}=s;if(i.status==="aborted"||n.status==="aborted")return mt.INVALID;i.status==="dirty"&&e.dirty(),n.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof n.value<"u"||s.alwaysSet)&&(a[i.value]=n.value)}return{status:e.value,value:a}}};mt.ParseStatus=sm;mt.INVALID=Object.freeze({status:"aborted"});var yq=t=>({status:"dirty",value:t});mt.DIRTY=yq;var xq=t=>({status:"valid",value:t});mt.OK=xq;var bq=t=>t.status==="aborted";mt.isAborted=bq;var _q=t=>t.status==="dirty";mt.isDirty=_q;var wq=t=>t.status==="valid";mt.isValid=wq;var Sq=t=>typeof Promise<"u"&&t instanceof Promise;mt.isAsync=Sq});var vw=j(hw=>{"use strict";Object.defineProperty(hw,"__esModule",{value:!0})});var yw=j(Fl=>{"use strict";Object.defineProperty(Fl,"__esModule",{value:!0});Fl.errorUtil=void 0;var gw;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(gw||(Fl.errorUtil=gw={}))});var Iw=j(V=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});V.discriminatedUnion=V.date=V.boolean=V.bigint=V.array=V.any=V.coerce=V.ZodFirstPartyTypeKind=V.late=V.ZodSchema=V.Schema=V.ZodReadonly=V.ZodPipeline=V.ZodBranded=V.BRAND=V.ZodNaN=V.ZodCatch=V.ZodDefault=V.ZodNullable=V.ZodOptional=V.ZodTransformer=V.ZodEffects=V.ZodPromise=V.ZodNativeEnum=V.ZodEnum=V.ZodLiteral=V.ZodLazy=V.ZodFunction=V.ZodSet=V.ZodMap=V.ZodRecord=V.ZodTuple=V.ZodIntersection=V.ZodDiscriminatedUnion=V.ZodUnion=V.ZodObject=V.ZodArray=V.ZodVoid=V.ZodNever=V.ZodUnknown=V.ZodAny=V.ZodNull=V.ZodUndefined=V.ZodSymbol=V.ZodDate=V.ZodBoolean=V.ZodBigInt=V.ZodNumber=V.ZodString=V.ZodType=void 0;V.NEVER=V.void=V.unknown=V.union=V.undefined=V.tuple=V.transformer=V.symbol=V.string=V.strictObject=V.set=V.record=V.promise=V.preprocess=V.pipeline=V.ostring=V.optional=V.onumber=V.oboolean=V.object=V.number=V.nullable=V.null=V.never=V.nativeEnum=V.nan=V.map=V.literal=V.lazy=V.intersection=V.instanceof=V.function=V.enum=V.effect=void 0;V.datetimeRegex=Sw;V.custom=Pw;var se=$l(),Ml=Ll(),be=yw(),H=nm(),ie=Fo(),Mr=class{constructor(e,r,a,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=a,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},xw=(t,e)=>{if((0,H.isValid)(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new se.ZodError(t.common.issues);return this._error=r,this._error}}};function He(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:a,description:s}=t;if(e&&(r||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(n,o)=>{let{message:l}=t;return n.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??a??o.defaultError}:n.code!=="invalid_type"?{message:o.defaultError}:{message:l??r??o.defaultError}},description:s}}var Ge=class{get description(){return this._def.description}_getType(e){return(0,ie.getParsedType)(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:(0,ie.getParsedType)(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new H.ParseStatus,ctx:{common:e.parent.common,data:e.data,parsedType:(0,ie.getParsedType)(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let r=this._parse(e);if((0,H.isAsync)(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){let r=this._parse(e);return Promise.resolve(r)}parse(e,r){let a=this.safeParse(e,r);if(a.success)return a.data;throw a.error}safeParse(e,r){let a={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,ie.getParsedType)(e)},s=this._parseSync({data:e,path:a.path,parent:a});return xw(a,s)}"~validate"(e){let r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,ie.getParsedType)(e)};if(!this["~standard"].async)try{let a=this._parseSync({data:e,path:[],parent:r});return(0,H.isValid)(a)?{value:a.value}:{issues:r.common.issues}}catch(a){a?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(a=>(0,H.isValid)(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(e,r){let a=await this.safeParseAsync(e,r);if(a.success)return a.data;throw a.error}async safeParseAsync(e,r){let a={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,ie.getParsedType)(e)},s=this._parse({data:e,path:a.path,parent:a}),i=await((0,H.isAsync)(s)?s:Promise.resolve(s));return xw(a,i)}refine(e,r){let a=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{let n=e(s),o=()=>i.addIssue({code:se.ZodIssueCode.custom,...a(s)});return typeof Promise<"u"&&n instanceof Promise?n.then(l=>l?!0:(o(),!1)):n?!0:(o(),!1)})}refinement(e,r){return this._refinement((a,s)=>e(a)?!0:(s.addIssue(typeof r=="function"?r(a,s):r),!1))}_refinement(e){return new br({schema:this,typeName:je.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Fr.create(this,this._def)}nullable(){return _a.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return za.create(this)}promise(){return ys.create(this,this._def)}or(e){return dn.create([this,e],this._def)}and(e){return pn.create(this,e,this._def)}transform(e){return new br({...He(this._def),schema:this,typeName:je.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let r=typeof e=="function"?e:()=>e;return new gn({...He(this._def),innerType:this,defaultValue:r,typeName:je.ZodDefault})}brand(){return new qo({typeName:je.ZodBranded,type:this,...He(this._def)})}catch(e){let r=typeof e=="function"?e:()=>e;return new yn({...He(this._def),innerType:this,catchValue:r,typeName:je.ZodCatch})}describe(e){let r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Uo.create(this,e)}readonly(){return xn.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}};V.ZodType=Ge;V.Schema=Ge;V.ZodSchema=Ge;var Eq=/^c[^\s-]{8,}$/i,Pq=/^[0-9a-z]+$/,Rq=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Cq=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Tq=/^[a-z0-9_-]{21}$/i,Oq=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Iq=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Aq=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,kq="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",im,Dq=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,jq=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Nq=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,$q=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Lq=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Fq=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,_w="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Mq=new RegExp(`^${_w}$`);function ww(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);let r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function qq(t){return new RegExp(`^${ww(t)}$`)}function Sw(t){let e=`${_w}T${ww(t)}`,r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function Uq(t,e){return!!((e==="v4"||!e)&&Dq.test(t)||(e==="v6"||!e)&&Nq.test(t))}function zq(t,e){if(!Oq.test(t))return!1;try{let[r]=t.split(".");if(!r)return!1;let a=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(a));return!(typeof s!="object"||s===null||"typ"in s&&s?.typ!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function Bq(t,e){return!!((e==="v4"||!e)&&jq.test(t)||(e==="v6"||!e)&&$q.test(t))}var vs=class t extends Ge{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ie.ZodParsedType.string){let i=this._getOrReturnCtx(e);return(0,H.addIssueToContext)(i,{code:se.ZodIssueCode.invalid_type,expected:ie.ZodParsedType.string,received:i.parsedType}),H.INVALID}let a=new H.ParseStatus,s;for(let i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),(0,H.addIssueToContext)(s,{code:se.ZodIssueCode.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),a.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),(0,H.addIssueToContext)(s,{code:se.ZodIssueCode.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),a.dirty());else if(i.kind==="length"){let n=e.data.length>i.value,o=e.data.length<i.value;(n||o)&&(s=this._getOrReturnCtx(e,s),n?(0,H.addIssueToContext)(s,{code:se.ZodIssueCode.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&(0,H.addIssueToContext)(s,{code:se.ZodIssueCode.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),a.dirty())}else if(i.kind==="email")Aq.test(e.data)||(s=this._getOrReturnCtx(e,s),(0,H.addIssueToContext)(s,{validation:"email",code:se.ZodIssueCode.invalid_string,message:i.message}),a.dirty());else if(i.kind==="emoji")im||(im=new RegExp(kq,"u")),im.test(e.data)||(s=this._getOrReturnCtx(e,s),(0,H.addIssueToContext)(s,{validation:"emoji",code:se.ZodIssueCode.invalid_string,message:i.message}),a.dirty());else if(i.kind==="uuid")Cq.test(e.data)||(s=this._getOrReturnCtx(e,s),(0,H.addIssueToContext)(s,{validation:"uuid",code:se.ZodIssueCode.invalid_string,message:i.message}),a.dirty());else if(i.kind==="nanoid")Tq.test(e.data)||(s=this._getOrReturnCtx(e,s),(0,H.addIssueToContext)(s,{validation:"nanoid",code:se.ZodIssueCode.invalid_string,message:i.message}),a.dirty());else if(i.kind==="cuid")Eq.test(e.data)||(s=this._getOrReturnCtx(e,s),(0,H.addIssueToContext)(s,{validation:"cuid",code:se.ZodIssueCode.invalid_string,message:i.message}),a.dirty());else if(i.kind==="cuid2")Pq.test(e.data)||(s=this._getOrReturnCtx(e,s),(0,H.addIssueToContext)(s,{validation:"cuid2",code:se.ZodIssueCode.invalid_string,message:i.message}),a.dirty());else if(i.kind==="ulid")Rq.test(e.data)||(s=this._getOrReturnCtx(e,s),(0,H.addIssueToContext)(s,{validation:"ulid",code:se.ZodIssueCode.invalid_string,message:i.message}),a.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),(0,H.addIssueToContext)(s,{validation:"url",code:se.ZodIssueCode.invalid_string,message:i.message}),a.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),(0,H.addIssueToContext)(s,{validation:"regex",code:se.ZodIssueCode.invalid_string,message:i.message}),a.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),(0,H.addIssueToContext)(s,{code:se.ZodIssueCode.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),a.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),(0,H.addIssueToContext)(s,{code:se.ZodIssueCode.invalid_string,validation:{startsWith:i.value},message:i.message}),a.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),(0,H.addIssueToContext)(s,{code:se.ZodIssueCode.invalid_string,validation:{endsWith:i.value},message:i.message}),a.dirty()):i.kind==="datetime"?Sw(i).test(e.data)||(s=this._getOrReturnCtx(e,s),(0,H.addIssueToContext)(s,{code:se.ZodIssueCode.invalid_string,validation:"datetime",message:i.message}),a.dirty()):i.kind==="date"?Mq.test(e.data)||(s=this._getOrReturnCtx(e,s),(0,H.addIssueToContext)(s,{code:se.ZodIssueCode.invalid_string,validation:"date",message:i.message}),a.dirty()):i.kind==="time"?qq(i).test(e.data)||(s=this._getOrReturnCtx(e,s),(0,H.addIssueToContext)(s,{code:se.ZodIssueCode.invalid_string,validation:"time",message:i.message}),a.dirty()):i.kind==="duration"?Iq.test(e.data)||(s=this._getOrReturnCtx(e,s),(0,H.addIssueToContext)(s,{validation:"duration",code:se.ZodIssueCode.invalid_string,message:i.message}),a.dirty()):i.kind==="ip"?Uq(e.data,i.version)||(s=this._getOrReturnCtx(e,s),(0,H.addIssueToContext)(s,{validation:"ip",code:se.ZodIssueCode.invalid_string,message:i.message}),a.dirty()):i.kind==="jwt"?zq(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),(0,H.addIssueToContext)(s,{validation:"jwt",code:se.ZodIssueCode.invalid_string,message:i.message}),a.dirty()):i.kind==="cidr"?Bq(e.data,i.version)||(s=this._getOrReturnCtx(e,s),(0,H.addIssueToContext)(s,{validation:"cidr",code:se.ZodIssueCode.invalid_string,message:i.message}),a.dirty()):i.kind==="base64"?Lq.test(e.data)||(s=this._getOrReturnCtx(e,s),(0,H.addIssueToContext)(s,{validation:"base64",code:se.ZodIssueCode.invalid_string,message:i.message}),a.dirty()):i.kind==="base64url"?Fq.test(e.data)||(s=this._getOrReturnCtx(e,s),(0,H.addIssueToContext)(s,{validation:"base64url",code:se.ZodIssueCode.invalid_string,message:i.message}),a.dirty()):ie.util.assertNever(i);return{status:a.value,value:e.data}}_regex(e,r,a){return this.refinement(s=>e.test(s),{validation:r,code:se.ZodIssueCode.invalid_string,...be.errorUtil.errToObj(a)})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...be.errorUtil.errToObj(e)})}url(e){return this._addCheck({kind:"url",...be.errorUtil.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...be.errorUtil.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...be.errorUtil.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...be.errorUtil.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...be.errorUtil.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...be.errorUtil.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...be.errorUtil.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...be.errorUtil.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...be.errorUtil.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...be.errorUtil.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...be.errorUtil.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...be.errorUtil.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...be.errorUtil.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...be.errorUtil.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...be.errorUtil.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...be.errorUtil.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...be.errorUtil.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...be.errorUtil.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...be.errorUtil.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...be.errorUtil.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...be.errorUtil.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...be.errorUtil.errToObj(r)})}nonempty(e){return this.min(1,be.errorUtil.errToObj(e))}trim(){return new t({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};V.ZodString=vs;vs.create=t=>new vs({checks:[],typeName:je.ZodString,coerce:t?.coerce??!1,...He(t)});function Zq(t,e){let r=(t.toString().split(".")[1]||"").length,a=(e.toString().split(".")[1]||"").length,s=r>a?r:a,i=Number.parseInt(t.toFixed(s).replace(".","")),n=Number.parseInt(e.toFixed(s).replace(".",""));return i%n/10**s}var sn=class t extends Ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ie.ZodParsedType.number){let i=this._getOrReturnCtx(e);return(0,H.addIssueToContext)(i,{code:se.ZodIssueCode.invalid_type,expected:ie.ZodParsedType.number,received:i.parsedType}),H.INVALID}let a,s=new H.ParseStatus;for(let i of this._def.checks)i.kind==="int"?ie.util.isInteger(e.data)||(a=this._getOrReturnCtx(e,a),(0,H.addIssueToContext)(a,{code:se.ZodIssueCode.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(a=this._getOrReturnCtx(e,a),(0,H.addIssueToContext)(a,{code:se.ZodIssueCode.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(a=this._getOrReturnCtx(e,a),(0,H.addIssueToContext)(a,{code:se.ZodIssueCode.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?Zq(e.data,i.value)!==0&&(a=this._getOrReturnCtx(e,a),(0,H.addIssueToContext)(a,{code:se.ZodIssueCode.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(a=this._getOrReturnCtx(e,a),(0,H.addIssueToContext)(a,{code:se.ZodIssueCode.not_finite,message:i.message}),s.dirty()):ie.util.assertNever(i);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,be.errorUtil.toString(r))}gt(e,r){return this.setLimit("min",e,!1,be.errorUtil.toString(r))}lte(e,r){return this.setLimit("max",e,!0,be.errorUtil.toString(r))}lt(e,r){return this.setLimit("max",e,!1,be.errorUtil.toString(r))}setLimit(e,r,a,s){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:a,message:be.errorUtil.toString(s)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:be.errorUtil.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:be.errorUtil.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:be.errorUtil.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:be.errorUtil.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:be.errorUtil.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:be.errorUtil.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:be.errorUtil.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:be.errorUtil.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:be.errorUtil.toString(e)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ie.util.isInteger(e.value))}get isFinite(){let e=null,r=null;for(let a of this._def.checks){if(a.kind==="finite"||a.kind==="int"||a.kind==="multipleOf")return!0;a.kind==="min"?(r===null||a.value>r)&&(r=a.value):a.kind==="max"&&(e===null||a.value<e)&&(e=a.value)}return Number.isFinite(r)&&Number.isFinite(e)}};V.ZodNumber=sn;sn.create=t=>new sn({checks:[],typeName:je.ZodNumber,coerce:t?.coerce||!1,...He(t)});var nn=class t extends Ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ie.ZodParsedType.bigint)return this._getInvalidInput(e);let a,s=new H.ParseStatus;for(let i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(a=this._getOrReturnCtx(e,a),(0,H.addIssueToContext)(a,{code:se.ZodIssueCode.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(a=this._getOrReturnCtx(e,a),(0,H.addIssueToContext)(a,{code:se.ZodIssueCode.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(a=this._getOrReturnCtx(e,a),(0,H.addIssueToContext)(a,{code:se.ZodIssueCode.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):ie.util.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){let r=this._getOrReturnCtx(e);return(0,H.addIssueToContext)(r,{code:se.ZodIssueCode.invalid_type,expected:ie.ZodParsedType.bigint,received:r.parsedType}),H.INVALID}gte(e,r){return this.setLimit("min",e,!0,be.errorUtil.toString(r))}gt(e,r){return this.setLimit("min",e,!1,be.errorUtil.toString(r))}lte(e,r){return this.setLimit("max",e,!0,be.errorUtil.toString(r))}lt(e,r){return this.setLimit("max",e,!1,be.errorUtil.toString(r))}setLimit(e,r,a,s){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:a,message:be.errorUtil.toString(s)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:be.errorUtil.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:be.errorUtil.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:be.errorUtil.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:be.errorUtil.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:be.errorUtil.toString(r)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};V.ZodBigInt=nn;nn.create=t=>new nn({checks:[],typeName:je.ZodBigInt,coerce:t?.coerce??!1,...He(t)});var on=class extends Ge{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ie.ZodParsedType.boolean){let a=this._getOrReturnCtx(e);return(0,H.addIssueToContext)(a,{code:se.ZodIssueCode.invalid_type,expected:ie.ZodParsedType.boolean,received:a.parsedType}),H.INVALID}return(0,H.OK)(e.data)}};V.ZodBoolean=on;on.create=t=>new on({typeName:je.ZodBoolean,coerce:t?.coerce||!1,...He(t)});var cn=class t extends Ge{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ie.ZodParsedType.date){let i=this._getOrReturnCtx(e);return(0,H.addIssueToContext)(i,{code:se.ZodIssueCode.invalid_type,expected:ie.ZodParsedType.date,received:i.parsedType}),H.INVALID}if(Number.isNaN(e.data.getTime())){let i=this._getOrReturnCtx(e);return(0,H.addIssueToContext)(i,{code:se.ZodIssueCode.invalid_date}),H.INVALID}let a=new H.ParseStatus,s;for(let i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),(0,H.addIssueToContext)(s,{code:se.ZodIssueCode.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),a.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),(0,H.addIssueToContext)(s,{code:se.ZodIssueCode.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),a.dirty()):ie.util.assertNever(i);return{status:a.value,value:new Date(e.data.getTime())}}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:be.errorUtil.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:be.errorUtil.toString(r)})}get minDate(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};V.ZodDate=cn;cn.create=t=>new cn({checks:[],coerce:t?.coerce||!1,typeName:je.ZodDate,...He(t)});var bi=class extends Ge{_parse(e){if(this._getType(e)!==ie.ZodParsedType.symbol){let a=this._getOrReturnCtx(e);return(0,H.addIssueToContext)(a,{code:se.ZodIssueCode.invalid_type,expected:ie.ZodParsedType.symbol,received:a.parsedType}),H.INVALID}return(0,H.OK)(e.data)}};V.ZodSymbol=bi;bi.create=t=>new bi({typeName:je.ZodSymbol,...He(t)});var ln=class extends Ge{_parse(e){if(this._getType(e)!==ie.ZodParsedType.undefined){let a=this._getOrReturnCtx(e);return(0,H.addIssueToContext)(a,{code:se.ZodIssueCode.invalid_type,expected:ie.ZodParsedType.undefined,received:a.parsedType}),H.INVALID}return(0,H.OK)(e.data)}};V.ZodUndefined=ln;ln.create=t=>new ln({typeName:je.ZodUndefined,...He(t)});var un=class extends Ge{_parse(e){if(this._getType(e)!==ie.ZodParsedType.null){let a=this._getOrReturnCtx(e);return(0,H.addIssueToContext)(a,{code:se.ZodIssueCode.invalid_type,expected:ie.ZodParsedType.null,received:a.parsedType}),H.INVALID}return(0,H.OK)(e.data)}};V.ZodNull=un;un.create=t=>new un({typeName:je.ZodNull,...He(t)});var gs=class extends Ge{constructor(){super(...arguments),this._any=!0}_parse(e){return(0,H.OK)(e.data)}};V.ZodAny=gs;gs.create=t=>new gs({typeName:je.ZodAny,...He(t)});var Ua=class extends Ge{constructor(){super(...arguments),this._unknown=!0}_parse(e){return(0,H.OK)(e.data)}};V.ZodUnknown=Ua;Ua.create=t=>new Ua({typeName:je.ZodUnknown,...He(t)});var ra=class extends Ge{_parse(e){let r=this._getOrReturnCtx(e);return(0,H.addIssueToContext)(r,{code:se.ZodIssueCode.invalid_type,expected:ie.ZodParsedType.never,received:r.parsedType}),H.INVALID}};V.ZodNever=ra;ra.create=t=>new ra({typeName:je.ZodNever,...He(t)});var _i=class extends Ge{_parse(e){if(this._getType(e)!==ie.ZodParsedType.undefined){let a=this._getOrReturnCtx(e);return(0,H.addIssueToContext)(a,{code:se.ZodIssueCode.invalid_type,expected:ie.ZodParsedType.void,received:a.parsedType}),H.INVALID}return(0,H.OK)(e.data)}};V.ZodVoid=_i;_i.create=t=>new _i({typeName:je.ZodVoid,...He(t)});var za=class t extends Ge{_parse(e){let{ctx:r,status:a}=this._processInputParams(e),s=this._def;if(r.parsedType!==ie.ZodParsedType.array)return(0,H.addIssueToContext)(r,{code:se.ZodIssueCode.invalid_type,expected:ie.ZodParsedType.array,received:r.parsedType}),H.INVALID;if(s.exactLength!==null){let n=r.data.length>s.exactLength.value,o=r.data.length<s.exactLength.value;(n||o)&&((0,H.addIssueToContext)(r,{code:n?se.ZodIssueCode.too_big:se.ZodIssueCode.too_small,minimum:o?s.exactLength.value:void 0,maximum:n?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),a.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&((0,H.addIssueToContext)(r,{code:se.ZodIssueCode.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),a.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&((0,H.addIssueToContext)(r,{code:se.ZodIssueCode.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),a.dirty()),r.common.async)return Promise.all([...r.data].map((n,o)=>s.type._parseAsync(new Mr(r,n,r.path,o)))).then(n=>H.ParseStatus.mergeArray(a,n));let i=[...r.data].map((n,o)=>s.type._parseSync(new Mr(r,n,r.path,o)));return H.ParseStatus.mergeArray(a,i)}get element(){return this._def.type}min(e,r){return new t({...this._def,minLength:{value:e,message:be.errorUtil.toString(r)}})}max(e,r){return new t({...this._def,maxLength:{value:e,message:be.errorUtil.toString(r)}})}length(e,r){return new t({...this._def,exactLength:{value:e,message:be.errorUtil.toString(r)}})}nonempty(e){return this.min(1,e)}};V.ZodArray=za;za.create=(t,e)=>new za({type:t,minLength:null,maxLength:null,exactLength:null,typeName:je.ZodArray,...He(e)});function xi(t){if(t instanceof nr){let e={};for(let r in t.shape){let a=t.shape[r];e[r]=Fr.create(xi(a))}return new nr({...t._def,shape:()=>e})}else return t instanceof za?new za({...t._def,type:xi(t.element)}):t instanceof Fr?Fr.create(xi(t.unwrap())):t instanceof _a?_a.create(xi(t.unwrap())):t instanceof ba?ba.create(t.items.map(e=>xi(e))):t}var nr=class t extends Ge{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),r=ie.util.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==ie.ZodParsedType.object){let c=this._getOrReturnCtx(e);return(0,H.addIssueToContext)(c,{code:se.ZodIssueCode.invalid_type,expected:ie.ZodParsedType.object,received:c.parsedType}),H.INVALID}let{status:a,ctx:s}=this._processInputParams(e),{shape:i,keys:n}=this._getCached(),o=[];if(!(this._def.catchall instanceof ra&&this._def.unknownKeys==="strip"))for(let c in s.data)n.includes(c)||o.push(c);let l=[];for(let c of n){let u=i[c],d=s.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new Mr(s,d,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof ra){let c=this._def.unknownKeys;if(c==="passthrough")for(let u of o)l.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(c==="strict")o.length>0&&((0,H.addIssueToContext)(s,{code:se.ZodIssueCode.unrecognized_keys,keys:o}),a.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let c=this._def.catchall;for(let u of o){let d=s.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new Mr(s,d,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{let c=[];for(let u of l){let d=await u.key,h=await u.value;c.push({key:d,value:h,alwaysSet:u.alwaysSet})}return c}).then(c=>H.ParseStatus.mergeObjectSync(a,c)):H.ParseStatus.mergeObjectSync(a,l)}get shape(){return this._def.shape()}strict(e){return be.errorUtil.errToObj,new t({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,a)=>{let s=this._def.errorMap?.(r,a).message??a.defaultError;return r.code==="unrecognized_keys"?{message:be.errorUtil.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new t({...this._def,unknownKeys:"strip"})}passthrough(){return new t({...this._def,unknownKeys:"passthrough"})}extend(e){return new t({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:je.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new t({...this._def,catchall:e})}pick(e){let r={};for(let a of ie.util.objectKeys(e))e[a]&&this.shape[a]&&(r[a]=this.shape[a]);return new t({...this._def,shape:()=>r})}omit(e){let r={};for(let a of ie.util.objectKeys(this.shape))e[a]||(r[a]=this.shape[a]);return new t({...this._def,shape:()=>r})}deepPartial(){return xi(this)}partial(e){let r={};for(let a of ie.util.objectKeys(this.shape)){let s=this.shape[a];e&&!e[a]?r[a]=s:r[a]=s.optional()}return new t({...this._def,shape:()=>r})}required(e){let r={};for(let a of ie.util.objectKeys(this.shape))if(e&&!e[a])r[a]=this.shape[a];else{let i=this.shape[a];for(;i instanceof Fr;)i=i._def.innerType;r[a]=i}return new t({...this._def,shape:()=>r})}keyof(){return Ew(ie.util.objectKeys(this.shape))}};V.ZodObject=nr;nr.create=(t,e)=>new nr({shape:()=>t,unknownKeys:"strip",catchall:ra.create(),typeName:je.ZodObject,...He(e)});nr.strictCreate=(t,e)=>new nr({shape:()=>t,unknownKeys:"strict",catchall:ra.create(),typeName:je.ZodObject,...He(e)});nr.lazycreate=(t,e)=>new nr({shape:t,unknownKeys:"strip",catchall:ra.create(),typeName:je.ZodObject,...He(e)});var dn=class extends Ge{_parse(e){let{ctx:r}=this._processInputParams(e),a=this._def.options;function s(i){for(let o of i)if(o.result.status==="valid")return o.result;for(let o of i)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;let n=i.map(o=>new se.ZodError(o.ctx.common.issues));return(0,H.addIssueToContext)(r,{code:se.ZodIssueCode.invalid_union,unionErrors:n}),H.INVALID}if(r.common.async)return Promise.all(a.map(async i=>{let n={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:n}),ctx:n}})).then(s);{let i,n=[];for(let l of a){let c={...r,common:{...r.common,issues:[]},parent:null},u=l._parseSync({data:r.data,path:r.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:c}),c.common.issues.length&&n.push(c.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;let o=n.map(l=>new se.ZodError(l));return(0,H.addIssueToContext)(r,{code:se.ZodIssueCode.invalid_union,unionErrors:o}),H.INVALID}}get options(){return this._def.options}};V.ZodUnion=dn;dn.create=(t,e)=>new dn({options:t,typeName:je.ZodUnion,...He(e)});var qa=t=>t instanceof fn?qa(t.schema):t instanceof br?qa(t.innerType()):t instanceof mn?[t.value]:t instanceof hn?t.options:t instanceof vn?ie.util.objectValues(t.enum):t instanceof gn?qa(t._def.innerType):t instanceof ln?[void 0]:t instanceof un?[null]:t instanceof Fr?[void 0,...qa(t.unwrap())]:t instanceof _a?[null,...qa(t.unwrap())]:t instanceof qo||t instanceof xn?qa(t.unwrap()):t instanceof yn?qa(t._def.innerType):[],ql=class t extends Ge{_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==ie.ZodParsedType.object)return(0,H.addIssueToContext)(r,{code:se.ZodIssueCode.invalid_type,expected:ie.ZodParsedType.object,received:r.parsedType}),H.INVALID;let a=this.discriminator,s=r.data[a],i=this.optionsMap.get(s);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):((0,H.addIssueToContext)(r,{code:se.ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[a]}),H.INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,a){let s=new Map;for(let i of r){let n=qa(i.shape[e]);if(!n.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let o of n){if(s.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);s.set(o,i)}}return new t({typeName:je.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:s,...He(a)})}};V.ZodDiscriminatedUnion=ql;function om(t,e){let r=(0,ie.getParsedType)(t),a=(0,ie.getParsedType)(e);if(t===e)return{valid:!0,data:t};if(r===ie.ZodParsedType.object&&a===ie.ZodParsedType.object){let s=ie.util.objectKeys(e),i=ie.util.objectKeys(t).filter(o=>s.indexOf(o)!==-1),n={...t,...e};for(let o of i){let l=om(t[o],e[o]);if(!l.valid)return{valid:!1};n[o]=l.data}return{valid:!0,data:n}}else if(r===ie.ZodParsedType.array&&a===ie.ZodParsedType.array){if(t.length!==e.length)return{valid:!1};let s=[];for(let i=0;i<t.length;i++){let n=t[i],o=e[i],l=om(n,o);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return r===ie.ZodParsedType.date&&a===ie.ZodParsedType.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var pn=class extends Ge{_parse(e){let{status:r,ctx:a}=this._processInputParams(e),s=(i,n)=>{if((0,H.isAborted)(i)||(0,H.isAborted)(n))return H.INVALID;let o=om(i.value,n.value);return o.valid?(((0,H.isDirty)(i)||(0,H.isDirty)(n))&&r.dirty(),{status:r.value,value:o.data}):((0,H.addIssueToContext)(a,{code:se.ZodIssueCode.invalid_intersection_types}),H.INVALID)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([i,n])=>s(i,n)):s(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}};V.ZodIntersection=pn;pn.create=(t,e,r)=>new pn({left:t,right:e,typeName:je.ZodIntersection,...He(r)});var ba=class t extends Ge{_parse(e){let{status:r,ctx:a}=this._processInputParams(e);if(a.parsedType!==ie.ZodParsedType.array)return(0,H.addIssueToContext)(a,{code:se.ZodIssueCode.invalid_type,expected:ie.ZodParsedType.array,received:a.parsedType}),H.INVALID;if(a.data.length<this._def.items.length)return(0,H.addIssueToContext)(a,{code:se.ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),H.INVALID;!this._def.rest&&a.data.length>this._def.items.length&&((0,H.addIssueToContext)(a,{code:se.ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let i=[...a.data].map((n,o)=>{let l=this._def.items[o]||this._def.rest;return l?l._parse(new Mr(a,n,a.path,o)):null}).filter(n=>!!n);return a.common.async?Promise.all(i).then(n=>H.ParseStatus.mergeArray(r,n)):H.ParseStatus.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new t({...this._def,rest:e})}};V.ZodTuple=ba;ba.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ba({items:t,typeName:je.ZodTuple,rest:null,...He(e)})};var Ul=class t extends Ge{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:a}=this._processInputParams(e);if(a.parsedType!==ie.ZodParsedType.object)return(0,H.addIssueToContext)(a,{code:se.ZodIssueCode.invalid_type,expected:ie.ZodParsedType.object,received:a.parsedType}),H.INVALID;let s=[],i=this._def.keyType,n=this._def.valueType;for(let o in a.data)s.push({key:i._parse(new Mr(a,o,a.path,o)),value:n._parse(new Mr(a,a.data[o],a.path,o)),alwaysSet:o in a.data});return a.common.async?H.ParseStatus.mergeObjectAsync(r,s):H.ParseStatus.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(e,r,a){return r instanceof Ge?new t({keyType:e,valueType:r,typeName:je.ZodRecord,...He(a)}):new t({keyType:vs.create(),valueType:e,typeName:je.ZodRecord,...He(r)})}};V.ZodRecord=Ul;var wi=class extends Ge{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:a}=this._processInputParams(e);if(a.parsedType!==ie.ZodParsedType.map)return(0,H.addIssueToContext)(a,{code:se.ZodIssueCode.invalid_type,expected:ie.ZodParsedType.map,received:a.parsedType}),H.INVALID;let s=this._def.keyType,i=this._def.valueType,n=[...a.data.entries()].map(([o,l],c)=>({key:s._parse(new Mr(a,o,a.path,[c,"key"])),value:i._parse(new Mr(a,l,a.path,[c,"value"]))}));if(a.common.async){let o=new Map;return Promise.resolve().then(async()=>{for(let l of n){let c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return H.INVALID;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(c.value,u.value)}return{status:r.value,value:o}})}else{let o=new Map;for(let l of n){let c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return H.INVALID;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(c.value,u.value)}return{status:r.value,value:o}}}};V.ZodMap=wi;wi.create=(t,e,r)=>new wi({valueType:e,keyType:t,typeName:je.ZodMap,...He(r)});var Si=class t extends Ge{_parse(e){let{status:r,ctx:a}=this._processInputParams(e);if(a.parsedType!==ie.ZodParsedType.set)return(0,H.addIssueToContext)(a,{code:se.ZodIssueCode.invalid_type,expected:ie.ZodParsedType.set,received:a.parsedType}),H.INVALID;let s=this._def;s.minSize!==null&&a.data.size<s.minSize.value&&((0,H.addIssueToContext)(a,{code:se.ZodIssueCode.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&a.data.size>s.maxSize.value&&((0,H.addIssueToContext)(a,{code:se.ZodIssueCode.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());let i=this._def.valueType;function n(l){let c=new Set;for(let u of l){if(u.status==="aborted")return H.INVALID;u.status==="dirty"&&r.dirty(),c.add(u.value)}return{status:r.value,value:c}}let o=[...a.data.values()].map((l,c)=>i._parse(new Mr(a,l,a.path,c)));return a.common.async?Promise.all(o).then(l=>n(l)):n(o)}min(e,r){return new t({...this._def,minSize:{value:e,message:be.errorUtil.toString(r)}})}max(e,r){return new t({...this._def,maxSize:{value:e,message:be.errorUtil.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};V.ZodSet=Si;Si.create=(t,e)=>new Si({valueType:t,minSize:null,maxSize:null,typeName:je.ZodSet,...He(e)});var zl=class t extends Ge{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==ie.ZodParsedType.function)return(0,H.addIssueToContext)(r,{code:se.ZodIssueCode.invalid_type,expected:ie.ZodParsedType.function,received:r.parsedType}),H.INVALID;function a(o,l){return(0,H.makeIssue)({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,(0,Ml.getErrorMap)(),Ml.defaultErrorMap].filter(c=>!!c),issueData:{code:se.ZodIssueCode.invalid_arguments,argumentsError:l}})}function s(o,l){return(0,H.makeIssue)({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,(0,Ml.getErrorMap)(),Ml.defaultErrorMap].filter(c=>!!c),issueData:{code:se.ZodIssueCode.invalid_return_type,returnTypeError:l}})}let i={errorMap:r.common.contextualErrorMap},n=r.data;if(this._def.returns instanceof ys){let o=this;return(0,H.OK)(async function(...l){let c=new se.ZodError([]),u=await o._def.args.parseAsync(l,i).catch(p=>{throw c.addIssue(a(l,p)),c}),d=await Reflect.apply(n,this,u);return await o._def.returns._def.type.parseAsync(d,i).catch(p=>{throw c.addIssue(s(d,p)),c})})}else{let o=this;return(0,H.OK)(function(...l){let c=o._def.args.safeParse(l,i);if(!c.success)throw new se.ZodError([a(l,c.error)]);let u=Reflect.apply(n,this,c.data),d=o._def.returns.safeParse(u,i);if(!d.success)throw new se.ZodError([s(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new t({...this._def,args:ba.create(e).rest(Ua.create())})}returns(e){return new t({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,a){return new t({args:e||ba.create([]).rest(Ua.create()),returns:r||Ua.create(),typeName:je.ZodFunction,...He(a)})}};V.ZodFunction=zl;var fn=class extends Ge{get schema(){return this._def.getter()}_parse(e){let{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};V.ZodLazy=fn;fn.create=(t,e)=>new fn({getter:t,typeName:je.ZodLazy,...He(e)});var mn=class extends Ge{_parse(e){if(e.data!==this._def.value){let r=this._getOrReturnCtx(e);return(0,H.addIssueToContext)(r,{received:r.data,code:se.ZodIssueCode.invalid_literal,expected:this._def.value}),H.INVALID}return{status:"valid",value:e.data}}get value(){return this._def.value}};V.ZodLiteral=mn;mn.create=(t,e)=>new mn({value:t,typeName:je.ZodLiteral,...He(e)});function Ew(t,e){return new hn({values:t,typeName:je.ZodEnum,...He(e)})}var hn=class t extends Ge{_parse(e){if(typeof e.data!="string"){let r=this._getOrReturnCtx(e),a=this._def.values;return(0,H.addIssueToContext)(r,{expected:ie.util.joinValues(a),received:r.parsedType,code:se.ZodIssueCode.invalid_type}),H.INVALID}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let r=this._getOrReturnCtx(e),a=this._def.values;return(0,H.addIssueToContext)(r,{received:r.data,code:se.ZodIssueCode.invalid_enum_value,options:a}),H.INVALID}return(0,H.OK)(e.data)}get options(){return this._def.values}get enum(){let e={};for(let r of this._def.values)e[r]=r;return e}get Values(){let e={};for(let r of this._def.values)e[r]=r;return e}get Enum(){let e={};for(let r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return t.create(e,{...this._def,...r})}exclude(e,r=this._def){return t.create(this.options.filter(a=>!e.includes(a)),{...this._def,...r})}};V.ZodEnum=hn;hn.create=Ew;var vn=class extends Ge{_parse(e){let r=ie.util.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(e);if(a.parsedType!==ie.ZodParsedType.string&&a.parsedType!==ie.ZodParsedType.number){let s=ie.util.objectValues(r);return(0,H.addIssueToContext)(a,{expected:ie.util.joinValues(s),received:a.parsedType,code:se.ZodIssueCode.invalid_type}),H.INVALID}if(this._cache||(this._cache=new Set(ie.util.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let s=ie.util.objectValues(r);return(0,H.addIssueToContext)(a,{received:a.data,code:se.ZodIssueCode.invalid_enum_value,options:s}),H.INVALID}return(0,H.OK)(e.data)}get enum(){return this._def.values}};V.ZodNativeEnum=vn;vn.create=(t,e)=>new vn({values:t,typeName:je.ZodNativeEnum,...He(e)});var ys=class extends Ge{unwrap(){return this._def.type}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==ie.ZodParsedType.promise&&r.common.async===!1)return(0,H.addIssueToContext)(r,{code:se.ZodIssueCode.invalid_type,expected:ie.ZodParsedType.promise,received:r.parsedType}),H.INVALID;let a=r.parsedType===ie.ZodParsedType.promise?r.data:Promise.resolve(r.data);return(0,H.OK)(a.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}};V.ZodPromise=ys;ys.create=(t,e)=>new ys({type:t,typeName:je.ZodPromise,...He(e)});var br=class extends Ge{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===je.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:r,ctx:a}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:n=>{(0,H.addIssueToContext)(a,n),n.fatal?r.abort():r.dirty()},get path(){return a.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){let n=s.transform(a.data,i);if(a.common.async)return Promise.resolve(n).then(async o=>{if(r.value==="aborted")return H.INVALID;let l=await this._def.schema._parseAsync({data:o,path:a.path,parent:a});return l.status==="aborted"?H.INVALID:l.status==="dirty"||r.value==="dirty"?(0,H.DIRTY)(l.value):l});{if(r.value==="aborted")return H.INVALID;let o=this._def.schema._parseSync({data:n,path:a.path,parent:a});return o.status==="aborted"?H.INVALID:o.status==="dirty"||r.value==="dirty"?(0,H.DIRTY)(o.value):o}}if(s.type==="refinement"){let n=o=>{let l=s.refinement(o,i);if(a.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(a.common.async===!1){let o=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return o.status==="aborted"?H.INVALID:(o.status==="dirty"&&r.dirty(),n(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(o=>o.status==="aborted"?H.INVALID:(o.status==="dirty"&&r.dirty(),n(o.value).then(()=>({status:r.value,value:o.value}))))}if(s.type==="transform")if(a.common.async===!1){let n=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!(0,H.isValid)(n))return H.INVALID;let o=s.transform(n.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(n=>(0,H.isValid)(n)?Promise.resolve(s.transform(n.value,i)).then(o=>({status:r.value,value:o})):H.INVALID);ie.util.assertNever(s)}};V.ZodEffects=br;V.ZodTransformer=br;br.create=(t,e,r)=>new br({schema:t,typeName:je.ZodEffects,effect:e,...He(r)});br.createWithPreprocess=(t,e,r)=>new br({schema:e,effect:{type:"preprocess",transform:t},typeName:je.ZodEffects,...He(r)});var Fr=class extends Ge{_parse(e){return this._getType(e)===ie.ZodParsedType.undefined?(0,H.OK)(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};V.ZodOptional=Fr;Fr.create=(t,e)=>new Fr({innerType:t,typeName:je.ZodOptional,...He(e)});var _a=class extends Ge{_parse(e){return this._getType(e)===ie.ZodParsedType.null?(0,H.OK)(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};V.ZodNullable=_a;_a.create=(t,e)=>new _a({innerType:t,typeName:je.ZodNullable,...He(e)});var gn=class extends Ge{_parse(e){let{ctx:r}=this._processInputParams(e),a=r.data;return r.parsedType===ie.ZodParsedType.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};V.ZodDefault=gn;gn.create=(t,e)=>new gn({innerType:t,typeName:je.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...He(e)});var yn=class extends Ge{_parse(e){let{ctx:r}=this._processInputParams(e),a={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return(0,H.isAsync)(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new se.ZodError(a.common.issues)},input:a.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new se.ZodError(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}};V.ZodCatch=yn;yn.create=(t,e)=>new yn({innerType:t,typeName:je.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...He(e)});var Ei=class extends Ge{_parse(e){if(this._getType(e)!==ie.ZodParsedType.nan){let a=this._getOrReturnCtx(e);return(0,H.addIssueToContext)(a,{code:se.ZodIssueCode.invalid_type,expected:ie.ZodParsedType.nan,received:a.parsedType}),H.INVALID}return{status:"valid",value:e.data}}};V.ZodNaN=Ei;Ei.create=t=>new Ei({typeName:je.ZodNaN,...He(t)});V.BRAND=Symbol("zod_brand");var qo=class extends Ge{_parse(e){let{ctx:r}=this._processInputParams(e),a=r.data;return this._def.type._parse({data:a,path:r.path,parent:r})}unwrap(){return this._def.type}};V.ZodBranded=qo;var Uo=class t extends Ge{_parse(e){let{status:r,ctx:a}=this._processInputParams(e);if(a.common.async)return(async()=>{let i=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return i.status==="aborted"?H.INVALID:i.status==="dirty"?(r.dirty(),(0,H.DIRTY)(i.value)):this._def.out._parseAsync({data:i.value,path:a.path,parent:a})})();{let s=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return s.status==="aborted"?H.INVALID:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:a.path,parent:a})}}static create(e,r){return new t({in:e,out:r,typeName:je.ZodPipeline})}};V.ZodPipeline=Uo;var xn=class extends Ge{_parse(e){let r=this._def.innerType._parse(e),a=s=>((0,H.isValid)(s)&&(s.value=Object.freeze(s.value)),s);return(0,H.isAsync)(r)?r.then(s=>a(s)):a(r)}unwrap(){return this._def.innerType}};V.ZodReadonly=xn;xn.create=(t,e)=>new xn({innerType:t,typeName:je.ZodReadonly,...He(e)});function bw(t,e){let r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function Pw(t,e={},r){return t?gs.create().superRefine((a,s)=>{let i=t(a);if(i instanceof Promise)return i.then(n=>{if(!n){let o=bw(e,a),l=o.fatal??r??!0;s.addIssue({code:"custom",...o,fatal:l})}});if(!i){let n=bw(e,a),o=n.fatal??r??!0;s.addIssue({code:"custom",...n,fatal:o})}}):gs.create()}V.late={object:nr.lazycreate};var je;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(je||(V.ZodFirstPartyTypeKind=je={}));var Vq=(t,e={message:`Input not instance of ${t.name}`})=>Pw(r=>r instanceof t,e);V.instanceof=Vq;var Rw=vs.create;V.string=Rw;var Cw=sn.create;V.number=Cw;var Hq=Ei.create;V.nan=Hq;var Gq=nn.create;V.bigint=Gq;var Tw=on.create;V.boolean=Tw;var Wq=cn.create;V.date=Wq;var Kq=bi.create;V.symbol=Kq;var Jq=ln.create;V.undefined=Jq;var Qq=un.create;V.null=Qq;var Yq=gs.create;V.any=Yq;var Xq=Ua.create;V.unknown=Xq;var eU=ra.create;V.never=eU;var tU=_i.create;V.void=tU;var rU=za.create;V.array=rU;var aU=nr.create;V.object=aU;var sU=nr.strictCreate;V.strictObject=sU;var nU=dn.create;V.union=nU;var iU=ql.create;V.discriminatedUnion=iU;var oU=pn.create;V.intersection=oU;var cU=ba.create;V.tuple=cU;var lU=Ul.create;V.record=lU;var uU=wi.create;V.map=uU;var dU=Si.create;V.set=dU;var pU=zl.create;V.function=pU;var fU=fn.create;V.lazy=fU;var mU=mn.create;V.literal=mU;var hU=hn.create;V.enum=hU;var vU=vn.create;V.nativeEnum=vU;var gU=ys.create;V.promise=gU;var Ow=br.create;V.effect=Ow;V.transformer=Ow;var yU=Fr.create;V.optional=yU;var xU=_a.create;V.nullable=xU;var bU=br.createWithPreprocess;V.preprocess=bU;var _U=Uo.create;V.pipeline=_U;var wU=()=>Rw().optional();V.ostring=wU;var SU=()=>Cw().optional();V.onumber=SU;var EU=()=>Tw().optional();V.oboolean=EU;V.coerce={string:t=>vs.create({...t,coerce:!0}),number:t=>sn.create({...t,coerce:!0}),boolean:t=>on.create({...t,coerce:!0}),bigint:t=>nn.create({...t,coerce:!0}),date:t=>cn.create({...t,coerce:!0})};V.NEVER=H.INVALID});var cm=j(qr=>{"use strict";var PU=qr&&qr.__createBinding||(Object.create?function(t,e,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,a,s)}:function(t,e,r,a){a===void 0&&(a=r),t[a]=e[r]}),Pi=qr&&qr.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&PU(e,t,r)};Object.defineProperty(qr,"__esModule",{value:!0});Pi(Ll(),qr);Pi(nm(),qr);Pi(vw(),qr);Pi(Fo(),qr);Pi(Iw(),qr);Pi($l(),qr)});var Ba=j(ir=>{"use strict";var Aw=ir&&ir.__createBinding||(Object.create?function(t,e,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,a,s)}:function(t,e,r,a){a===void 0&&(a=r),t[a]=e[r]}),RU=ir&&ir.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),CU=ir&&ir.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Aw(e,t,r);return RU(e,t),e},TU=ir&&ir.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Aw(e,t,r)};Object.defineProperty(ir,"__esModule",{value:!0});ir.z=void 0;var kw=CU(cm());ir.z=kw;TU(cm(),ir);ir.default=kw});var Bo=j(_=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0});_.UnsubscribeRequestSchema=_.SubscribeRequestSchema=_.ResourceListChangedNotificationSchema=_.ReadResourceResultSchema=_.ReadResourceRequestSchema=_.ListResourceTemplatesResultSchema=_.ListResourceTemplatesRequestSchema=_.ListResourcesResultSchema=_.ListResourcesRequestSchema=_.ResourceTemplateSchema=_.ResourceSchema=_.BlobResourceContentsSchema=_.TextResourceContentsSchema=_.ResourceContentsSchema=_.PaginatedResultSchema=_.PaginatedRequestSchema=_.ProgressNotificationSchema=_.ProgressSchema=_.PingRequestSchema=_.isInitializedNotification=_.InitializedNotificationSchema=_.InitializeResultSchema=_.ServerCapabilitiesSchema=_.isInitializeRequest=_.InitializeRequestSchema=_.ClientCapabilitiesSchema=_.ImplementationSchema=_.BaseMetadataSchema=_.CancelledNotificationSchema=_.EmptyResultSchema=_.JSONRPCMessageSchema=_.isJSONRPCError=_.JSONRPCErrorSchema=_.ErrorCode=_.isJSONRPCResponse=_.JSONRPCResponseSchema=_.isJSONRPCNotification=_.JSONRPCNotificationSchema=_.isJSONRPCRequest=_.JSONRPCRequestSchema=_.RequestIdSchema=_.ResultSchema=_.NotificationSchema=_.RequestSchema=_.CursorSchema=_.ProgressTokenSchema=_.JSONRPC_VERSION=_.SUPPORTED_PROTOCOL_VERSIONS=_.DEFAULT_NEGOTIATED_PROTOCOL_VERSION=_.LATEST_PROTOCOL_VERSION=void 0;_.ClientResultSchema=_.ClientNotificationSchema=_.ClientRequestSchema=_.RootsListChangedNotificationSchema=_.ListRootsResultSchema=_.ListRootsRequestSchema=_.RootSchema=_.CompleteResultSchema=_.CompleteRequestSchema=_.PromptReferenceSchema=_.ResourceReferenceSchema=_.ResourceTemplateReferenceSchema=_.ElicitResultSchema=_.ElicitRequestSchema=_.PrimitiveSchemaDefinitionSchema=_.EnumSchemaSchema=_.NumberSchemaSchema=_.StringSchemaSchema=_.BooleanSchemaSchema=_.CreateMessageResultSchema=_.CreateMessageRequestSchema=_.SamplingMessageSchema=_.ModelPreferencesSchema=_.ModelHintSchema=_.LoggingMessageNotificationSchema=_.SetLevelRequestSchema=_.LoggingLevelSchema=_.ToolListChangedNotificationSchema=_.CallToolRequestSchema=_.CompatibilityCallToolResultSchema=_.CallToolResultSchema=_.ListToolsResultSchema=_.ListToolsRequestSchema=_.ToolSchema=_.ToolAnnotationsSchema=_.PromptListChangedNotificationSchema=_.GetPromptResultSchema=_.PromptMessageSchema=_.ContentBlockSchema=_.ResourceLinkSchema=_.EmbeddedResourceSchema=_.AudioContentSchema=_.ImageContentSchema=_.TextContentSchema=_.GetPromptRequestSchema=_.ListPromptsResultSchema=_.ListPromptsRequestSchema=_.PromptSchema=_.PromptArgumentSchema=_.ResourceUpdatedNotificationSchema=void 0;_.McpError=_.ServerResultSchema=_.ServerNotificationSchema=_.ServerRequestSchema=void 0;var E=Ba();_.LATEST_PROTOCOL_VERSION="2025-06-18";_.DEFAULT_NEGOTIATED_PROTOCOL_VERSION="2025-03-26";_.SUPPORTED_PROTOCOL_VERSIONS=[_.LATEST_PROTOCOL_VERSION,"2025-03-26","2024-11-05","2024-10-07"];_.JSONRPC_VERSION="2.0";_.ProgressTokenSchema=E.z.union([E.z.string(),E.z.number().int()]);_.CursorSchema=E.z.string();var OU=E.z.object({progressToken:E.z.optional(_.ProgressTokenSchema)}).passthrough(),Ur=E.z.object({_meta:E.z.optional(OU)}).passthrough();_.RequestSchema=E.z.object({method:E.z.string(),params:E.z.optional(Ur)});var zo=E.z.object({_meta:E.z.optional(E.z.object({}).passthrough())}).passthrough();_.NotificationSchema=E.z.object({method:E.z.string(),params:E.z.optional(zo)});_.ResultSchema=E.z.object({_meta:E.z.optional(E.z.object({}).passthrough())}).passthrough();_.RequestIdSchema=E.z.union([E.z.string(),E.z.number().int()]);_.JSONRPCRequestSchema=E.z.object({jsonrpc:E.z.literal(_.JSONRPC_VERSION),id:_.RequestIdSchema}).merge(_.RequestSchema).strict();var IU=t=>_.JSONRPCRequestSchema.safeParse(t).success;_.isJSONRPCRequest=IU;_.JSONRPCNotificationSchema=E.z.object({jsonrpc:E.z.literal(_.JSONRPC_VERSION)}).merge(_.NotificationSchema).strict();var AU=t=>_.JSONRPCNotificationSchema.safeParse(t).success;_.isJSONRPCNotification=AU;_.JSONRPCResponseSchema=E.z.object({jsonrpc:E.z.literal(_.JSONRPC_VERSION),id:_.RequestIdSchema,result:_.ResultSchema}).strict();var kU=t=>_.JSONRPCResponseSchema.safeParse(t).success;_.isJSONRPCResponse=kU;var Dw;(function(t){t[t.ConnectionClosed=-32e3]="ConnectionClosed",t[t.RequestTimeout=-32001]="RequestTimeout",t[t.ParseError=-32700]="ParseError",t[t.InvalidRequest=-32600]="InvalidRequest",t[t.MethodNotFound=-32601]="MethodNotFound",t[t.InvalidParams=-32602]="InvalidParams",t[t.InternalError=-32603]="InternalError"})(Dw||(_.ErrorCode=Dw={}));_.JSONRPCErrorSchema=E.z.object({jsonrpc:E.z.literal(_.JSONRPC_VERSION),id:_.RequestIdSchema,error:E.z.object({code:E.z.number().int(),message:E.z.string(),data:E.z.optional(E.z.unknown())})}).strict();var DU=t=>_.JSONRPCErrorSchema.safeParse(t).success;_.isJSONRPCError=DU;_.JSONRPCMessageSchema=E.z.union([_.JSONRPCRequestSchema,_.JSONRPCNotificationSchema,_.JSONRPCResponseSchema,_.JSONRPCErrorSchema]);_.EmptyResultSchema=_.ResultSchema.strict();_.CancelledNotificationSchema=_.NotificationSchema.extend({method:E.z.literal("notifications/cancelled"),params:zo.extend({requestId:_.RequestIdSchema,reason:E.z.string().optional()})});_.BaseMetadataSchema=E.z.object({name:E.z.string(),title:E.z.optional(E.z.string())}).passthrough();_.ImplementationSchema=_.BaseMetadataSchema.extend({version:E.z.string()});_.ClientCapabilitiesSchema=E.z.object({experimental:E.z.optional(E.z.object({}).passthrough()),sampling:E.z.optional(E.z.object({}).passthrough()),elicitation:E.z.optional(E.z.object({}).passthrough()),roots:E.z.optional(E.z.object({listChanged:E.z.optional(E.z.boolean())}).passthrough())}).passthrough();_.InitializeRequestSchema=_.RequestSchema.extend({method:E.z.literal("initialize"),params:Ur.extend({protocolVersion:E.z.string(),capabilities:_.ClientCapabilitiesSchema,clientInfo:_.ImplementationSchema})});var jU=t=>_.InitializeRequestSchema.safeParse(t).success;_.isInitializeRequest=jU;_.ServerCapabilitiesSchema=E.z.object({experimental:E.z.optional(E.z.object({}).passthrough()),logging:E.z.optional(E.z.object({}).passthrough()),completions:E.z.optional(E.z.object({}).passthrough()),prompts:E.z.optional(E.z.object({listChanged:E.z.optional(E.z.boolean())}).passthrough()),resources:E.z.optional(E.z.object({subscribe:E.z.optional(E.z.boolean()),listChanged:E.z.optional(E.z.boolean())}).passthrough()),tools:E.z.optional(E.z.object({listChanged:E.z.optional(E.z.boolean())}).passthrough())}).passthrough();_.InitializeResultSchema=_.ResultSchema.extend({protocolVersion:E.z.string(),capabilities:_.ServerCapabilitiesSchema,serverInfo:_.ImplementationSchema,instructions:E.z.optional(E.z.string())});_.InitializedNotificationSchema=_.NotificationSchema.extend({method:E.z.literal("notifications/initialized")});var NU=t=>_.InitializedNotificationSchema.safeParse(t).success;_.isInitializedNotification=NU;_.PingRequestSchema=_.RequestSchema.extend({method:E.z.literal("ping")});_.ProgressSchema=E.z.object({progress:E.z.number(),total:E.z.optional(E.z.number()),message:E.z.optional(E.z.string())}).passthrough();_.ProgressNotificationSchema=_.NotificationSchema.extend({method:E.z.literal("notifications/progress"),params:zo.merge(_.ProgressSchema).extend({progressToken:_.ProgressTokenSchema})});_.PaginatedRequestSchema=_.RequestSchema.extend({params:Ur.extend({cursor:E.z.optional(_.CursorSchema)}).optional()});_.PaginatedResultSchema=_.ResultSchema.extend({nextCursor:E.z.optional(_.CursorSchema)});_.ResourceContentsSchema=E.z.object({uri:E.z.string(),mimeType:E.z.optional(E.z.string()),_meta:E.z.optional(E.z.object({}).passthrough())}).passthrough();_.TextResourceContentsSchema=_.ResourceContentsSchema.extend({text:E.z.string()});var um=E.z.string().refine(t=>{try{return atob(t),!0}catch{return!1}},{message:"Invalid Base64 string"});_.BlobResourceContentsSchema=_.ResourceContentsSchema.extend({blob:um});_.ResourceSchema=_.BaseMetadataSchema.extend({uri:E.z.string(),description:E.z.optional(E.z.string()),mimeType:E.z.optional(E.z.string()),_meta:E.z.optional(E.z.object({}).passthrough())});_.ResourceTemplateSchema=_.BaseMetadataSchema.extend({uriTemplate:E.z.string(),description:E.z.optional(E.z.string()),mimeType:E.z.optional(E.z.string()),_meta:E.z.optional(E.z.object({}).passthrough())});_.ListResourcesRequestSchema=_.PaginatedRequestSchema.extend({method:E.z.literal("resources/list")});_.ListResourcesResultSchema=_.PaginatedResultSchema.extend({resources:E.z.array(_.ResourceSchema)});_.ListResourceTemplatesRequestSchema=_.PaginatedRequestSchema.extend({method:E.z.literal("resources/templates/list")});_.ListResourceTemplatesResultSchema=_.PaginatedResultSchema.extend({resourceTemplates:E.z.array(_.ResourceTemplateSchema)});_.ReadResourceRequestSchema=_.RequestSchema.extend({method:E.z.literal("resources/read"),params:Ur.extend({uri:E.z.string()})});_.ReadResourceResultSchema=_.ResultSchema.extend({contents:E.z.array(E.z.union([_.TextResourceContentsSchema,_.BlobResourceContentsSchema]))});_.ResourceListChangedNotificationSchema=_.NotificationSchema.extend({method:E.z.literal("notifications/resources/list_changed")});_.SubscribeRequestSchema=_.RequestSchema.extend({method:E.z.literal("resources/subscribe"),params:Ur.extend({uri:E.z.string()})});_.UnsubscribeRequestSchema=_.RequestSchema.extend({method:E.z.literal("resources/unsubscribe"),params:Ur.extend({uri:E.z.string()})});_.ResourceUpdatedNotificationSchema=_.NotificationSchema.extend({method:E.z.literal("notifications/resources/updated"),params:zo.extend({uri:E.z.string()})});_.PromptArgumentSchema=E.z.object({name:E.z.string(),description:E.z.optional(E.z.string()),required:E.z.optional(E.z.boolean())}).passthrough();_.PromptSchema=_.BaseMetadataSchema.extend({description:E.z.optional(E.z.string()),arguments:E.z.optional(E.z.array(_.PromptArgumentSchema)),_meta:E.z.optional(E.z.object({}).passthrough())});_.ListPromptsRequestSchema=_.PaginatedRequestSchema.extend({method:E.z.literal("prompts/list")});_.ListPromptsResultSchema=_.PaginatedResultSchema.extend({prompts:E.z.array(_.PromptSchema)});_.GetPromptRequestSchema=_.RequestSchema.extend({method:E.z.literal("prompts/get"),params:Ur.extend({name:E.z.string(),arguments:E.z.optional(E.z.record(E.z.string()))})});_.TextContentSchema=E.z.object({type:E.z.literal("text"),text:E.z.string(),_meta:E.z.optional(E.z.object({}).passthrough())}).passthrough();_.ImageContentSchema=E.z.object({type:E.z.literal("image"),data:um,mimeType:E.z.string(),_meta:E.z.optional(E.z.object({}).passthrough())}).passthrough();_.AudioContentSchema=E.z.object({type:E.z.literal("audio"),data:um,mimeType:E.z.string(),_meta:E.z.optional(E.z.object({}).passthrough())}).passthrough();_.EmbeddedResourceSchema=E.z.object({type:E.z.literal("resource"),resource:E.z.union([_.TextResourceContentsSchema,_.BlobResourceContentsSchema]),_meta:E.z.optional(E.z.object({}).passthrough())}).passthrough();_.ResourceLinkSchema=_.ResourceSchema.extend({type:E.z.literal("resource_link")});_.ContentBlockSchema=E.z.union([_.TextContentSchema,_.ImageContentSchema,_.AudioContentSchema,_.ResourceLinkSchema,_.EmbeddedResourceSchema]);_.PromptMessageSchema=E.z.object({role:E.z.enum(["user","assistant"]),content:_.ContentBlockSchema}).passthrough();_.GetPromptResultSchema=_.ResultSchema.extend({description:E.z.optional(E.z.string()),messages:E.z.array(_.PromptMessageSchema)});_.PromptListChangedNotificationSchema=_.NotificationSchema.extend({method:E.z.literal("notifications/prompts/list_changed")});_.ToolAnnotationsSchema=E.z.object({title:E.z.optional(E.z.string()),readOnlyHint:E.z.optional(E.z.boolean()),destructiveHint:E.z.optional(E.z.boolean()),idempotentHint:E.z.optional(E.z.boolean()),openWorldHint:E.z.optional(E.z.boolean())}).passthrough();_.ToolSchema=_.BaseMetadataSchema.extend({description:E.z.optional(E.z.string()),inputSchema:E.z.object({type:E.z.literal("object"),properties:E.z.optional(E.z.object({}).passthrough()),required:E.z.optional(E.z.array(E.z.string()))}).passthrough(),outputSchema:E.z.optional(E.z.object({type:E.z.literal("object"),properties:E.z.optional(E.z.object({}).passthrough()),required:E.z.optional(E.z.array(E.z.string()))}).passthrough()),annotations:E.z.optional(_.ToolAnnotationsSchema),_meta:E.z.optional(E.z.object({}).passthrough())});_.ListToolsRequestSchema=_.PaginatedRequestSchema.extend({method:E.z.literal("tools/list")});_.ListToolsResultSchema=_.PaginatedResultSchema.extend({tools:E.z.array(_.ToolSchema)});_.CallToolResultSchema=_.ResultSchema.extend({content:E.z.array(_.ContentBlockSchema).default([]),structuredContent:E.z.object({}).passthrough().optional(),isError:E.z.optional(E.z.boolean())});_.CompatibilityCallToolResultSchema=_.CallToolResultSchema.or(_.ResultSchema.extend({toolResult:E.z.unknown()}));_.CallToolRequestSchema=_.RequestSchema.extend({method:E.z.literal("tools/call"),params:Ur.extend({name:E.z.string(),arguments:E.z.optional(E.z.record(E.z.unknown()))})});_.ToolListChangedNotificationSchema=_.NotificationSchema.extend({method:E.z.literal("notifications/tools/list_changed")});_.LoggingLevelSchema=E.z.enum(["debug","info","notice","warning","error","critical","alert","emergency"]);_.SetLevelRequestSchema=_.RequestSchema.extend({method:E.z.literal("logging/setLevel"),params:Ur.extend({level:_.LoggingLevelSchema})});_.LoggingMessageNotificationSchema=_.NotificationSchema.extend({method:E.z.literal("notifications/message"),params:zo.extend({level:_.LoggingLevelSchema,logger:E.z.optional(E.z.string()),data:E.z.unknown()})});_.ModelHintSchema=E.z.object({name:E.z.string().optional()}).passthrough();_.ModelPreferencesSchema=E.z.object({hints:E.z.optional(E.z.array(_.ModelHintSchema)),costPriority:E.z.optional(E.z.number().min(0).max(1)),speedPriority:E.z.optional(E.z.number().min(0).max(1)),intelligencePriority:E.z.optional(E.z.number().min(0).max(1))}).passthrough();_.SamplingMessageSchema=E.z.object({role:E.z.enum(["user","assistant"]),content:E.z.union([_.TextContentSchema,_.ImageContentSchema,_.AudioContentSchema])}).passthrough();_.CreateMessageRequestSchema=_.RequestSchema.extend({method:E.z.literal("sampling/createMessage"),params:Ur.extend({messages:E.z.array(_.SamplingMessageSchema),systemPrompt:E.z.optional(E.z.string()),includeContext:E.z.optional(E.z.enum(["none","thisServer","allServers"])),temperature:E.z.optional(E.z.number()),maxTokens:E.z.number().int(),stopSequences:E.z.optional(E.z.array(E.z.string())),metadata:E.z.optional(E.z.object({}).passthrough()),modelPreferences:E.z.optional(_.ModelPreferencesSchema)})});_.CreateMessageResultSchema=_.ResultSchema.extend({model:E.z.string(),stopReason:E.z.optional(E.z.enum(["endTurn","stopSequence","maxTokens"]).or(E.z.string())),role:E.z.enum(["user","assistant"]),content:E.z.discriminatedUnion("type",[_.TextContentSchema,_.ImageContentSchema,_.AudioContentSchema])});_.BooleanSchemaSchema=E.z.object({type:E.z.literal("boolean"),title:E.z.optional(E.z.string()),description:E.z.optional(E.z.string()),default:E.z.optional(E.z.boolean())}).passthrough();_.StringSchemaSchema=E.z.object({type:E.z.literal("string"),title:E.z.optional(E.z.string()),description:E.z.optional(E.z.string()),minLength:E.z.optional(E.z.number()),maxLength:E.z.optional(E.z.number()),format:E.z.optional(E.z.enum(["email","uri","date","date-time"]))}).passthrough();_.NumberSchemaSchema=E.z.object({type:E.z.enum(["number","integer"]),title:E.z.optional(E.z.string()),description:E.z.optional(E.z.string()),minimum:E.z.optional(E.z.number()),maximum:E.z.optional(E.z.number())}).passthrough();_.EnumSchemaSchema=E.z.object({type:E.z.literal("string"),title:E.z.optional(E.z.string()),description:E.z.optional(E.z.string()),enum:E.z.array(E.z.string()),enumNames:E.z.optional(E.z.array(E.z.string()))}).passthrough();_.PrimitiveSchemaDefinitionSchema=E.z.union([_.BooleanSchemaSchema,_.StringSchemaSchema,_.NumberSchemaSchema,_.EnumSchemaSchema]);_.ElicitRequestSchema=_.RequestSchema.extend({method:E.z.literal("elicitation/create"),params:Ur.extend({message:E.z.string(),requestedSchema:E.z.object({type:E.z.literal("object"),properties:E.z.record(E.z.string(),_.PrimitiveSchemaDefinitionSchema),required:E.z.optional(E.z.array(E.z.string()))}).passthrough()})});_.ElicitResultSchema=_.ResultSchema.extend({action:E.z.enum(["accept","decline","cancel"]),content:E.z.optional(E.z.record(E.z.string(),E.z.unknown()))});_.ResourceTemplateReferenceSchema=E.z.object({type:E.z.literal("ref/resource"),uri:E.z.string()}).passthrough();_.ResourceReferenceSchema=_.ResourceTemplateReferenceSchema;_.PromptReferenceSchema=E.z.object({type:E.z.literal("ref/prompt"),name:E.z.string()}).passthrough();_.CompleteRequestSchema=_.RequestSchema.extend({method:E.z.literal("completion/complete"),params:Ur.extend({ref:E.z.union([_.PromptReferenceSchema,_.ResourceTemplateReferenceSchema]),argument:E.z.object({name:E.z.string(),value:E.z.string()}).passthrough(),context:E.z.optional(E.z.object({arguments:E.z.optional(E.z.record(E.z.string(),E.z.string()))}))})});_.CompleteResultSchema=_.ResultSchema.extend({completion:E.z.object({values:E.z.array(E.z.string()).max(100),total:E.z.optional(E.z.number().int()),hasMore:E.z.optional(E.z.boolean())}).passthrough()});_.RootSchema=E.z.object({uri:E.z.string().startsWith("file://"),name:E.z.optional(E.z.string()),_meta:E.z.optional(E.z.object({}).passthrough())}).passthrough();_.ListRootsRequestSchema=_.RequestSchema.extend({method:E.z.literal("roots/list")});_.ListRootsResultSchema=_.ResultSchema.extend({roots:E.z.array(_.RootSchema)});_.RootsListChangedNotificationSchema=_.NotificationSchema.extend({method:E.z.literal("notifications/roots/list_changed")});_.ClientRequestSchema=E.z.union([_.PingRequestSchema,_.InitializeRequestSchema,_.CompleteRequestSchema,_.SetLevelRequestSchema,_.GetPromptRequestSchema,_.ListPromptsRequestSchema,_.ListResourcesRequestSchema,_.ListResourceTemplatesRequestSchema,_.ReadResourceRequestSchema,_.SubscribeRequestSchema,_.UnsubscribeRequestSchema,_.CallToolRequestSchema,_.ListToolsRequestSchema]);_.ClientNotificationSchema=E.z.union([_.CancelledNotificationSchema,_.ProgressNotificationSchema,_.InitializedNotificationSchema,_.RootsListChangedNotificationSchema]);_.ClientResultSchema=E.z.union([_.EmptyResultSchema,_.CreateMessageResultSchema,_.ElicitResultSchema,_.ListRootsResultSchema]);_.ServerRequestSchema=E.z.union([_.PingRequestSchema,_.CreateMessageRequestSchema,_.ElicitRequestSchema,_.ListRootsRequestSchema]);_.ServerNotificationSchema=E.z.union([_.CancelledNotificationSchema,_.ProgressNotificationSchema,_.LoggingMessageNotificationSchema,_.ResourceUpdatedNotificationSchema,_.ResourceListChangedNotificationSchema,_.ToolListChangedNotificationSchema,_.PromptListChangedNotificationSchema]);_.ServerResultSchema=E.z.union([_.EmptyResultSchema,_.InitializeResultSchema,_.CompleteResultSchema,_.GetPromptResultSchema,_.ListPromptsResultSchema,_.ListResourcesResultSchema,_.ListResourceTemplatesResultSchema,_.ReadResourceResultSchema,_.CallToolResultSchema,_.ListToolsResultSchema]);var lm=class extends Error{constructor(e,r,a){super(`MCP error ${e}: ${r}`),this.code=e,this.data=a,this.name="McpError"}};_.McpError=lm});var jw=j(xs=>{"use strict";Object.defineProperty(xs,"__esModule",{value:!0});xs.Protocol=xs.DEFAULT_REQUEST_TIMEOUT_MSEC=void 0;xs.mergeCapabilities=$U;var Mt=Bo();xs.DEFAULT_REQUEST_TIMEOUT_MSEC=6e4;var dm=class{constructor(e){this._options=e,this._requestMessageId=0,this._requestHandlers=new Map,this._requestHandlerAbortControllers=new Map,this._notificationHandlers=new Map,this._responseHandlers=new Map,this._progressHandlers=new Map,this._timeoutInfo=new Map,this._pendingDebouncedNotifications=new Set,this.setNotificationHandler(Mt.CancelledNotificationSchema,r=>{let a=this._requestHandlerAbortControllers.get(r.params.requestId);a?.abort(r.params.reason)}),this.setNotificationHandler(Mt.ProgressNotificationSchema,r=>{this._onprogress(r)}),this.setRequestHandler(Mt.PingRequestSchema,r=>({}))}_setupTimeout(e,r,a,s,i=!1){this._timeoutInfo.set(e,{timeoutId:setTimeout(s,r),startTime:Date.now(),timeout:r,maxTotalTimeout:a,resetTimeoutOnProgress:i,onTimeout:s})}_resetTimeout(e){let r=this._timeoutInfo.get(e);if(!r)return!1;let a=Date.now()-r.startTime;if(r.maxTotalTimeout&&a>=r.maxTotalTimeout)throw this._timeoutInfo.delete(e),new Mt.McpError(Mt.ErrorCode.RequestTimeout,"Maximum total timeout exceeded",{maxTotalTimeout:r.maxTotalTimeout,totalElapsed:a});return clearTimeout(r.timeoutId),r.timeoutId=setTimeout(r.onTimeout,r.timeout),!0}_cleanupTimeout(e){let r=this._timeoutInfo.get(e);r&&(clearTimeout(r.timeoutId),this._timeoutInfo.delete(e))}async connect(e){var r,a,s;this._transport=e;let i=(r=this.transport)===null||r===void 0?void 0:r.onclose;this._transport.onclose=()=>{i?.(),this._onclose()};let n=(a=this.transport)===null||a===void 0?void 0:a.onerror;this._transport.onerror=l=>{n?.(l),this._onerror(l)};let o=(s=this._transport)===null||s===void 0?void 0:s.onmessage;this._transport.onmessage=(l,c)=>{o?.(l,c),(0,Mt.isJSONRPCResponse)(l)||(0,Mt.isJSONRPCError)(l)?this._onresponse(l):(0,Mt.isJSONRPCRequest)(l)?this._onrequest(l,c):(0,Mt.isJSONRPCNotification)(l)?this._onnotification(l):this._onerror(new Error(`Unknown message type: ${JSON.stringify(l)}`))},await this._transport.start()}_onclose(){var e;let r=this._responseHandlers;this._responseHandlers=new Map,this._progressHandlers.clear(),this._pendingDebouncedNotifications.clear(),this._transport=void 0,(e=this.onclose)===null||e===void 0||e.call(this);let a=new Mt.McpError(Mt.ErrorCode.ConnectionClosed,"Connection closed");for(let s of r.values())s(a)}_onerror(e){var r;(r=this.onerror)===null||r===void 0||r.call(this,e)}_onnotification(e){var r;let a=(r=this._notificationHandlers.get(e.method))!==null&&r!==void 0?r:this.fallbackNotificationHandler;a!==void 0&&Promise.resolve().then(()=>a(e)).catch(s=>this._onerror(new Error(`Uncaught error in notification handler: ${s}`)))}_onrequest(e,r){var a,s;let i=(a=this._requestHandlers.get(e.method))!==null&&a!==void 0?a:this.fallbackRequestHandler,n=this._transport;if(i===void 0){n?.send({jsonrpc:"2.0",id:e.id,error:{code:Mt.ErrorCode.MethodNotFound,message:"Method not found"}}).catch(c=>this._onerror(new Error(`Failed to send an error response: ${c}`)));return}let o=new AbortController;this._requestHandlerAbortControllers.set(e.id,o);let l={signal:o.signal,sessionId:n?.sessionId,_meta:(s=e.params)===null||s===void 0?void 0:s._meta,sendNotification:c=>this.notification(c,{relatedRequestId:e.id}),sendRequest:(c,u,d)=>this.request(c,u,{...d,relatedRequestId:e.id}),authInfo:r?.authInfo,requestId:e.id,requestInfo:r?.requestInfo};Promise.resolve().then(()=>i(e,l)).then(c=>{if(!o.signal.aborted)return n?.send({result:c,jsonrpc:"2.0",id:e.id})},c=>{var u;if(!o.signal.aborted)return n?.send({jsonrpc:"2.0",id:e.id,error:{code:Number.isSafeInteger(c.code)?c.code:Mt.ErrorCode.InternalError,message:(u=c.message)!==null&&u!==void 0?u:"Internal error"}})}).catch(c=>this._onerror(new Error(`Failed to send response: ${c}`))).finally(()=>{this._requestHandlerAbortControllers.delete(e.id)})}_onprogress(e){let{progressToken:r,...a}=e.params,s=Number(r),i=this._progressHandlers.get(s);if(!i){this._onerror(new Error(`Received a progress notification for an unknown token: ${JSON.stringify(e)}`));return}let n=this._responseHandlers.get(s),o=this._timeoutInfo.get(s);if(o&&n&&o.resetTimeoutOnProgress)try{this._resetTimeout(s)}catch(l){n(l);return}i(a)}_onresponse(e){let r=Number(e.id),a=this._responseHandlers.get(r);if(a===void 0){this._onerror(new Error(`Received a response for an unknown message ID: ${JSON.stringify(e)}`));return}if(this._responseHandlers.delete(r),this._progressHandlers.delete(r),this._cleanupTimeout(r),(0,Mt.isJSONRPCResponse)(e))a(e);else{let s=new Mt.McpError(e.error.code,e.error.message,e.error.data);a(s)}}get transport(){return this._transport}async close(){var e;await((e=this._transport)===null||e===void 0?void 0:e.close())}request(e,r,a){let{relatedRequestId:s,resumptionToken:i,onresumptiontoken:n}=a??{};return new Promise((o,l)=>{var c,u,d,h,p,m;if(!this._transport){l(new Error("Not connected"));return}((c=this._options)===null||c===void 0?void 0:c.enforceStrictCapabilities)===!0&&this.assertCapabilityForMethod(e.method),(u=a?.signal)===null||u===void 0||u.throwIfAborted();let f=this._requestMessageId++,v={...e,jsonrpc:"2.0",id:f};a?.onprogress&&(this._progressHandlers.set(f,a.onprogress),v.params={...e.params,_meta:{...((d=e.params)===null||d===void 0?void 0:d._meta)||{},progressToken:f}});let g=C=>{var T;this._responseHandlers.delete(f),this._progressHandlers.delete(f),this._cleanupTimeout(f),(T=this._transport)===null||T===void 0||T.send({jsonrpc:"2.0",method:"notifications/cancelled",params:{requestId:f,reason:String(C)}},{relatedRequestId:s,resumptionToken:i,onresumptiontoken:n}).catch(R=>this._onerror(new Error(`Failed to send cancellation: ${R}`))),l(C)};this._responseHandlers.set(f,C=>{var T;if(!(!((T=a?.signal)===null||T===void 0)&&T.aborted)){if(C instanceof Error)return l(C);try{let R=r.parse(C.result);o(R)}catch(R){l(R)}}}),(h=a?.signal)===null||h===void 0||h.addEventListener("abort",()=>{var C;g((C=a?.signal)===null||C===void 0?void 0:C.reason)});let b=(p=a?.timeout)!==null&&p!==void 0?p:xs.DEFAULT_REQUEST_TIMEOUT_MSEC,w=()=>g(new Mt.McpError(Mt.ErrorCode.RequestTimeout,"Request timed out",{timeout:b}));this._setupTimeout(f,b,a?.maxTotalTimeout,w,(m=a?.resetTimeoutOnProgress)!==null&&m!==void 0?m:!1),this._transport.send(v,{relatedRequestId:s,resumptionToken:i,onresumptiontoken:n}).catch(C=>{this._cleanupTimeout(f),l(C)})})}async notification(e,r){var a,s;if(!this._transport)throw new Error("Not connected");if(this.assertNotificationCapability(e.method),((s=(a=this._options)===null||a===void 0?void 0:a.debouncedNotificationMethods)!==null&&s!==void 0?s:[]).includes(e.method)&&!e.params&&!r?.relatedRequestId){if(this._pendingDebouncedNotifications.has(e.method))return;this._pendingDebouncedNotifications.add(e.method),Promise.resolve().then(()=>{var l;if(this._pendingDebouncedNotifications.delete(e.method),!this._transport)return;let c={...e,jsonrpc:"2.0"};(l=this._transport)===null||l===void 0||l.send(c,r).catch(u=>this._onerror(u))});return}let o={...e,jsonrpc:"2.0"};await this._transport.send(o,r)}setRequestHandler(e,r){let a=e.shape.method.value;this.assertRequestHandlerCapability(a),this._requestHandlers.set(a,(s,i)=>Promise.resolve(r(e.parse(s),i)))}removeRequestHandler(e){this._requestHandlers.delete(e)}assertCanSetRequestHandler(e){if(this._requestHandlers.has(e))throw new Error(`A request handler for ${e} already exists, which would be overridden`)}setNotificationHandler(e,r){this._notificationHandlers.set(e.shape.method.value,a=>Promise.resolve(r(e.parse(a))))}removeNotificationHandler(e){this._notificationHandlers.delete(e)}};xs.Protocol=dm;function $U(t,e){return Object.entries(e).reduce((r,[a,s])=>(s&&typeof s=="object"?r[a]=r[a]?{...r[a],...s}:s:r[a]=s,r),{...t})}});var $w=j((Bl,Nw)=>{(function(t,e){typeof Bl=="object"&&typeof Nw<"u"?e(Bl):typeof define=="function"&&define.amd?define(["exports"],e):e(t.URI=t.URI||{})})(Bl,function(t){"use strict";function e(){for(var F=arguments.length,I=Array(F),x=0;x<F;x++)I[x]=arguments[x];if(I.length>1){I[0]=I[0].slice(0,-1);for(var y=I.length-1,P=1;P<y;++P)I[P]=I[P].slice(1,-1);return I[y]=I[y].slice(1),I.join("")}else return I[0]}function r(F){return"(?:"+F+")"}function a(F){return F===void 0?"undefined":F===null?"null":Object.prototype.toString.call(F).split(" ").pop().split("]").shift().toLowerCase()}function s(F){return F.toUpperCase()}function i(F){return F!=null?F instanceof Array?F:typeof F.length!="number"||F.split||F.setInterval||F.call?[F]:Array.prototype.slice.call(F):[]}function n(F,I){var x=F;if(I)for(var y in I)x[y]=I[y];return x}function o(F){var I="[A-Za-z]",x="[\\x0D]",y="[0-9]",P="[\\x22]",M=e(y,"[A-Fa-f]"),Z="[\\x0A]",ee="[\\x20]",le=r(r("%[EFef]"+M+"%"+M+M+"%"+M+M)+"|"+r("%[89A-Fa-f]"+M+"%"+M+M)+"|"+r("%"+M+M)),Se="[\\:\\/\\?\\#\\[\\]\\@]",ve="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Fe=e(Se,ve),we=F?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Ae=F?"[\\uE000-\\uF8FF]":"[]",Pe=e(I,y,"[\\-\\.\\_\\~]",we),ke=r(I+e(I,y,"[\\+\\-\\.]")+"*"),ge=r(r(le+"|"+e(Pe,ve,"[\\:]"))+"*"),pt=r(r("25[0-5]")+"|"+r("2[0-4]"+y)+"|"+r("1"+y+y)+"|"+r("[1-9]"+y)+"|"+y),Ze=r(r("25[0-5]")+"|"+r("2[0-4]"+y)+"|"+r("1"+y+y)+"|"+r("0?[1-9]"+y)+"|0?0?"+y),Ct=r(Ze+"\\."+Ze+"\\."+Ze+"\\."+Ze),We=r(M+"{1,4}"),ht=r(r(We+"\\:"+We)+"|"+Ct),Ke=r(r(We+"\\:")+"{6}"+ht),yt=r("\\:\\:"+r(We+"\\:")+"{5}"+ht),Tt=r(r(We)+"?\\:\\:"+r(We+"\\:")+"{4}"+ht),Ot=r(r(r(We+"\\:")+"{0,1}"+We)+"?\\:\\:"+r(We+"\\:")+"{3}"+ht),dr=r(r(r(We+"\\:")+"{0,2}"+We)+"?\\:\\:"+r(We+"\\:")+"{2}"+ht),er=r(r(r(We+"\\:")+"{0,3}"+We)+"?\\:\\:"+We+"\\:"+ht),da=r(r(r(We+"\\:")+"{0,4}"+We)+"?\\:\\:"+ht),Kr=r(r(r(We+"\\:")+"{0,5}"+We)+"?\\:\\:"+We),Jr=r(r(r(We+"\\:")+"{0,6}"+We)+"?\\:\\:"),zt=r([Ke,yt,Tt,Ot,dr,er,da,Kr,Jr].join("|")),pr=r(r(Pe+"|"+le)+"+"),fr=r(zt+"\\%25"+pr),tr=r(zt+r("\\%25|\\%(?!"+M+"{2})")+pr),fo=r("[vV]"+M+"+\\."+e(Pe,ve,"[\\:]")+"+"),Aa=r("\\["+r(tr+"|"+zt+"|"+fo)+"\\]"),jc=r(r(le+"|"+e(Pe,ve))+"*"),ks=r(Aa+"|"+Ct+"(?!"+jc+")|"+jc),ss=r(y+"*"),ns=r(r(ge+"@")+"?"+ks+r("\\:"+ss)+"?"),Qr=r(le+"|"+e(Pe,ve,"[\\:\\@]")),Nc=r(Qr+"*"),is=r(Qr+"+"),rp=r(r(le+"|"+e(Pe,ve,"[\\@]"))+"+"),Ir=r(r("\\/"+Nc)+"*"),os=r("\\/"+r(is+Ir)+"?"),mr=r(rp+Ir),Yr=r(is+Ir),pa="(?!"+Qr+")",mo=r(Ir+"|"+os+"|"+mr+"|"+Yr+"|"+pa),hr=r(r(Qr+"|"+e("[\\/\\?]",Ae))+"*"),Hn=r(r(Qr+"|[\\/\\?]")+"*"),ka=r(r("\\/\\/"+ns+Ir)+"|"+os+"|"+Yr+"|"+pa),Ds=r(ke+"\\:"+ka+r("\\?"+hr)+"?"+r("\\#"+Hn)+"?"),$c=r(r("\\/\\/"+ns+Ir)+"|"+os+"|"+mr+"|"+pa),ap=r($c+r("\\?"+hr)+"?"+r("\\#"+Hn)+"?"),yg=r(Ds+"|"+ap),xg=r(ke+"\\:"+ka+r("\\?"+hr)+"?"),Z1="^("+ke+")\\:"+r(r("\\/\\/("+r("("+ge+")@")+"?("+ks+")"+r("\\:("+ss+")")+"?)")+"?("+Ir+"|"+os+"|"+Yr+"|"+pa+")")+r("\\?("+hr+")")+"?"+r("\\#("+Hn+")")+"?$",V1="^(){0}"+r(r("\\/\\/("+r("("+ge+")@")+"?("+ks+")"+r("\\:("+ss+")")+"?)")+"?("+Ir+"|"+os+"|"+mr+"|"+pa+")")+r("\\?("+hr+")")+"?"+r("\\#("+Hn+")")+"?$",H1="^("+ke+")\\:"+r(r("\\/\\/("+r("("+ge+")@")+"?("+ks+")"+r("\\:("+ss+")")+"?)")+"?("+Ir+"|"+os+"|"+Yr+"|"+pa+")")+r("\\?("+hr+")")+"?$",G1="^"+r("\\#("+Hn+")")+"?$",W1="^"+r("("+ge+")@")+"?("+ks+")"+r("\\:("+ss+")")+"?$";return{NOT_SCHEME:new RegExp(e("[^]",I,y,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(e("[^\\%\\:]",Pe,ve),"g"),NOT_HOST:new RegExp(e("[^\\%\\[\\]\\:]",Pe,ve),"g"),NOT_PATH:new RegExp(e("[^\\%\\/\\:\\@]",Pe,ve),"g"),NOT_PATH_NOSCHEME:new RegExp(e("[^\\%\\/\\@]",Pe,ve),"g"),NOT_QUERY:new RegExp(e("[^\\%]",Pe,ve,"[\\:\\@\\/\\?]",Ae),"g"),NOT_FRAGMENT:new RegExp(e("[^\\%]",Pe,ve,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(e("[^]",Pe,ve),"g"),UNRESERVED:new RegExp(Pe,"g"),OTHER_CHARS:new RegExp(e("[^\\%]",Pe,Fe),"g"),PCT_ENCODED:new RegExp(le,"g"),IPV4ADDRESS:new RegExp("^("+Ct+")$"),IPV6ADDRESS:new RegExp("^\\[?("+zt+")"+r(r("\\%25|\\%(?!"+M+"{2})")+"("+pr+")")+"?\\]?$")}}var l=o(!1),c=o(!0),u=function(){function F(I,x){var y=[],P=!0,M=!1,Z=void 0;try{for(var ee=I[Symbol.iterator](),le;!(P=(le=ee.next()).done)&&(y.push(le.value),!(x&&y.length===x));P=!0);}catch(Se){M=!0,Z=Se}finally{try{!P&&ee.return&&ee.return()}finally{if(M)throw Z}}return y}return function(I,x){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return F(I,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(F){if(Array.isArray(F)){for(var I=0,x=Array(F.length);I<F.length;I++)x[I]=F[I];return x}else return Array.from(F)},h=2147483647,p=36,m=1,f=26,v=38,g=700,b=72,w=128,C="-",T=/^xn--/,R=/[^\0-\x7E]/,O=/[\x2E\u3002\uFF0E\uFF61]/g,L={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},N=p-m,q=Math.floor,k=String.fromCharCode;function A(F){throw new RangeError(L[F])}function D(F,I){for(var x=[],y=F.length;y--;)x[y]=I(F[y]);return x}function $(F,I){var x=F.split("@"),y="";x.length>1&&(y=x[0]+"@",F=x[1]),F=F.replace(O,".");var P=F.split("."),M=D(P,I).join(".");return y+M}function B(F){for(var I=[],x=0,y=F.length;x<y;){var P=F.charCodeAt(x++);if(P>=55296&&P<=56319&&x<y){var M=F.charCodeAt(x++);(M&64512)==56320?I.push(((P&1023)<<10)+(M&1023)+65536):(I.push(P),x--)}else I.push(P)}return I}var W=function(I){return String.fromCodePoint.apply(String,d(I))},G=function(I){return I-48<10?I-22:I-65<26?I-65:I-97<26?I-97:p},K=function(I,x){return I+22+75*(I<26)-((x!=0)<<5)},Q=function(I,x,y){var P=0;for(I=y?q(I/g):I>>1,I+=q(I/x);I>N*f>>1;P+=p)I=q(I/N);return q(P+(N+1)*I/(I+v))},Y=function(I){var x=[],y=I.length,P=0,M=w,Z=b,ee=I.lastIndexOf(C);ee<0&&(ee=0);for(var le=0;le<ee;++le)I.charCodeAt(le)>=128&&A("not-basic"),x.push(I.charCodeAt(le));for(var Se=ee>0?ee+1:0;Se<y;){for(var ve=P,Fe=1,we=p;;we+=p){Se>=y&&A("invalid-input");var Ae=G(I.charCodeAt(Se++));(Ae>=p||Ae>q((h-P)/Fe))&&A("overflow"),P+=Ae*Fe;var Pe=we<=Z?m:we>=Z+f?f:we-Z;if(Ae<Pe)break;var ke=p-Pe;Fe>q(h/ke)&&A("overflow"),Fe*=ke}var ge=x.length+1;Z=Q(P-ve,ge,ve==0),q(P/ge)>h-M&&A("overflow"),M+=q(P/ge),P%=ge,x.splice(P++,0,M)}return String.fromCodePoint.apply(String,x)},ae=function(I){var x=[];I=B(I);var y=I.length,P=w,M=0,Z=b,ee=!0,le=!1,Se=void 0;try{for(var ve=I[Symbol.iterator](),Fe;!(ee=(Fe=ve.next()).done);ee=!0){var we=Fe.value;we<128&&x.push(k(we))}}catch(tr){le=!0,Se=tr}finally{try{!ee&&ve.return&&ve.return()}finally{if(le)throw Se}}var Ae=x.length,Pe=Ae;for(Ae&&x.push(C);Pe<y;){var ke=h,ge=!0,pt=!1,Ze=void 0;try{for(var Ct=I[Symbol.iterator](),We;!(ge=(We=Ct.next()).done);ge=!0){var ht=We.value;ht>=P&&ht<ke&&(ke=ht)}}catch(tr){pt=!0,Ze=tr}finally{try{!ge&&Ct.return&&Ct.return()}finally{if(pt)throw Ze}}var Ke=Pe+1;ke-P>q((h-M)/Ke)&&A("overflow"),M+=(ke-P)*Ke,P=ke;var yt=!0,Tt=!1,Ot=void 0;try{for(var dr=I[Symbol.iterator](),er;!(yt=(er=dr.next()).done);yt=!0){var da=er.value;if(da<P&&++M>h&&A("overflow"),da==P){for(var Kr=M,Jr=p;;Jr+=p){var zt=Jr<=Z?m:Jr>=Z+f?f:Jr-Z;if(Kr<zt)break;var pr=Kr-zt,fr=p-zt;x.push(k(K(zt+pr%fr,0))),Kr=q(pr/fr)}x.push(k(K(Kr,0))),Z=Q(M,Ke,Pe==Ae),M=0,++Pe}}}catch(tr){Tt=!0,Ot=tr}finally{try{!yt&&dr.return&&dr.return()}finally{if(Tt)throw Ot}}++M,++P}return x.join("")},ue=function(I){return $(I,function(x){return T.test(x)?Y(x.slice(4).toLowerCase()):x})},Qe=function(I){return $(I,function(x){return R.test(x)?"xn--"+ae(x):x})},ye={version:"2.1.0",ucs2:{decode:B,encode:W},decode:Y,encode:ae,toASCII:Qe,toUnicode:ue},Re={};function Ie(F){var I=F.charCodeAt(0),x=void 0;return I<16?x="%0"+I.toString(16).toUpperCase():I<128?x="%"+I.toString(16).toUpperCase():I<2048?x="%"+(I>>6|192).toString(16).toUpperCase()+"%"+(I&63|128).toString(16).toUpperCase():x="%"+(I>>12|224).toString(16).toUpperCase()+"%"+(I>>6&63|128).toString(16).toUpperCase()+"%"+(I&63|128).toString(16).toUpperCase(),x}function Ue(F){for(var I="",x=0,y=F.length;x<y;){var P=parseInt(F.substr(x+1,2),16);if(P<128)I+=String.fromCharCode(P),x+=3;else if(P>=194&&P<224){if(y-x>=6){var M=parseInt(F.substr(x+4,2),16);I+=String.fromCharCode((P&31)<<6|M&63)}else I+=F.substr(x,6);x+=6}else if(P>=224){if(y-x>=9){var Z=parseInt(F.substr(x+4,2),16),ee=parseInt(F.substr(x+7,2),16);I+=String.fromCharCode((P&15)<<12|(Z&63)<<6|ee&63)}else I+=F.substr(x,9);x+=9}else I+=F.substr(x,3),x+=3}return I}function U(F,I){function x(y){var P=Ue(y);return P.match(I.UNRESERVED)?P:y}return F.scheme&&(F.scheme=String(F.scheme).replace(I.PCT_ENCODED,x).toLowerCase().replace(I.NOT_SCHEME,"")),F.userinfo!==void 0&&(F.userinfo=String(F.userinfo).replace(I.PCT_ENCODED,x).replace(I.NOT_USERINFO,Ie).replace(I.PCT_ENCODED,s)),F.host!==void 0&&(F.host=String(F.host).replace(I.PCT_ENCODED,x).toLowerCase().replace(I.NOT_HOST,Ie).replace(I.PCT_ENCODED,s)),F.path!==void 0&&(F.path=String(F.path).replace(I.PCT_ENCODED,x).replace(F.scheme?I.NOT_PATH:I.NOT_PATH_NOSCHEME,Ie).replace(I.PCT_ENCODED,s)),F.query!==void 0&&(F.query=String(F.query).replace(I.PCT_ENCODED,x).replace(I.NOT_QUERY,Ie).replace(I.PCT_ENCODED,s)),F.fragment!==void 0&&(F.fragment=String(F.fragment).replace(I.PCT_ENCODED,x).replace(I.NOT_FRAGMENT,Ie).replace(I.PCT_ENCODED,s)),F}function J(F){return F.replace(/^0*(.*)/,"$1")||"0"}function ne(F,I){var x=F.match(I.IPV4ADDRESS)||[],y=u(x,2),P=y[1];return P?P.split(".").map(J).join("."):F}function he(F,I){var x=F.match(I.IPV6ADDRESS)||[],y=u(x,3),P=y[1],M=y[2];if(P){for(var Z=P.toLowerCase().split("::").reverse(),ee=u(Z,2),le=ee[0],Se=ee[1],ve=Se?Se.split(":").map(J):[],Fe=le.split(":").map(J),we=I.IPV4ADDRESS.test(Fe[Fe.length-1]),Ae=we?7:8,Pe=Fe.length-Ae,ke=Array(Ae),ge=0;ge<Ae;++ge)ke[ge]=ve[ge]||Fe[Pe+ge]||"";we&&(ke[Ae-1]=ne(ke[Ae-1],I));var pt=ke.reduce(function(Ke,yt,Tt){if(!yt||yt==="0"){var Ot=Ke[Ke.length-1];Ot&&Ot.index+Ot.length===Tt?Ot.length++:Ke.push({index:Tt,length:1})}return Ke},[]),Ze=pt.sort(function(Ke,yt){return yt.length-Ke.length})[0],Ct=void 0;if(Ze&&Ze.length>1){var We=ke.slice(0,Ze.index),ht=ke.slice(Ze.index+Ze.length);Ct=We.join(":")+"::"+ht.join(":")}else Ct=ke.join(":");return M&&(Ct+="%"+M),Ct}else return F}var X=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,te="".match(/(){0}/)[1]===void 0;function de(F){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x={},y=I.iri!==!1?c:l;I.reference==="suffix"&&(F=(I.scheme?I.scheme+":":"")+"//"+F);var P=F.match(X);if(P){te?(x.scheme=P[1],x.userinfo=P[3],x.host=P[4],x.port=parseInt(P[5],10),x.path=P[6]||"",x.query=P[7],x.fragment=P[8],isNaN(x.port)&&(x.port=P[5])):(x.scheme=P[1]||void 0,x.userinfo=F.indexOf("@")!==-1?P[3]:void 0,x.host=F.indexOf("//")!==-1?P[4]:void 0,x.port=parseInt(P[5],10),x.path=P[6]||"",x.query=F.indexOf("?")!==-1?P[7]:void 0,x.fragment=F.indexOf("#")!==-1?P[8]:void 0,isNaN(x.port)&&(x.port=F.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?P[4]:void 0)),x.host&&(x.host=he(ne(x.host,y),y)),x.scheme===void 0&&x.userinfo===void 0&&x.host===void 0&&x.port===void 0&&!x.path&&x.query===void 0?x.reference="same-document":x.scheme===void 0?x.reference="relative":x.fragment===void 0?x.reference="absolute":x.reference="uri",I.reference&&I.reference!=="suffix"&&I.reference!==x.reference&&(x.error=x.error||"URI is not a "+I.reference+" reference.");var M=Re[(I.scheme||x.scheme||"").toLowerCase()];if(!I.unicodeSupport&&(!M||!M.unicodeSupport)){if(x.host&&(I.domainHost||M&&M.domainHost))try{x.host=ye.toASCII(x.host.replace(y.PCT_ENCODED,Ue).toLowerCase())}catch(Z){x.error=x.error||"Host's domain name can not be converted to ASCII via punycode: "+Z}U(x,l)}else U(x,y);M&&M.parse&&M.parse(x,I)}else x.error=x.error||"URI can not be parsed.";return x}function Le(F,I){var x=I.iri!==!1?c:l,y=[];return F.userinfo!==void 0&&(y.push(F.userinfo),y.push("@")),F.host!==void 0&&y.push(he(ne(String(F.host),x),x).replace(x.IPV6ADDRESS,function(P,M,Z){return"["+M+(Z?"%25"+Z:"")+"]"})),(typeof F.port=="number"||typeof F.port=="string")&&(y.push(":"),y.push(String(F.port))),y.length?y.join(""):void 0}var _e=/^\.\.?\//,it=/^\/\.(\/|$)/,ot=/^\/\.\.(\/|$)/,Ce=/^\/?(?:.|\n)*?(?=\/|$)/;function ft(F){for(var I=[];F.length;)if(F.match(_e))F=F.replace(_e,"");else if(F.match(it))F=F.replace(it,"/");else if(F.match(ot))F=F.replace(ot,"/"),I.pop();else if(F==="."||F==="..")F="";else{var x=F.match(Ce);if(x){var y=x[0];F=F.slice(y.length),I.push(y)}else throw new Error("Unexpected dot segment condition")}return I.join("")}function Ye(F){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=I.iri?c:l,y=[],P=Re[(I.scheme||F.scheme||"").toLowerCase()];if(P&&P.serialize&&P.serialize(F,I),F.host&&!x.IPV6ADDRESS.test(F.host)){if(I.domainHost||P&&P.domainHost)try{F.host=I.iri?ye.toUnicode(F.host):ye.toASCII(F.host.replace(x.PCT_ENCODED,Ue).toLowerCase())}catch(ee){F.error=F.error||"Host's domain name can not be converted to "+(I.iri?"Unicode":"ASCII")+" via punycode: "+ee}}U(F,x),I.reference!=="suffix"&&F.scheme&&(y.push(F.scheme),y.push(":"));var M=Le(F,I);if(M!==void 0&&(I.reference!=="suffix"&&y.push("//"),y.push(M),F.path&&F.path.charAt(0)!=="/"&&y.push("/")),F.path!==void 0){var Z=F.path;!I.absolutePath&&(!P||!P.absolutePath)&&(Z=ft(Z)),M===void 0&&(Z=Z.replace(/^\/\//,"/%2F")),y.push(Z)}return F.query!==void 0&&(y.push("?"),y.push(F.query)),F.fragment!==void 0&&(y.push("#"),y.push(F.fragment)),y.join("")}function dt(F,I){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},y=arguments[3],P={};return y||(F=de(Ye(F,x),x),I=de(Ye(I,x),x)),x=x||{},!x.tolerant&&I.scheme?(P.scheme=I.scheme,P.userinfo=I.userinfo,P.host=I.host,P.port=I.port,P.path=ft(I.path||""),P.query=I.query):(I.userinfo!==void 0||I.host!==void 0||I.port!==void 0?(P.userinfo=I.userinfo,P.host=I.host,P.port=I.port,P.path=ft(I.path||""),P.query=I.query):(I.path?(I.path.charAt(0)==="/"?P.path=ft(I.path):((F.userinfo!==void 0||F.host!==void 0||F.port!==void 0)&&!F.path?P.path="/"+I.path:F.path?P.path=F.path.slice(0,F.path.lastIndexOf("/")+1)+I.path:P.path=I.path,P.path=ft(P.path)),P.query=I.query):(P.path=F.path,I.query!==void 0?P.query=I.query:P.query=F.query),P.userinfo=F.userinfo,P.host=F.host,P.port=F.port),P.scheme=F.scheme),P.fragment=I.fragment,P}function at(F,I,x){var y=n({scheme:"null"},x);return Ye(dt(de(F,y),de(I,y),y,!0),y)}function ct(F,I){return typeof F=="string"?F=Ye(de(F,I),I):a(F)==="object"&&(F=de(Ye(F,I),I)),F}function Lt(F,I,x){return typeof F=="string"?F=Ye(de(F,x),x):a(F)==="object"&&(F=Ye(F,x)),typeof I=="string"?I=Ye(de(I,x),x):a(I)==="object"&&(I=Ye(I,x)),F===I}function Ft(F,I){return F&&F.toString().replace(!I||!I.iri?l.ESCAPE:c.ESCAPE,Ie)}function Ut(F,I){return F&&F.toString().replace(!I||!I.iri?l.PCT_ENCODED:c.PCT_ENCODED,Ue)}var Oa={scheme:"http",domainHost:!0,parse:function(I,x){return I.host||(I.error=I.error||"HTTP URIs must have a host."),I},serialize:function(I,x){var y=String(I.scheme).toLowerCase()==="https";return(I.port===(y?443:80)||I.port==="")&&(I.port=void 0),I.path||(I.path="/"),I}},Xt={scheme:"https",domainHost:Oa.domainHost,parse:Oa.parse,serialize:Oa.serialize};function ts(F){return typeof F.secure=="boolean"?F.secure:String(F.scheme).toLowerCase()==="wss"}var rs={scheme:"ws",domainHost:!0,parse:function(I,x){var y=I;return y.secure=ts(y),y.resourceName=(y.path||"/")+(y.query?"?"+y.query:""),y.path=void 0,y.query=void 0,y},serialize:function(I,x){if((I.port===(ts(I)?443:80)||I.port==="")&&(I.port=void 0),typeof I.secure=="boolean"&&(I.scheme=I.secure?"wss":"ws",I.secure=void 0),I.resourceName){var y=I.resourceName.split("?"),P=u(y,2),M=P[0],Z=P[1];I.path=M&&M!=="/"?M:void 0,I.query=Z,I.resourceName=void 0}return I.fragment=void 0,I}},co={scheme:"wss",domainHost:rs.domainHost,parse:rs.parse,serialize:rs.serialize},As={},Ic=!0,Ac="[A-Za-z0-9\\-\\.\\_\\~"+(Ic?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]",Tr="[0-9A-Fa-f]",kc=r(r("%[EFef]"+Tr+"%"+Tr+Tr+"%"+Tr+Tr)+"|"+r("%[89A-Fa-f]"+Tr+"%"+Tr+Tr)+"|"+r("%"+Tr+Tr)),Or="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Kd="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Jd=e(Kd,'[\\"\\\\]'),Qd="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Yd=new RegExp(Ac,"g"),as=new RegExp(kc,"g"),Xd=new RegExp(e("[^]",Or,"[\\.]",'[\\"]',Jd),"g"),Ia=new RegExp(e("[^]",Ac,Qd),"g"),ep=Ia;function Vn(F){var I=Ue(F);return I.match(Yd)?I:F}var Dc={scheme:"mailto",parse:function(I,x){var y=I,P=y.to=y.path?y.path.split(","):[];if(y.path=void 0,y.query){for(var M=!1,Z={},ee=y.query.split("&"),le=0,Se=ee.length;le<Se;++le){var ve=ee[le].split("=");switch(ve[0]){case"to":for(var Fe=ve[1].split(","),we=0,Ae=Fe.length;we<Ae;++we)P.push(Fe[we]);break;case"subject":y.subject=Ut(ve[1],x);break;case"body":y.body=Ut(ve[1],x);break;default:M=!0,Z[Ut(ve[0],x)]=Ut(ve[1],x);break}}M&&(y.headers=Z)}y.query=void 0;for(var Pe=0,ke=P.length;Pe<ke;++Pe){var ge=P[Pe].split("@");if(ge[0]=Ut(ge[0]),x.unicodeSupport)ge[1]=Ut(ge[1],x).toLowerCase();else try{ge[1]=ye.toASCII(Ut(ge[1],x).toLowerCase())}catch(pt){y.error=y.error||"Email address's domain name can not be converted to ASCII via punycode: "+pt}P[Pe]=ge.join("@")}return y},serialize:function(I,x){var y=I,P=i(I.to);if(P){for(var M=0,Z=P.length;M<Z;++M){var ee=String(P[M]),le=ee.lastIndexOf("@"),Se=ee.slice(0,le).replace(as,Vn).replace(as,s).replace(Xd,Ie),ve=ee.slice(le+1);try{ve=x.iri?ye.toUnicode(ve):ye.toASCII(Ut(ve,x).toLowerCase())}catch(Pe){y.error=y.error||"Email address's domain name can not be converted to "+(x.iri?"Unicode":"ASCII")+" via punycode: "+Pe}P[M]=Se+"@"+ve}y.path=P.join(",")}var Fe=I.headers=I.headers||{};I.subject&&(Fe.subject=I.subject),I.body&&(Fe.body=I.body);var we=[];for(var Ae in Fe)Fe[Ae]!==As[Ae]&&we.push(Ae.replace(as,Vn).replace(as,s).replace(Ia,Ie)+"="+Fe[Ae].replace(as,Vn).replace(as,s).replace(ep,Ie));return we.length&&(y.query=we.join("&")),y}},lo=/^([^\:]+)\:(.*)/,uo={scheme:"urn",parse:function(I,x){var y=I.path&&I.path.match(lo),P=I;if(y){var M=x.scheme||P.scheme||"urn",Z=y[1].toLowerCase(),ee=y[2],le=M+":"+(x.nid||Z),Se=Re[le];P.nid=Z,P.nss=ee,P.path=void 0,Se&&(P=Se.parse(P,x))}else P.error=P.error||"URN can not be parsed.";return P},serialize:function(I,x){var y=x.scheme||I.scheme||"urn",P=I.nid,M=y+":"+(x.nid||P),Z=Re[M];Z&&(I=Z.serialize(I,x));var ee=I,le=I.nss;return ee.path=(P||x.nid)+":"+le,ee}},tp=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,po={scheme:"urn:uuid",parse:function(I,x){var y=I;return y.uuid=y.nss,y.nss=void 0,!x.tolerant&&(!y.uuid||!y.uuid.match(tp))&&(y.error=y.error||"UUID is not valid."),y},serialize:function(I,x){var y=I;return y.nss=(I.uuid||"").toLowerCase(),y}};Re[Oa.scheme]=Oa,Re[Xt.scheme]=Xt,Re[rs.scheme]=rs,Re[co.scheme]=co,Re[Dc.scheme]=Dc,Re[uo.scheme]=uo,Re[po.scheme]=po,t.SCHEMES=Re,t.pctEncChar=Ie,t.pctDecChars=Ue,t.parse=de,t.removeDotSegments=ft,t.serialize=Ye,t.resolveComponents=dt,t.resolve=at,t.normalize=ct,t.equal=Lt,t.escapeComponent=Ft,t.unescapeComponent=Ut,Object.defineProperty(t,"__esModule",{value:!0})})});var Zl=j((r7,Lw)=>{"use strict";Lw.exports=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var a,s,i;if(Array.isArray(e)){if(a=e.length,a!=r.length)return!1;for(s=a;s--!==0;)if(!t(e[s],r[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(i=Object.keys(e),a=i.length,a!==Object.keys(r).length)return!1;for(s=a;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[s]))return!1;for(s=a;s--!==0;){var n=i[s];if(!t(e[n],r[n]))return!1}return!0}return e!==e&&r!==r}});var Mw=j((a7,Fw)=>{"use strict";Fw.exports=function(e){for(var r=0,a=e.length,s=0,i;s<a;)r++,i=e.charCodeAt(s++),i>=55296&&i<=56319&&s<a&&(i=e.charCodeAt(s),(i&64512)==56320&&s++);return r}});var bn=j((s7,zw)=>{"use strict";zw.exports={copy:LU,checkDataType:pm,checkDataTypes:FU,coerceToTypes:MU,toHash:mm,getProperty:hm,escapeQuotes:vm,equal:Zl(),ucs2length:Mw(),varOccurences:zU,varReplace:BU,schemaHasRules:ZU,schemaHasRulesExcept:VU,schemaUnknownRules:HU,toQuotedString:fm,getPathExpr:GU,getPath:WU,getData:QU,unescapeFragment:YU,unescapeJsonPointer:ym,escapeFragment:XU,escapeJsonPointer:gm};function LU(t,e){e=e||{};for(var r in t)e[r]=t[r];return e}function pm(t,e,r,a){var s=a?" !== ":" === ",i=a?" || ":" && ",n=a?"!":"",o=a?"":"!";switch(t){case"null":return e+s+"null";case"array":return n+"Array.isArray("+e+")";case"object":return"("+n+e+i+"typeof "+e+s+'"object"'+i+o+"Array.isArray("+e+"))";case"integer":return"(typeof "+e+s+'"number"'+i+o+"("+e+" % 1)"+i+e+s+e+(r?i+n+"isFinite("+e+")":"")+")";case"number":return"(typeof "+e+s+'"'+t+'"'+(r?i+n+"isFinite("+e+")":"")+")";default:return"typeof "+e+s+'"'+t+'"'}}function FU(t,e,r){switch(t.length){case 1:return pm(t[0],e,r,!0);default:var a="",s=mm(t);s.array&&s.object&&(a=s.null?"(":"(!"+e+" || ",a+="typeof "+e+' !== "object")',delete s.null,delete s.array,delete s.object),s.number&&delete s.integer;for(var i in s)a+=(a?" && ":"")+pm(i,e,r,!0);return a}}var qw=mm(["string","number","integer","boolean","null"]);function MU(t,e){if(Array.isArray(e)){for(var r=[],a=0;a<e.length;a++){var s=e[a];(qw[s]||t==="array"&&s==="array")&&(r[r.length]=s)}if(r.length)return r}else{if(qw[e])return[e];if(t==="array"&&e==="array")return["array"]}}function mm(t){for(var e={},r=0;r<t.length;r++)e[t[r]]=!0;return e}var qU=/^[a-z$_][a-z$_0-9]*$/i,UU=/'|\\/g;function hm(t){return typeof t=="number"?"["+t+"]":qU.test(t)?"."+t:"['"+vm(t)+"']"}function vm(t){return t.replace(UU,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function zU(t,e){e+="[^0-9]";var r=t.match(new RegExp(e,"g"));return r?r.length:0}function BU(t,e,r){return e+="([^0-9])",r=r.replace(/\$/g,"$$$$"),t.replace(new RegExp(e,"g"),r+"$1")}function ZU(t,e){if(typeof t=="boolean")return!t;for(var r in t)if(e[r])return!0}function VU(t,e,r){if(typeof t=="boolean")return!t&&r!="not";for(var a in t)if(a!=r&&e[a])return!0}function HU(t,e){if(typeof t!="boolean"){for(var r in t)if(!e[r])return r}}function fm(t){return"'"+vm(t)+"'"}function GU(t,e,r,a){var s=r?"'/' + "+e+(a?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):a?"'[' + "+e+" + ']'":"'[\\'' + "+e+" + '\\']'";return Uw(t,s)}function WU(t,e,r){var a=fm(r?"/"+gm(e):hm(e));return Uw(t,a)}var KU=/^\/(?:[^~]|~0|~1)*$/,JU=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function QU(t,e,r){var a,s,i,n;if(t==="")return"rootData";if(t[0]=="/"){if(!KU.test(t))throw new Error("Invalid JSON-pointer: "+t);s=t,i="rootData"}else{if(n=t.match(JU),!n)throw new Error("Invalid JSON-pointer: "+t);if(a=+n[1],s=n[2],s=="#"){if(a>=e)throw new Error("Cannot access property/index "+a+" levels up, current level is "+e);return r[e-a]}if(a>e)throw new Error("Cannot access data "+a+" levels up, current level is "+e);if(i="data"+(e-a||""),!s)return i}for(var o=i,l=s.split("/"),c=0;c<l.length;c++){var u=l[c];u&&(i+=hm(ym(u)),o+=" && "+i)}return o}function Uw(t,e){return t=='""'?e:(t+" + "+e).replace(/([^\\])' \+ '/g,"$1")}function YU(t){return ym(decodeURIComponent(t))}function XU(t){return encodeURIComponent(gm(t))}function gm(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}function ym(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}});var xm=j((n7,Bw)=>{"use strict";var ez=bn();Bw.exports=tz;function tz(t){ez.copy(t,this)}});var Vw=j((i7,Zw)=>{"use strict";var bs=Zw.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var a=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};Vl(e,a,s,t,"",t)};bs.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0};bs.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};bs.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};bs.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Vl(t,e,r,a,s,i,n,o,l,c){if(a&&typeof a=="object"&&!Array.isArray(a)){e(a,s,i,n,o,l,c);for(var u in a){var d=a[u];if(Array.isArray(d)){if(u in bs.arrayKeywords)for(var h=0;h<d.length;h++)Vl(t,e,r,d[h],s+"/"+u+"/"+h,i,s,u,a,h)}else if(u in bs.propsKeywords){if(d&&typeof d=="object")for(var p in d)Vl(t,e,r,d[p],s+"/"+u+"/"+rz(p),i,s,u,a,p)}else(u in bs.keywords||t.allKeys&&!(u in bs.skipKeywords))&&Vl(t,e,r,d,s+"/"+u,i,s,u,a)}r(a,s,i,n,o,l,c)}}function rz(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}});var Ql=j((o7,Kw)=>{"use strict";var Zo=$w(),Hw=Zl(),Kl=bn(),Hl=xm(),az=Vw();Kw.exports=ws;ws.normalizeId=_s;ws.fullPath=Gl;ws.url=Wl;ws.ids=cz;ws.inlineRef=bm;ws.schema=Jl;function ws(t,e,r){var a=this._refs[r];if(typeof a=="string")if(this._refs[a])a=this._refs[a];else return ws.call(this,t,e,a);if(a=a||this._schemas[r],a instanceof Hl)return bm(a.schema,this._opts.inlineRefs)?a.schema:a.validate||this._compile(a);var s=Jl.call(this,e,r),i,n,o;return s&&(i=s.schema,e=s.root,o=s.baseId),i instanceof Hl?n=i.validate||t.call(this,i.schema,e,void 0,o):i!==void 0&&(n=bm(i,this._opts.inlineRefs)?i:t.call(this,i,e,void 0,o)),n}function Jl(t,e){var r=Zo.parse(e),a=Ww(r),s=Gl(this._getId(t.schema));if(Object.keys(t.schema).length===0||a!==s){var i=_s(a),n=this._refs[i];if(typeof n=="string")return sz.call(this,t,n,r);if(n instanceof Hl)n.validate||this._compile(n),t=n;else if(n=this._schemas[i],n instanceof Hl){if(n.validate||this._compile(n),i==_s(e))return{schema:n,root:t,baseId:s};t=n}else return;if(!t.schema)return;s=Gl(this._getId(t.schema))}return Gw.call(this,r,s,t.schema,t)}function sz(t,e,r){var a=Jl.call(this,t,e);if(a){var s=a.schema,i=a.baseId;t=a.root;var n=this._getId(s);return n&&(i=Wl(i,n)),Gw.call(this,r,i,s,t)}}var nz=Kl.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function Gw(t,e,r,a){if(t.fragment=t.fragment||"",t.fragment.slice(0,1)=="/"){for(var s=t.fragment.split("/"),i=1;i<s.length;i++){var n=s[i];if(n){if(n=Kl.unescapeFragment(n),r=r[n],r===void 0)break;var o;if(!nz[n]&&(o=this._getId(r),o&&(e=Wl(e,o)),r.$ref)){var l=Wl(e,r.$ref),c=Jl.call(this,a,l);c&&(r=c.schema,a=c.root,e=c.baseId)}}}if(r!==void 0&&r!==a.schema)return{schema:r,root:a,baseId:e}}}var iz=Kl.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function bm(t,e){if(e===!1)return!1;if(e===void 0||e===!0)return _m(t);if(e)return wm(t)<=e}function _m(t){var e;if(Array.isArray(t)){for(var r=0;r<t.length;r++)if(e=t[r],typeof e=="object"&&!_m(e))return!1}else for(var a in t)if(a=="$ref"||(e=t[a],typeof e=="object"&&!_m(e)))return!1;return!0}function wm(t){var e=0,r;if(Array.isArray(t)){for(var a=0;a<t.length;a++)if(r=t[a],typeof r=="object"&&(e+=wm(r)),e==1/0)return 1/0}else for(var s in t){if(s=="$ref")return 1/0;if(iz[s])e++;else if(r=t[s],typeof r=="object"&&(e+=wm(r)+1),e==1/0)return 1/0}return e}function Gl(t,e){e!==!1&&(t=_s(t));var r=Zo.parse(t);return Ww(r)}function Ww(t){return Zo.serialize(t).split("#")[0]+"#"}var oz=/#\/?$/;function _s(t){return t?t.replace(oz,""):""}function Wl(t,e){return e=_s(e),Zo.resolve(t,e)}function cz(t){var e=_s(this._getId(t)),r={"":e},a={"":Gl(e,!1)},s={},i=this;return az(t,{allKeys:!0},function(n,o,l,c,u,d,h){if(o!==""){var p=i._getId(n),m=r[c],f=a[c]+"/"+u;if(h!==void 0&&(f+="/"+(typeof h=="number"?h:Kl.escapeFragment(h))),typeof p=="string"){p=m=_s(m?Zo.resolve(m,p):p);var v=i._refs[p];if(typeof v=="string"&&(v=i._refs[v]),v&&v.schema){if(!Hw(n,v.schema))throw new Error('id "'+p+'" resolves to more than one schema')}else if(p!=_s(f))if(p[0]=="#"){if(s[p]&&!Hw(n,s[p]))throw new Error('id "'+p+'" resolves to more than one schema');s[p]=n}else i._refs[p]=f}r[o]=m,a[o]=f}}),s}});var Yl=j((c7,Qw)=>{"use strict";var Sm=Ql();Qw.exports={Validation:Jw(lz),MissingRef:Jw(Em)};function lz(t){this.message="validation failed",this.errors=t,this.ajv=this.validation=!0}Em.message=function(t,e){return"can't resolve reference "+e+" from id "+t};function Em(t,e,r){this.message=r||Em.message(t,e),this.missingRef=Sm.url(t,e),this.missingSchema=Sm.normalizeId(Sm.fullPath(this.missingRef))}function Jw(t){return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}});var Pm=j((l7,Yw)=>{"use strict";Yw.exports=function(t,e){e||(e={}),typeof e=="function"&&(e={cmp:e});var r=typeof e.cycles=="boolean"?e.cycles:!1,a=e.cmp&&function(i){return function(n){return function(o,l){var c={key:o,value:n[o]},u={key:l,value:n[l]};return i(c,u)}}}(e.cmp),s=[];return function i(n){if(n&&n.toJSON&&typeof n.toJSON=="function"&&(n=n.toJSON()),n!==void 0){if(typeof n=="number")return isFinite(n)?""+n:"null";if(typeof n!="object")return JSON.stringify(n);var o,l;if(Array.isArray(n)){for(l="[",o=0;o<n.length;o++)o&&(l+=","),l+=i(n[o])||"null";return l+"]"}if(n===null)return"null";if(s.indexOf(n)!==-1){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var c=s.push(n)-1,u=Object.keys(n).sort(a&&a(n));for(l="",o=0;o<u.length;o++){var d=u[o],h=i(n[d]);h&&(l&&(l+=","),l+=JSON.stringify(d)+":"+h)}return s.splice(c,1),"{"+l+"}"}}(t)}});var Rm=j((u7,Xw)=>{"use strict";Xw.exports=function(e,r,a){var s="",i=e.schema.$async===!0,n=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),o=e.self._getId(e.schema);if(e.opts.strictKeywords){var l=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(l){var c="unknown keyword: "+l;if(e.opts.strictKeywords==="log")e.logger.warn(c);else throw new Error(c)}}if(e.isTop&&(s+=" var validate = ",i&&(e.async=!0,s+="async "),s+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",o&&(e.opts.sourceCode||e.opts.processCode)&&(s+=" "+("/*# sourceURL="+o+" */")+" ")),typeof e.schema=="boolean"||!(n||e.schema.$ref)){var r="false schema",u=e.level,d=e.dataLevel,h=e.schema[r],p=e.schemaPath+e.util.getProperty(r),m=e.errSchemaPath+"/"+r,T=!e.opts.allErrors,L,f="data"+(d||""),C="valid"+u;if(e.schema===!1){e.isTop?T=!0:s+=" var "+C+" = false; ";var v=v||[];v.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(L||"false schema")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: {} ",e.opts.messages!==!1&&(s+=" , message: 'boolean schema is false' "),e.opts.verbose&&(s+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),s+=" } "):s+=" {} ";var g=s;s=v.pop(),!e.compositeRule&&T?e.async?s+=" throw new ValidationError(["+g+"]); ":s+=" validate.errors = ["+g+"]; return false; ":s+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?i?s+=" return data; ":s+=" validate.errors = null; return true; ":s+=" var "+C+" = true; ";return e.isTop&&(s+=" }; return validate; "),s}if(e.isTop){var b=e.isTop,u=e.level=0,d=e.dataLevel=0,f="data";if(e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],e.schema.default!==void 0&&e.opts.useDefaults&&e.opts.strictDefaults){var w="default is ignored in the schema root";if(e.opts.strictDefaults==="log")e.logger.warn(w);else throw new Error(w)}s+=" var vErrors = null; ",s+=" var errors = 0;     ",s+=" if (rootData === undefined) rootData = data; "}else{var u=e.level,d=e.dataLevel,f="data"+(d||"");if(o&&(e.baseId=e.resolve.url(e.baseId,o)),i&&!e.async)throw new Error("async schema in sync schema");s+=" var errs_"+u+" = errors;"}var C="valid"+u,T=!e.opts.allErrors,R="",O="",L,N=e.schema.type,q=Array.isArray(N);if(N&&e.opts.nullable&&e.schema.nullable===!0&&(q?N.indexOf("null")==-1&&(N=N.concat("null")):N!="null"&&(N=[N,"null"],q=!0)),q&&N.length==1&&(N=N[0],q=!1),e.schema.$ref&&n){if(e.opts.extendRefs=="fail")throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');e.opts.extendRefs!==!0&&(n=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(s+=" "+e.RULES.all.$comment.code(e,"$comment")),N){if(e.opts.coerceTypes)var k=e.util.coerceToTypes(e.opts.coerceTypes,N);var A=e.RULES.types[N];if(k||q||A===!0||A&&!Ce(A)){var p=e.schemaPath+".type",m=e.errSchemaPath+"/type",p=e.schemaPath+".type",m=e.errSchemaPath+"/type",D=q?"checkDataTypes":"checkDataType";if(s+=" if ("+e.util[D](N,f,e.opts.strictNumbers,!0)+") { ",k){var $="dataType"+u,B="coerced"+u;s+=" var "+$+" = typeof "+f+"; var "+B+" = undefined; ",e.opts.coerceTypes=="array"&&(s+=" if ("+$+" == 'object' && Array.isArray("+f+") && "+f+".length == 1) { "+f+" = "+f+"[0]; "+$+" = typeof "+f+"; if ("+e.util.checkDataType(e.schema.type,f,e.opts.strictNumbers)+") "+B+" = "+f+"; } "),s+=" if ("+B+" !== undefined) ; ";var W=k;if(W)for(var G,K=-1,Q=W.length-1;K<Q;)G=W[K+=1],G=="string"?s+=" else if ("+$+" == 'number' || "+$+" == 'boolean') "+B+" = '' + "+f+"; else if ("+f+" === null) "+B+" = ''; ":G=="number"||G=="integer"?(s+=" else if ("+$+" == 'boolean' || "+f+" === null || ("+$+" == 'string' && "+f+" && "+f+" == +"+f+" ",G=="integer"&&(s+=" && !("+f+" % 1)"),s+=")) "+B+" = +"+f+"; "):G=="boolean"?s+=" else if ("+f+" === 'false' || "+f+" === 0 || "+f+" === null) "+B+" = false; else if ("+f+" === 'true' || "+f+" === 1) "+B+" = true; ":G=="null"?s+=" else if ("+f+" === '' || "+f+" === 0 || "+f+" === false) "+B+" = null; ":e.opts.coerceTypes=="array"&&G=="array"&&(s+=" else if ("+$+" == 'string' || "+$+" == 'number' || "+$+" == 'boolean' || "+f+" == null) "+B+" = ["+f+"]; ");s+=" else {   ";var v=v||[];v.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(L||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { type: '",q?s+=""+N.join(","):s+=""+N,s+="' } ",e.opts.messages!==!1&&(s+=" , message: 'should be ",q?s+=""+N.join(","):s+=""+N,s+="' "),e.opts.verbose&&(s+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),s+=" } "):s+=" {} ";var g=s;s=v.pop(),!e.compositeRule&&T?e.async?s+=" throw new ValidationError(["+g+"]); ":s+=" validate.errors = ["+g+"]; return false; ":s+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } if ("+B+" !== undefined) {  ";var Y=d?"data"+(d-1||""):"parentData",ae=d?e.dataPathArr[d]:"parentDataProperty";s+=" "+f+" = "+B+"; ",d||(s+="if ("+Y+" !== undefined)"),s+=" "+Y+"["+ae+"] = "+B+"; } "}else{var v=v||[];v.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(L||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { type: '",q?s+=""+N.join(","):s+=""+N,s+="' } ",e.opts.messages!==!1&&(s+=" , message: 'should be ",q?s+=""+N.join(","):s+=""+N,s+="' "),e.opts.verbose&&(s+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),s+=" } "):s+=" {} ";var g=s;s=v.pop(),!e.compositeRule&&T?e.async?s+=" throw new ValidationError(["+g+"]); ":s+=" validate.errors = ["+g+"]; return false; ":s+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}s+=" } "}}if(e.schema.$ref&&!n)s+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",T&&(s+=" } if (errors === ",b?s+="0":s+="errs_"+u,s+=") { ",O+="}");else{var ue=e.RULES;if(ue){for(var A,Qe=-1,ye=ue.length-1;Qe<ye;)if(A=ue[Qe+=1],Ce(A)){if(A.type&&(s+=" if ("+e.util.checkDataType(A.type,f,e.opts.strictNumbers)+") { "),e.opts.useDefaults){if(A.type=="object"&&e.schema.properties){var h=e.schema.properties,Re=Object.keys(h),Ie=Re;if(Ie)for(var Ue,U=-1,J=Ie.length-1;U<J;){Ue=Ie[U+=1];var ne=h[Ue];if(ne.default!==void 0){var he=f+e.util.getProperty(Ue);if(e.compositeRule){if(e.opts.strictDefaults){var w="default is ignored for: "+he;if(e.opts.strictDefaults==="log")e.logger.warn(w);else throw new Error(w)}}else s+=" if ("+he+" === undefined ",e.opts.useDefaults=="empty"&&(s+=" || "+he+" === null || "+he+" === '' "),s+=" ) "+he+" = ",e.opts.useDefaults=="shared"?s+=" "+e.useDefault(ne.default)+" ":s+=" "+JSON.stringify(ne.default)+" ",s+="; "}}}else if(A.type=="array"&&Array.isArray(e.schema.items)){var X=e.schema.items;if(X){for(var ne,K=-1,te=X.length-1;K<te;)if(ne=X[K+=1],ne.default!==void 0){var he=f+"["+K+"]";if(e.compositeRule){if(e.opts.strictDefaults){var w="default is ignored for: "+he;if(e.opts.strictDefaults==="log")e.logger.warn(w);else throw new Error(w)}}else s+=" if ("+he+" === undefined ",e.opts.useDefaults=="empty"&&(s+=" || "+he+" === null || "+he+" === '' "),s+=" ) "+he+" = ",e.opts.useDefaults=="shared"?s+=" "+e.useDefault(ne.default)+" ":s+=" "+JSON.stringify(ne.default)+" ",s+="; "}}}}var de=A.rules;if(de){for(var Le,_e=-1,it=de.length-1;_e<it;)if(Le=de[_e+=1],ft(Le)){var ot=Le.code(e,Le.keyword,A.type);ot&&(s+=" "+ot+" ",T&&(R+="}"))}}if(T&&(s+=" "+R+" ",R=""),A.type&&(s+=" } ",N&&N===A.type&&!k)){s+=" else { ";var p=e.schemaPath+".type",m=e.errSchemaPath+"/type",v=v||[];v.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(L||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { type: '",q?s+=""+N.join(","):s+=""+N,s+="' } ",e.opts.messages!==!1&&(s+=" , message: 'should be ",q?s+=""+N.join(","):s+=""+N,s+="' "),e.opts.verbose&&(s+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),s+=" } "):s+=" {} ";var g=s;s=v.pop(),!e.compositeRule&&T?e.async?s+=" throw new ValidationError(["+g+"]); ":s+=" validate.errors = ["+g+"]; return false; ":s+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } "}T&&(s+=" if (errors === ",b?s+="0":s+="errs_"+u,s+=") { ",O+="}")}}}T&&(s+=" "+O+" "),b?(i?(s+=" if (errors === 0) return data;           ",s+=" else throw new ValidationError(vErrors); "):(s+=" validate.errors = vErrors; ",s+=" return errors === 0;       "),s+=" }; return validate;"):s+=" var "+C+" = errors === errs_"+u+";";function Ce(dt){for(var at=dt.rules,ct=0;ct<at.length;ct++)if(ft(at[ct]))return!0}function ft(dt){return e.schema[dt.keyword]!==void 0||dt.implements&&Ye(dt)}function Ye(dt){for(var at=dt.implements,ct=0;ct<at.length;ct++)if(e.schema[at[ct]]!==void 0)return!0}return s}});var sS=j((d7,aS)=>{"use strict";var Xl=Ql(),tu=bn(),tS=Yl(),uz=Pm(),eS=Rm(),dz=tu.ucs2length,pz=Zl(),fz=tS.Validation;aS.exports=Cm;function Cm(t,e,r,a){var s=this,i=this._opts,n=[void 0],o={},l=[],c={},u=[],d={},h=[];e=e||{schema:t,refVal:n,refs:o};var p=mz.call(this,t,e,a),m=this._compilations[p.index];if(p.compiling)return m.callValidate=w;var f=this._formats,v=this.RULES;try{var g=C(t,e,r,a);m.validate=g;var b=m.callValidate;return b&&(b.schema=g.schema,b.errors=null,b.refs=g.refs,b.refVal=g.refVal,b.root=g.root,b.$async=g.$async,i.sourceCode&&(b.source=g.source)),g}finally{hz.call(this,t,e,a)}function w(){var D=m.validate,$=D.apply(this,arguments);return w.errors=D.errors,$}function C(D,$,B,W){var G=!$||$&&$.schema==D;if($.schema!=e.schema)return Cm.call(s,D,$,B,W);var K=D.$async===!0,Q=eS({isTop:!0,schema:D,isRoot:G,baseId:W,root:$,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:tS.MissingRef,RULES:v,validate:eS,util:tu,resolve:Xl,resolveRef:T,usePattern:q,useDefault:k,useCustomRule:A,opts:i,formats:f,logger:s.logger,self:s});Q=eu(n,yz)+eu(l,vz)+eu(u,gz)+eu(h,xz)+Q,i.processCode&&(Q=i.processCode(Q,D));var Y;try{var ae=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",Q);Y=ae(s,v,f,e,n,u,h,pz,dz,fz),n[0]=Y}catch(ue){throw s.logger.error("Error compiling schema, function code:",Q),ue}return Y.schema=D,Y.errors=null,Y.refs=o,Y.refVal=n,Y.root=G?Y:$,K&&(Y.$async=!0),i.sourceCode===!0&&(Y.source={code:Q,patterns:l,defaults:u}),Y}function T(D,$,B){$=Xl.url(D,$);var W=o[$],G,K;if(W!==void 0)return G=n[W],K="refVal["+W+"]",N(G,K);if(!B&&e.refs){var Q=e.refs[$];if(Q!==void 0)return G=e.refVal[Q],K=R($,G),N(G,K)}K=R($);var Y=Xl.call(s,C,e,$);if(Y===void 0){var ae=r&&r[$];ae&&(Y=Xl.inlineRef(ae,i.inlineRefs)?ae:Cm.call(s,ae,e,r,D))}if(Y===void 0)O($);else return L($,Y),N(Y,K)}function R(D,$){var B=n.length;return n[B]=$,o[D]=B,"refVal"+B}function O(D){delete o[D]}function L(D,$){var B=o[D];n[B]=$}function N(D,$){return typeof D=="object"||typeof D=="boolean"?{code:$,schema:D,inline:!0}:{code:$,$async:D&&!!D.$async}}function q(D){var $=c[D];return $===void 0&&($=c[D]=l.length,l[$]=D),"pattern"+$}function k(D){switch(typeof D){case"boolean":case"number":return""+D;case"string":return tu.toQuotedString(D);case"object":if(D===null)return"null";var $=uz(D),B=d[$];return B===void 0&&(B=d[$]=u.length,u[B]=D),"default"+B}}function A(D,$,B,W){if(s._opts.validateSchema!==!1){var G=D.definition.dependencies;if(G&&!G.every(function(Ie){return Object.prototype.hasOwnProperty.call(B,Ie)}))throw new Error("parent schema must have all required keywords: "+G.join(","));var K=D.definition.validateSchema;if(K){var Q=K($);if(!Q){var Y="keyword schema is invalid: "+s.errorsText(K.errors);if(s._opts.validateSchema=="log")s.logger.error(Y);else throw new Error(Y)}}}var ae=D.definition.compile,ue=D.definition.inline,Qe=D.definition.macro,ye;if(ae)ye=ae.call(s,$,B,W);else if(Qe)ye=Qe.call(s,$,B,W),i.validateSchema!==!1&&s.validateSchema(ye,!0);else if(ue)ye=ue.call(s,W,D.keyword,$,B);else if(ye=D.definition.validate,!ye)return;if(ye===void 0)throw new Error('custom keyword "'+D.keyword+'"failed to compile');var Re=h.length;return h[Re]=ye,{code:"customRule"+Re,validate:ye}}}function mz(t,e,r){var a=rS.call(this,t,e,r);return a>=0?{index:a,compiling:!0}:(a=this._compilations.length,this._compilations[a]={schema:t,root:e,baseId:r},{index:a,compiling:!1})}function hz(t,e,r){var a=rS.call(this,t,e,r);a>=0&&this._compilations.splice(a,1)}function rS(t,e,r){for(var a=0;a<this._compilations.length;a++){var s=this._compilations[a];if(s.schema==t&&s.root==e&&s.baseId==r)return a}return-1}function vz(t,e){return"var pattern"+t+" = new RegExp("+tu.toQuotedString(e[t])+");"}function gz(t){return"var default"+t+" = defaults["+t+"];"}function yz(t,e){return e[t]===void 0?"":"var refVal"+t+" = refVal["+t+"];"}function xz(t){return"var customRule"+t+" = customRules["+t+"];"}function eu(t,e){if(!t.length)return"";for(var r="",a=0;a<t.length;a++)r+=e(a,t);return r}});var iS=j((p7,nS)=>{"use strict";var ru=nS.exports=function(){this._cache={}};ru.prototype.put=function(e,r){this._cache[e]=r};ru.prototype.get=function(e){return this._cache[e]};ru.prototype.del=function(e){delete this._cache[e]};ru.prototype.clear=function(){this._cache={}}});var yS=j((f7,gS)=>{"use strict";var bz=bn(),_z=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,wz=[0,31,28,31,30,31,30,31,31,30,31,30,31],Sz=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,oS=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,Ez=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,Pz=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,cS=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,lS=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,uS=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,dS=/^(?:\/(?:[^~/]|~0|~1)*)*$/,pS=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,fS=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;gS.exports=au;function au(t){return t=t=="full"?"full":"fast",bz.copy(au[t])}au.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":cS,url:lS,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:oS,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:vS,uuid:uS,"json-pointer":dS,"json-pointer-uri-fragment":pS,"relative-json-pointer":fS};au.full={date:mS,time:hS,"date-time":Tz,uri:Iz,"uri-reference":Pz,"uri-template":cS,url:lS,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:oS,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:vS,uuid:uS,"json-pointer":dS,"json-pointer-uri-fragment":pS,"relative-json-pointer":fS};function Rz(t){return t%4===0&&(t%100!==0||t%400===0)}function mS(t){var e=t.match(_z);if(!e)return!1;var r=+e[1],a=+e[2],s=+e[3];return a>=1&&a<=12&&s>=1&&s<=(a==2&&Rz(r)?29:wz[a])}function hS(t,e){var r=t.match(Sz);if(!r)return!1;var a=r[1],s=r[2],i=r[3],n=r[5];return(a<=23&&s<=59&&i<=59||a==23&&s==59&&i==60)&&(!e||n)}var Cz=/t|\s/i;function Tz(t){var e=t.split(Cz);return e.length==2&&mS(e[0])&&hS(e[1],!0)}var Oz=/\/|:/;function Iz(t){return Oz.test(t)&&Ez.test(t)}var Az=/[^\\]\\Z/;function vS(t){if(Az.test(t))return!1;try{return new RegExp(t),!0}catch{return!1}}});var bS=j((m7,xS)=>{"use strict";xS.exports=function(e,r,a){var s=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,u="data"+(n||""),d="valid"+i,h,p;if(o=="#"||o=="#/")e.isRoot?(h=e.async,p="validate"):(h=e.root.schema.$async===!0,p="root.refVal[0]");else{var m=e.resolveRef(e.baseId,o,e.isRoot);if(m===void 0){var f=e.MissingRefError.message(e.baseId,o);if(e.opts.missingRefs=="fail"){e.logger.error(f);var v=v||[];v.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { ref: '"+e.util.escapeQuotes(o)+"' } ",e.opts.messages!==!1&&(s+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(o)+"' "),e.opts.verbose&&(s+=" , schema: "+e.util.toQuotedString(o)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),s+=" } "):s+=" {} ";var g=s;s=v.pop(),!e.compositeRule&&c?e.async?s+=" throw new ValidationError(["+g+"]); ":s+=" validate.errors = ["+g+"]; return false; ":s+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(s+=" if (false) { ")}else if(e.opts.missingRefs=="ignore")e.logger.warn(f),c&&(s+=" if (true) { ");else throw new e.MissingRefError(e.baseId,o,f)}else if(m.inline){var b=e.util.copy(e);b.level++;var w="valid"+b.level;b.schema=m.schema,b.schemaPath="",b.errSchemaPath=o;var C=e.validate(b).replace(/validate\.schema/g,m.code);s+=" "+C+" ",c&&(s+=" if ("+w+") { ")}else h=m.$async===!0||e.async&&m.$async!==!1,p=m.code}if(p){var v=v||[];v.push(s),s="",e.opts.passContext?s+=" "+p+".call(this, ":s+=" "+p+"( ",s+=" "+u+", (dataPath || '')",e.errorPath!='""'&&(s+=" + "+e.errorPath);var T=n?"data"+(n-1||""):"parentData",R=n?e.dataPathArr[n]:"parentDataProperty";s+=" , "+T+" , "+R+", rootData)  ";var O=s;if(s=v.pop(),h){if(!e.async)throw new Error("async schema referenced by sync schema");c&&(s+=" var "+d+"; "),s+=" try { await "+O+"; ",c&&(s+=" "+d+" = true; "),s+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",c&&(s+=" "+d+" = false; "),s+=" } ",c&&(s+=" if ("+d+") { ")}else s+=" if (!"+O+") { if (vErrors === null) vErrors = "+p+".errors; else vErrors = vErrors.concat("+p+".errors); errors = vErrors.length; } ",c&&(s+=" else { ")}return s}});var wS=j((h7,_S)=>{"use strict";_S.exports=function(e,r,a){var s=" ",i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),o=e.errSchemaPath+"/"+r,l=!e.opts.allErrors,c=e.util.copy(e),u="";c.level++;var d="valid"+c.level,h=c.baseId,p=!0,m=i;if(m)for(var f,v=-1,g=m.length-1;v<g;)f=m[v+=1],(e.opts.strictKeywords?typeof f=="object"&&Object.keys(f).length>0||f===!1:e.util.schemaHasRules(f,e.RULES.all))&&(p=!1,c.schema=f,c.schemaPath=n+"["+v+"]",c.errSchemaPath=o+"/"+v,s+="  "+e.validate(c)+" ",c.baseId=h,l&&(s+=" if ("+d+") { ",u+="}"));return l&&(p?s+=" if (true) { ":s+=" "+u.slice(0,-1)+" "),s}});var ES=j((v7,SS)=>{"use strict";SS.exports=function(e,r,a){var s=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,d="data"+(n||""),h="valid"+i,p="errs__"+i,m=e.util.copy(e),f="";m.level++;var v="valid"+m.level,g=o.every(function(L){return e.opts.strictKeywords?typeof L=="object"&&Object.keys(L).length>0||L===!1:e.util.schemaHasRules(L,e.RULES.all)});if(g){var b=m.baseId;s+=" var "+p+" = errors; var "+h+" = false;  ";var w=e.compositeRule;e.compositeRule=m.compositeRule=!0;var C=o;if(C)for(var T,R=-1,O=C.length-1;R<O;)T=C[R+=1],m.schema=T,m.schemaPath=l+"["+R+"]",m.errSchemaPath=c+"/"+R,s+="  "+e.validate(m)+" ",m.baseId=b,s+=" "+h+" = "+h+" || "+v+"; if (!"+h+") { ",f+="}";e.compositeRule=m.compositeRule=w,s+=" "+f+" if (!"+h+") {   var err =   ",e.createErrors!==!1?(s+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",e.opts.messages!==!1&&(s+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?s+=" throw new ValidationError(vErrors); ":s+=" validate.errors = vErrors; return false; "),s+=" } else {  errors = "+p+"; if (vErrors !== null) { if ("+p+") vErrors.length = "+p+"; else vErrors = null; } ",e.opts.allErrors&&(s+=" } ")}else u&&(s+=" if (true) { ");return s}});var RS=j((g7,PS)=>{"use strict";PS.exports=function(e,r,a){var s=" ",i=e.schema[r],n=e.errSchemaPath+"/"+r,o=!e.opts.allErrors,l=e.util.toQuotedString(i);return e.opts.$comment===!0?s+=" console.log("+l+");":typeof e.opts.$comment=="function"&&(s+=" self._opts.$comment("+l+", "+e.util.toQuotedString(n)+", validate.root.schema);"),s}});var TS=j((y7,CS)=>{"use strict";CS.exports=function(e,r,a){var s=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,d="data"+(n||""),h="valid"+i,p=e.opts.$data&&o&&o.$data,m;p?(s+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",m="schema"+i):m=o,p||(s+=" var schema"+i+" = validate.schema"+l+";"),s+="var "+h+" = equal("+d+", schema"+i+"); if (!"+h+") {   ";var f=f||[];f.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { allowedValue: schema"+i+" } ",e.opts.messages!==!1&&(s+=" , message: 'should be equal to constant' "),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var v=s;return s=f.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+v+"]); ":s+=" validate.errors = ["+v+"]; return false; ":s+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" }",u&&(s+=" else { "),s}});var IS=j((x7,OS)=>{"use strict";OS.exports=function(e,r,a){var s=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,d="data"+(n||""),h="valid"+i,p="errs__"+i,m=e.util.copy(e),f="";m.level++;var v="valid"+m.level,g="i"+i,b=m.dataLevel=e.dataLevel+1,w="data"+b,C=e.baseId,T=e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all);if(s+="var "+p+" = errors;var "+h+";",T){var R=e.compositeRule;e.compositeRule=m.compositeRule=!0,m.schema=o,m.schemaPath=l,m.errSchemaPath=c,s+=" var "+v+" = false; for (var "+g+" = 0; "+g+" < "+d+".length; "+g+"++) { ",m.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0);var O=d+"["+g+"]";m.dataPathArr[b]=g;var L=e.validate(m);m.baseId=C,e.util.varOccurences(L,w)<2?s+=" "+e.util.varReplace(L,w,O)+" ":s+=" var "+w+" = "+O+"; "+L+" ",s+=" if ("+v+") break; }  ",e.compositeRule=m.compositeRule=R,s+=" "+f+" if (!"+v+") {"}else s+=" if ("+d+".length == 0) {";var N=N||[];N.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",e.opts.messages!==!1&&(s+=" , message: 'should contain a valid item' "),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var q=s;return s=N.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+q+"]); ":s+=" validate.errors = ["+q+"]; return false; ":s+=" var err = "+q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } else { ",T&&(s+="  errors = "+p+"; if (vErrors !== null) { if ("+p+") vErrors.length = "+p+"; else vErrors = null; } "),e.opts.allErrors&&(s+=" } "),s}});var kS=j((b7,AS)=>{"use strict";AS.exports=function(e,r,a){var s=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,d="data"+(n||""),h="errs__"+i,p=e.util.copy(e),m="";p.level++;var f="valid"+p.level,v={},g={},b=e.opts.ownProperties;for(R in o)if(R!="__proto__"){var w=o[R],C=Array.isArray(w)?g:v;C[R]=w}s+="var "+h+" = errors;";var T=e.errorPath;s+="var missing"+i+";";for(var R in g)if(C=g[R],C.length){if(s+=" if ( "+d+e.util.getProperty(R)+" !== undefined ",b&&(s+=" && Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(R)+"') "),u){s+=" && ( ";var O=C;if(O)for(var L,N=-1,q=O.length-1;N<q;){L=O[N+=1],N&&(s+=" || ");var k=e.util.getProperty(L),A=d+k;s+=" ( ( "+A+" === undefined ",b&&(s+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(L)+"') "),s+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?L:k)+") ) "}s+=")) {  ";var D="missing"+i,$="' + "+D+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(T,D,!0):T+" + "+D);var B=B||[];B.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { property: '"+e.util.escapeQuotes(R)+"', missingProperty: '"+$+"', depsCount: "+C.length+", deps: '"+e.util.escapeQuotes(C.length==1?C[0]:C.join(", "))+"' } ",e.opts.messages!==!1&&(s+=" , message: 'should have ",C.length==1?s+="property "+e.util.escapeQuotes(C[0]):s+="properties "+e.util.escapeQuotes(C.join(", ")),s+=" when property "+e.util.escapeQuotes(R)+" is present' "),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var W=s;s=B.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+W+"]); ":s+=" validate.errors = ["+W+"]; return false; ":s+=" var err = "+W+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{s+=" ) { ";var G=C;if(G)for(var L,K=-1,Q=G.length-1;K<Q;){L=G[K+=1];var k=e.util.getProperty(L),$=e.util.escapeQuotes(L),A=d+k;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(T,L,e.opts.jsonPointers)),s+=" if ( "+A+" === undefined ",b&&(s+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(L)+"') "),s+=") {  var err =   ",e.createErrors!==!1?(s+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { property: '"+e.util.escapeQuotes(R)+"', missingProperty: '"+$+"', depsCount: "+C.length+", deps: '"+e.util.escapeQuotes(C.length==1?C[0]:C.join(", "))+"' } ",e.opts.messages!==!1&&(s+=" , message: 'should have ",C.length==1?s+="property "+e.util.escapeQuotes(C[0]):s+="properties "+e.util.escapeQuotes(C.join(", ")),s+=" when property "+e.util.escapeQuotes(R)+" is present' "),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}s+=" }   ",u&&(m+="}",s+=" else { ")}e.errorPath=T;var Y=p.baseId;for(var R in v){var w=v[R];(e.opts.strictKeywords?typeof w=="object"&&Object.keys(w).length>0||w===!1:e.util.schemaHasRules(w,e.RULES.all))&&(s+=" "+f+" = true; if ( "+d+e.util.getProperty(R)+" !== undefined ",b&&(s+=" && Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(R)+"') "),s+=") { ",p.schema=w,p.schemaPath=l+e.util.getProperty(R),p.errSchemaPath=c+"/"+e.util.escapeFragment(R),s+="  "+e.validate(p)+" ",p.baseId=Y,s+=" }  ",u&&(s+=" if ("+f+") { ",m+="}"))}return u&&(s+="   "+m+" if ("+h+" == errors) {"),s}});var jS=j((_7,DS)=>{"use strict";DS.exports=function(e,r,a){var s=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,d="data"+(n||""),h="valid"+i,p=e.opts.$data&&o&&o.$data,m;p?(s+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",m="schema"+i):m=o;var f="i"+i,v="schema"+i;p||(s+=" var "+v+" = validate.schema"+l+";"),s+="var "+h+";",p&&(s+=" if (schema"+i+" === undefined) "+h+" = true; else if (!Array.isArray(schema"+i+")) "+h+" = false; else {"),s+=""+h+" = false;for (var "+f+"=0; "+f+"<"+v+".length; "+f+"++) if (equal("+d+", "+v+"["+f+"])) { "+h+" = true; break; }",p&&(s+="  }  "),s+=" if (!"+h+") {   ";var g=g||[];g.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { allowedValues: schema"+i+" } ",e.opts.messages!==!1&&(s+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var b=s;return s=g.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+b+"]); ":s+=" validate.errors = ["+b+"]; return false; ":s+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" }",u&&(s+=" else { "),s}});var $S=j((w7,NS)=>{"use strict";NS.exports=function(e,r,a){var s=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,d="data"+(n||"");if(e.opts.format===!1)return u&&(s+=" if (true) { "),s;var h=e.opts.$data&&o&&o.$data,p;h?(s+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",p="schema"+i):p=o;var m=e.opts.unknownFormats,f=Array.isArray(m);if(h){var v="format"+i,g="isObject"+i,b="formatType"+i;s+=" var "+v+" = formats["+p+"]; var "+g+" = typeof "+v+" == 'object' && !("+v+" instanceof RegExp) && "+v+".validate; var "+b+" = "+g+" && "+v+".type || 'string'; if ("+g+") { ",e.async&&(s+=" var async"+i+" = "+v+".async; "),s+=" "+v+" = "+v+".validate; } if (  ",h&&(s+=" ("+p+" !== undefined && typeof "+p+" != 'string') || "),s+=" (",m!="ignore"&&(s+=" ("+p+" && !"+v+" ",f&&(s+=" && self._opts.unknownFormats.indexOf("+p+") == -1 "),s+=") || "),s+=" ("+v+" && "+b+" == '"+a+"' && !(typeof "+v+" == 'function' ? ",e.async?s+=" (async"+i+" ? await "+v+"("+d+") : "+v+"("+d+")) ":s+=" "+v+"("+d+") ",s+=" : "+v+".test("+d+"))))) {"}else{var v=e.formats[o];if(!v){if(m=="ignore")return e.logger.warn('unknown format "'+o+'" ignored in schema at path "'+e.errSchemaPath+'"'),u&&(s+=" if (true) { "),s;if(f&&m.indexOf(o)>=0)return u&&(s+=" if (true) { "),s;throw new Error('unknown format "'+o+'" is used in schema at path "'+e.errSchemaPath+'"')}var g=typeof v=="object"&&!(v instanceof RegExp)&&v.validate,b=g&&v.type||"string";if(g){var w=v.async===!0;v=v.validate}if(b!=a)return u&&(s+=" if (true) { "),s;if(w){if(!e.async)throw new Error("async format in sync schema");var C="formats"+e.util.getProperty(o)+".validate";s+=" if (!(await "+C+"("+d+"))) { "}else{s+=" if (! ";var C="formats"+e.util.getProperty(o);g&&(C+=".validate"),typeof v=="function"?s+=" "+C+"("+d+") ":s+=" "+C+".test("+d+") ",s+=") { "}}var T=T||[];T.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { format:  ",h?s+=""+p:s+=""+e.util.toQuotedString(o),s+="  } ",e.opts.messages!==!1&&(s+=` , message: 'should match format "`,h?s+="' + "+p+" + '":s+=""+e.util.escapeQuotes(o),s+=`"' `),e.opts.verbose&&(s+=" , schema:  ",h?s+="validate.schema"+l:s+=""+e.util.toQuotedString(o),s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var R=s;return s=T.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+R+"]); ":s+=" validate.errors = ["+R+"]; return false; ":s+=" var err = "+R+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } ",u&&(s+=" else { "),s}});var FS=j((S7,LS)=>{"use strict";LS.exports=function(e,r,a){var s=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,d="data"+(n||""),h="valid"+i,p="errs__"+i,m=e.util.copy(e);m.level++;var f="valid"+m.level,v=e.schema.then,g=e.schema.else,b=v!==void 0&&(e.opts.strictKeywords?typeof v=="object"&&Object.keys(v).length>0||v===!1:e.util.schemaHasRules(v,e.RULES.all)),w=g!==void 0&&(e.opts.strictKeywords?typeof g=="object"&&Object.keys(g).length>0||g===!1:e.util.schemaHasRules(g,e.RULES.all)),C=m.baseId;if(b||w){var T;m.createErrors=!1,m.schema=o,m.schemaPath=l,m.errSchemaPath=c,s+=" var "+p+" = errors; var "+h+" = true;  ";var R=e.compositeRule;e.compositeRule=m.compositeRule=!0,s+="  "+e.validate(m)+" ",m.baseId=C,m.createErrors=!0,s+="  errors = "+p+"; if (vErrors !== null) { if ("+p+") vErrors.length = "+p+"; else vErrors = null; }  ",e.compositeRule=m.compositeRule=R,b?(s+=" if ("+f+") {  ",m.schema=e.schema.then,m.schemaPath=e.schemaPath+".then",m.errSchemaPath=e.errSchemaPath+"/then",s+="  "+e.validate(m)+" ",m.baseId=C,s+=" "+h+" = "+f+"; ",b&&w?(T="ifClause"+i,s+=" var "+T+" = 'then'; "):T="'then'",s+=" } ",w&&(s+=" else { ")):s+=" if (!"+f+") { ",w&&(m.schema=e.schema.else,m.schemaPath=e.schemaPath+".else",m.errSchemaPath=e.errSchemaPath+"/else",s+="  "+e.validate(m)+" ",m.baseId=C,s+=" "+h+" = "+f+"; ",b&&w?(T="ifClause"+i,s+=" var "+T+" = 'else'; "):T="'else'",s+=" } "),s+=" if (!"+h+") {   var err =   ",e.createErrors!==!1?(s+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { failingKeyword: "+T+" } ",e.opts.messages!==!1&&(s+=` , message: 'should match "' + `+T+` + '" schema' `),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?s+=" throw new ValidationError(vErrors); ":s+=" validate.errors = vErrors; return false; "),s+=" }   ",u&&(s+=" else { ")}else u&&(s+=" if (true) { ");return s}});var qS=j((E7,MS)=>{"use strict";MS.exports=function(e,r,a){var s=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,d="data"+(n||""),h="valid"+i,p="errs__"+i,m=e.util.copy(e),f="";m.level++;var v="valid"+m.level,g="i"+i,b=m.dataLevel=e.dataLevel+1,w="data"+b,C=e.baseId;if(s+="var "+p+" = errors;var "+h+";",Array.isArray(o)){var T=e.schema.additionalItems;if(T===!1){s+=" "+h+" = "+d+".length <= "+o.length+"; ";var R=c;c=e.errSchemaPath+"/additionalItems",s+="  if (!"+h+") {   ";var O=O||[];O.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+o.length+" } ",e.opts.messages!==!1&&(s+=" , message: 'should NOT have more than "+o.length+" items' "),e.opts.verbose&&(s+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var L=s;s=O.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+L+"]); ":s+=" validate.errors = ["+L+"]; return false; ":s+=" var err = "+L+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } ",c=R,u&&(f+="}",s+=" else { ")}var N=o;if(N){for(var q,k=-1,A=N.length-1;k<A;)if(q=N[k+=1],e.opts.strictKeywords?typeof q=="object"&&Object.keys(q).length>0||q===!1:e.util.schemaHasRules(q,e.RULES.all)){s+=" "+v+" = true; if ("+d+".length > "+k+") { ";var D=d+"["+k+"]";m.schema=q,m.schemaPath=l+"["+k+"]",m.errSchemaPath=c+"/"+k,m.errorPath=e.util.getPathExpr(e.errorPath,k,e.opts.jsonPointers,!0),m.dataPathArr[b]=k;var $=e.validate(m);m.baseId=C,e.util.varOccurences($,w)<2?s+=" "+e.util.varReplace($,w,D)+" ":s+=" var "+w+" = "+D+"; "+$+" ",s+=" }  ",u&&(s+=" if ("+v+") { ",f+="}")}}if(typeof T=="object"&&(e.opts.strictKeywords?typeof T=="object"&&Object.keys(T).length>0||T===!1:e.util.schemaHasRules(T,e.RULES.all))){m.schema=T,m.schemaPath=e.schemaPath+".additionalItems",m.errSchemaPath=e.errSchemaPath+"/additionalItems",s+=" "+v+" = true; if ("+d+".length > "+o.length+") {  for (var "+g+" = "+o.length+"; "+g+" < "+d+".length; "+g+"++) { ",m.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0);var D=d+"["+g+"]";m.dataPathArr[b]=g;var $=e.validate(m);m.baseId=C,e.util.varOccurences($,w)<2?s+=" "+e.util.varReplace($,w,D)+" ":s+=" var "+w+" = "+D+"; "+$+" ",u&&(s+=" if (!"+v+") break; "),s+=" } }  ",u&&(s+=" if ("+v+") { ",f+="}")}}else if(e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all)){m.schema=o,m.schemaPath=l,m.errSchemaPath=c,s+="  for (var "+g+" = 0; "+g+" < "+d+".length; "+g+"++) { ",m.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0);var D=d+"["+g+"]";m.dataPathArr[b]=g;var $=e.validate(m);m.baseId=C,e.util.varOccurences($,w)<2?s+=" "+e.util.varReplace($,w,D)+" ":s+=" var "+w+" = "+D+"; "+$+" ",u&&(s+=" if (!"+v+") break; "),s+=" }"}return u&&(s+=" "+f+" if ("+p+" == errors) {"),s}});var Tm=j((P7,US)=>{"use strict";US.exports=function(e,r,a){var s=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,C,d="data"+(n||""),h=e.opts.$data&&o&&o.$data,p;h?(s+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",p="schema"+i):p=o;var m=r=="maximum",f=m?"exclusiveMaximum":"exclusiveMinimum",v=e.schema[f],g=e.opts.$data&&v&&v.$data,b=m?"<":">",w=m?">":"<",C=void 0;if(!(h||typeof o=="number"||o===void 0))throw new Error(r+" must be number");if(!(g||v===void 0||typeof v=="number"||typeof v=="boolean"))throw new Error(f+" must be number or boolean");if(g){var T=e.util.getData(v.$data,n,e.dataPathArr),R="exclusive"+i,O="exclType"+i,L="exclIsNumber"+i,N="op"+i,q="' + "+N+" + '";s+=" var schemaExcl"+i+" = "+T+"; ",T="schemaExcl"+i,s+=" var "+R+"; var "+O+" = typeof "+T+"; if ("+O+" != 'boolean' && "+O+" != 'undefined' && "+O+" != 'number') { ";var C=f,k=k||[];k.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(C||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",e.opts.messages!==!1&&(s+=" , message: '"+f+" should be boolean' "),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var A=s;s=k.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+A+"]); ":s+=" validate.errors = ["+A+"]; return false; ":s+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } else if ( ",h&&(s+=" ("+p+" !== undefined && typeof "+p+" != 'number') || "),s+=" "+O+" == 'number' ? ( ("+R+" = "+p+" === undefined || "+T+" "+b+"= "+p+") ? "+d+" "+w+"= "+T+" : "+d+" "+w+" "+p+" ) : ( ("+R+" = "+T+" === true) ? "+d+" "+w+"= "+p+" : "+d+" "+w+" "+p+" ) || "+d+" !== "+d+") { var op"+i+" = "+R+" ? '"+b+"' : '"+b+"='; ",o===void 0&&(C=f,c=e.errSchemaPath+"/"+f,p=T,h=g)}else{var L=typeof v=="number",q=b;if(L&&h){var N="'"+q+"'";s+=" if ( ",h&&(s+=" ("+p+" !== undefined && typeof "+p+" != 'number') || "),s+=" ( "+p+" === undefined || "+v+" "+b+"= "+p+" ? "+d+" "+w+"= "+v+" : "+d+" "+w+" "+p+" ) || "+d+" !== "+d+") { "}else{L&&o===void 0?(R=!0,C=f,c=e.errSchemaPath+"/"+f,p=v,w+="="):(L&&(p=Math[m?"min":"max"](v,o)),v===(L?p:!0)?(R=!0,C=f,c=e.errSchemaPath+"/"+f,w+="="):(R=!1,q+="="));var N="'"+q+"'";s+=" if ( ",h&&(s+=" ("+p+" !== undefined && typeof "+p+" != 'number') || "),s+=" "+d+" "+w+" "+p+" || "+d+" !== "+d+") { "}}C=C||r;var k=k||[];k.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(C||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { comparison: "+N+", limit: "+p+", exclusive: "+R+" } ",e.opts.messages!==!1&&(s+=" , message: 'should be "+q+" ",h?s+="' + "+p:s+=""+p+"'"),e.opts.verbose&&(s+=" , schema:  ",h?s+="validate.schema"+l:s+=""+o,s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var A=s;return s=k.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+A+"]); ":s+=" validate.errors = ["+A+"]; return false; ":s+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } ",u&&(s+=" else { "),s}});var Om=j((R7,zS)=>{"use strict";zS.exports=function(e,r,a){var s=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,f,d="data"+(n||""),h=e.opts.$data&&o&&o.$data,p;if(h?(s+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",p="schema"+i):p=o,!(h||typeof o=="number"))throw new Error(r+" must be number");var m=r=="maxItems"?">":"<";s+="if ( ",h&&(s+=" ("+p+" !== undefined && typeof "+p+" != 'number') || "),s+=" "+d+".length "+m+" "+p+") { ";var f=r,v=v||[];v.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(f||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+p+" } ",e.opts.messages!==!1&&(s+=" , message: 'should NOT have ",r=="maxItems"?s+="more":s+="fewer",s+=" than ",h?s+="' + "+p+" + '":s+=""+o,s+=" items' "),e.opts.verbose&&(s+=" , schema:  ",h?s+="validate.schema"+l:s+=""+o,s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var g=s;return s=v.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+g+"]); ":s+=" validate.errors = ["+g+"]; return false; ":s+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",u&&(s+=" else { "),s}});var Im=j((C7,BS)=>{"use strict";BS.exports=function(e,r,a){var s=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,f,d="data"+(n||""),h=e.opts.$data&&o&&o.$data,p;if(h?(s+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",p="schema"+i):p=o,!(h||typeof o=="number"))throw new Error(r+" must be number");var m=r=="maxLength"?">":"<";s+="if ( ",h&&(s+=" ("+p+" !== undefined && typeof "+p+" != 'number') || "),e.opts.unicode===!1?s+=" "+d+".length ":s+=" ucs2length("+d+") ",s+=" "+m+" "+p+") { ";var f=r,v=v||[];v.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(f||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+p+" } ",e.opts.messages!==!1&&(s+=" , message: 'should NOT be ",r=="maxLength"?s+="longer":s+="shorter",s+=" than ",h?s+="' + "+p+" + '":s+=""+o,s+=" characters' "),e.opts.verbose&&(s+=" , schema:  ",h?s+="validate.schema"+l:s+=""+o,s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var g=s;return s=v.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+g+"]); ":s+=" validate.errors = ["+g+"]; return false; ":s+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",u&&(s+=" else { "),s}});var Am=j((T7,ZS)=>{"use strict";ZS.exports=function(e,r,a){var s=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,f,d="data"+(n||""),h=e.opts.$data&&o&&o.$data,p;if(h?(s+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",p="schema"+i):p=o,!(h||typeof o=="number"))throw new Error(r+" must be number");var m=r=="maxProperties"?">":"<";s+="if ( ",h&&(s+=" ("+p+" !== undefined && typeof "+p+" != 'number') || "),s+=" Object.keys("+d+").length "+m+" "+p+") { ";var f=r,v=v||[];v.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(f||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+p+" } ",e.opts.messages!==!1&&(s+=" , message: 'should NOT have ",r=="maxProperties"?s+="more":s+="fewer",s+=" than ",h?s+="' + "+p+" + '":s+=""+o,s+=" properties' "),e.opts.verbose&&(s+=" , schema:  ",h?s+="validate.schema"+l:s+=""+o,s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var g=s;return s=v.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+g+"]); ":s+=" validate.errors = ["+g+"]; return false; ":s+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",u&&(s+=" else { "),s}});var HS=j((O7,VS)=>{"use strict";VS.exports=function(e,r,a){var s=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,d="data"+(n||""),h=e.opts.$data&&o&&o.$data,p;if(h?(s+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",p="schema"+i):p=o,!(h||typeof o=="number"))throw new Error(r+" must be number");s+="var division"+i+";if (",h&&(s+=" "+p+" !== undefined && ( typeof "+p+" != 'number' || "),s+=" (division"+i+" = "+d+" / "+p+", ",e.opts.multipleOfPrecision?s+=" Math.abs(Math.round(division"+i+") - division"+i+") > 1e-"+e.opts.multipleOfPrecision+" ":s+=" division"+i+" !== parseInt(division"+i+") ",s+=" ) ",h&&(s+="  )  "),s+=" ) {   ";var m=m||[];m.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { multipleOf: "+p+" } ",e.opts.messages!==!1&&(s+=" , message: 'should be multiple of ",h?s+="' + "+p:s+=""+p+"'"),e.opts.verbose&&(s+=" , schema:  ",h?s+="validate.schema"+l:s+=""+o,s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var f=s;return s=m.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+f+"]); ":s+=" validate.errors = ["+f+"]; return false; ":s+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",u&&(s+=" else { "),s}});var WS=j((I7,GS)=>{"use strict";GS.exports=function(e,r,a){var s=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,d="data"+(n||""),h="errs__"+i,p=e.util.copy(e);p.level++;var m="valid"+p.level;if(e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all)){p.schema=o,p.schemaPath=l,p.errSchemaPath=c,s+=" var "+h+" = errors;  ";var f=e.compositeRule;e.compositeRule=p.compositeRule=!0,p.createErrors=!1;var v;p.opts.allErrors&&(v=p.opts.allErrors,p.opts.allErrors=!1),s+=" "+e.validate(p)+" ",p.createErrors=!0,v&&(p.opts.allErrors=v),e.compositeRule=p.compositeRule=f,s+=" if ("+m+") {   ";var g=g||[];g.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",e.opts.messages!==!1&&(s+=" , message: 'should NOT be valid' "),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var b=s;s=g.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+b+"]); ":s+=" validate.errors = ["+b+"]; return false; ":s+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } ",e.opts.allErrors&&(s+=" } ")}else s+="  var err =   ",e.createErrors!==!1?(s+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",e.opts.messages!==!1&&(s+=" , message: 'should NOT be valid' "),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(s+=" if (false) { ");return s}});var JS=j((A7,KS)=>{"use strict";KS.exports=function(e,r,a){var s=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,d="data"+(n||""),h="valid"+i,p="errs__"+i,m=e.util.copy(e),f="";m.level++;var v="valid"+m.level,g=m.baseId,b="prevValid"+i,w="passingSchemas"+i;s+="var "+p+" = errors , "+b+" = false , "+h+" = false , "+w+" = null; ";var C=e.compositeRule;e.compositeRule=m.compositeRule=!0;var T=o;if(T)for(var R,O=-1,L=T.length-1;O<L;)R=T[O+=1],(e.opts.strictKeywords?typeof R=="object"&&Object.keys(R).length>0||R===!1:e.util.schemaHasRules(R,e.RULES.all))?(m.schema=R,m.schemaPath=l+"["+O+"]",m.errSchemaPath=c+"/"+O,s+="  "+e.validate(m)+" ",m.baseId=g):s+=" var "+v+" = true; ",O&&(s+=" if ("+v+" && "+b+") { "+h+" = false; "+w+" = ["+w+", "+O+"]; } else { ",f+="}"),s+=" if ("+v+") { "+h+" = "+b+" = true; "+w+" = "+O+"; }";return e.compositeRule=m.compositeRule=C,s+=""+f+"if (!"+h+") {   var err =   ",e.createErrors!==!1?(s+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { passingSchemas: "+w+" } ",e.opts.messages!==!1&&(s+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?s+=" throw new ValidationError(vErrors); ":s+=" validate.errors = vErrors; return false; "),s+="} else {  errors = "+p+"; if (vErrors !== null) { if ("+p+") vErrors.length = "+p+"; else vErrors = null; }",e.opts.allErrors&&(s+=" } "),s}});var YS=j((k7,QS)=>{"use strict";QS.exports=function(e,r,a){var s=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,d="data"+(n||""),h=e.opts.$data&&o&&o.$data,p;h?(s+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",p="schema"+i):p=o;var m=h?"(new RegExp("+p+"))":e.usePattern(o);s+="if ( ",h&&(s+=" ("+p+" !== undefined && typeof "+p+" != 'string') || "),s+=" !"+m+".test("+d+") ) {   ";var f=f||[];f.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { pattern:  ",h?s+=""+p:s+=""+e.util.toQuotedString(o),s+="  } ",e.opts.messages!==!1&&(s+=` , message: 'should match pattern "`,h?s+="' + "+p+" + '":s+=""+e.util.escapeQuotes(o),s+=`"' `),e.opts.verbose&&(s+=" , schema:  ",h?s+="validate.schema"+l:s+=""+e.util.toQuotedString(o),s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var v=s;return s=f.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+v+"]); ":s+=" validate.errors = ["+v+"]; return false; ":s+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",u&&(s+=" else { "),s}});var eE=j((D7,XS)=>{"use strict";XS.exports=function(e,r,a){var s=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,d="data"+(n||""),h="errs__"+i,p=e.util.copy(e),m="";p.level++;var f="valid"+p.level,v="key"+i,g="idx"+i,b=p.dataLevel=e.dataLevel+1,w="data"+b,C="dataProperties"+i,T=Object.keys(o||{}).filter(K),R=e.schema.patternProperties||{},O=Object.keys(R).filter(K),L=e.schema.additionalProperties,N=T.length||O.length,q=L===!1,k=typeof L=="object"&&Object.keys(L).length,A=e.opts.removeAdditional,D=q||k||A,$=e.opts.ownProperties,B=e.baseId,W=e.schema.required;if(W&&!(e.opts.$data&&W.$data)&&W.length<e.opts.loopRequired)var G=e.util.toHash(W);function K(Ut){return Ut!=="__proto__"}if(s+="var "+h+" = errors;var "+f+" = true;",$&&(s+=" var "+C+" = undefined;"),D){if($?s+=" "+C+" = "+C+" || Object.keys("+d+"); for (var "+g+"=0; "+g+"<"+C+".length; "+g+"++) { var "+v+" = "+C+"["+g+"]; ":s+=" for (var "+v+" in "+d+") { ",N){if(s+=" var isAdditional"+i+" = !(false ",T.length)if(T.length>8)s+=" || validate.schema"+l+".hasOwnProperty("+v+") ";else{var Q=T;if(Q)for(var Y,ae=-1,ue=Q.length-1;ae<ue;)Y=Q[ae+=1],s+=" || "+v+" == "+e.util.toQuotedString(Y)+" "}if(O.length){var Qe=O;if(Qe)for(var ye,Re=-1,Ie=Qe.length-1;Re<Ie;)ye=Qe[Re+=1],s+=" || "+e.usePattern(ye)+".test("+v+") "}s+=" ); if (isAdditional"+i+") { "}if(A=="all")s+=" delete "+d+"["+v+"]; ";else{var Ue=e.errorPath,U="' + "+v+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers)),q)if(A)s+=" delete "+d+"["+v+"]; ";else{s+=" "+f+" = false; ";var J=c;c=e.errSchemaPath+"/additionalProperties";var ne=ne||[];ne.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { additionalProperty: '"+U+"' } ",e.opts.messages!==!1&&(s+=" , message: '",e.opts._errorDataPathProperty?s+="is an invalid additional property":s+="should NOT have additional properties",s+="' "),e.opts.verbose&&(s+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var he=s;s=ne.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+he+"]); ":s+=" validate.errors = ["+he+"]; return false; ":s+=" var err = "+he+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c=J,u&&(s+=" break; ")}else if(k)if(A=="failing"){s+=" var "+h+" = errors;  ";var X=e.compositeRule;e.compositeRule=p.compositeRule=!0,p.schema=L,p.schemaPath=e.schemaPath+".additionalProperties",p.errSchemaPath=e.errSchemaPath+"/additionalProperties",p.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);var te=d+"["+v+"]";p.dataPathArr[b]=v;var de=e.validate(p);p.baseId=B,e.util.varOccurences(de,w)<2?s+=" "+e.util.varReplace(de,w,te)+" ":s+=" var "+w+" = "+te+"; "+de+" ",s+=" if (!"+f+") { errors = "+h+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+d+"["+v+"]; }  ",e.compositeRule=p.compositeRule=X}else{p.schema=L,p.schemaPath=e.schemaPath+".additionalProperties",p.errSchemaPath=e.errSchemaPath+"/additionalProperties",p.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);var te=d+"["+v+"]";p.dataPathArr[b]=v;var de=e.validate(p);p.baseId=B,e.util.varOccurences(de,w)<2?s+=" "+e.util.varReplace(de,w,te)+" ":s+=" var "+w+" = "+te+"; "+de+" ",u&&(s+=" if (!"+f+") break; ")}e.errorPath=Ue}N&&(s+=" } "),s+=" }  ",u&&(s+=" if ("+f+") { ",m+="}")}var Le=e.opts.useDefaults&&!e.compositeRule;if(T.length){var _e=T;if(_e)for(var Y,it=-1,ot=_e.length-1;it<ot;){Y=_e[it+=1];var Ce=o[Y];if(e.opts.strictKeywords?typeof Ce=="object"&&Object.keys(Ce).length>0||Ce===!1:e.util.schemaHasRules(Ce,e.RULES.all)){var ft=e.util.getProperty(Y),te=d+ft,Ye=Le&&Ce.default!==void 0;p.schema=Ce,p.schemaPath=l+ft,p.errSchemaPath=c+"/"+e.util.escapeFragment(Y),p.errorPath=e.util.getPath(e.errorPath,Y,e.opts.jsonPointers),p.dataPathArr[b]=e.util.toQuotedString(Y);var de=e.validate(p);if(p.baseId=B,e.util.varOccurences(de,w)<2){de=e.util.varReplace(de,w,te);var dt=te}else{var dt=w;s+=" var "+w+" = "+te+"; "}if(Ye)s+=" "+de+" ";else{if(G&&G[Y]){s+=" if ( "+dt+" === undefined ",$&&(s+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(Y)+"') "),s+=") { "+f+" = false; ";var Ue=e.errorPath,J=c,at=e.util.escapeQuotes(Y);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(Ue,Y,e.opts.jsonPointers)),c=e.errSchemaPath+"/required";var ne=ne||[];ne.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+at+"' } ",e.opts.messages!==!1&&(s+=" , message: '",e.opts._errorDataPathProperty?s+="is a required property":s+="should have required property \\'"+at+"\\'",s+="' "),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var he=s;s=ne.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+he+"]); ":s+=" validate.errors = ["+he+"]; return false; ":s+=" var err = "+he+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c=J,e.errorPath=Ue,s+=" } else { "}else u?(s+=" if ( "+dt+" === undefined ",$&&(s+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(Y)+"') "),s+=") { "+f+" = true; } else { "):(s+=" if ("+dt+" !== undefined ",$&&(s+=" &&   Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(Y)+"') "),s+=" ) { ");s+=" "+de+" } "}}u&&(s+=" if ("+f+") { ",m+="}")}}if(O.length){var ct=O;if(ct)for(var ye,Lt=-1,Ft=ct.length-1;Lt<Ft;){ye=ct[Lt+=1];var Ce=R[ye];if(e.opts.strictKeywords?typeof Ce=="object"&&Object.keys(Ce).length>0||Ce===!1:e.util.schemaHasRules(Ce,e.RULES.all)){p.schema=Ce,p.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(ye),p.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(ye),$?s+=" "+C+" = "+C+" || Object.keys("+d+"); for (var "+g+"=0; "+g+"<"+C+".length; "+g+"++) { var "+v+" = "+C+"["+g+"]; ":s+=" for (var "+v+" in "+d+") { ",s+=" if ("+e.usePattern(ye)+".test("+v+")) { ",p.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);var te=d+"["+v+"]";p.dataPathArr[b]=v;var de=e.validate(p);p.baseId=B,e.util.varOccurences(de,w)<2?s+=" "+e.util.varReplace(de,w,te)+" ":s+=" var "+w+" = "+te+"; "+de+" ",u&&(s+=" if (!"+f+") break; "),s+=" } ",u&&(s+=" else "+f+" = true; "),s+=" }  ",u&&(s+=" if ("+f+") { ",m+="}")}}}return u&&(s+=" "+m+" if ("+h+" == errors) {"),s}});var rE=j((j7,tE)=>{"use strict";tE.exports=function(e,r,a){var s=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,d="data"+(n||""),h="errs__"+i,p=e.util.copy(e),m="";p.level++;var f="valid"+p.level;if(s+="var "+h+" = errors;",e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all)){p.schema=o,p.schemaPath=l,p.errSchemaPath=c;var v="key"+i,g="idx"+i,b="i"+i,w="' + "+v+" + '",C=p.dataLevel=e.dataLevel+1,T="data"+C,R="dataProperties"+i,O=e.opts.ownProperties,L=e.baseId;O&&(s+=" var "+R+" = undefined; "),O?s+=" "+R+" = "+R+" || Object.keys("+d+"); for (var "+g+"=0; "+g+"<"+R+".length; "+g+"++) { var "+v+" = "+R+"["+g+"]; ":s+=" for (var "+v+" in "+d+") { ",s+=" var startErrs"+i+" = errors; ";var N=v,q=e.compositeRule;e.compositeRule=p.compositeRule=!0;var k=e.validate(p);p.baseId=L,e.util.varOccurences(k,T)<2?s+=" "+e.util.varReplace(k,T,N)+" ":s+=" var "+T+" = "+N+"; "+k+" ",e.compositeRule=p.compositeRule=q,s+=" if (!"+f+") { for (var "+b+"=startErrs"+i+"; "+b+"<errors; "+b+"++) { vErrors["+b+"].propertyName = "+v+"; }   var err =   ",e.createErrors!==!1?(s+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { propertyName: '"+w+"' } ",e.opts.messages!==!1&&(s+=" , message: 'property name \\'"+w+"\\' is invalid' "),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?s+=" throw new ValidationError(vErrors); ":s+=" validate.errors = vErrors; return false; "),u&&(s+=" break; "),s+=" } }"}return u&&(s+=" "+m+" if ("+h+" == errors) {"),s}});var sE=j((N7,aE)=>{"use strict";aE.exports=function(e,r,a){var s=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,d="data"+(n||""),h="valid"+i,p=e.opts.$data&&o&&o.$data,m;p?(s+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",m="schema"+i):m=o;var f="schema"+i;if(!p)if(o.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var v=[],g=o;if(g)for(var b,w=-1,C=g.length-1;w<C;){b=g[w+=1];var T=e.schema.properties[b];T&&(e.opts.strictKeywords?typeof T=="object"&&Object.keys(T).length>0||T===!1:e.util.schemaHasRules(T,e.RULES.all))||(v[v.length]=b)}}else var v=o;if(p||v.length){var R=e.errorPath,O=p||v.length>=e.opts.loopRequired,L=e.opts.ownProperties;if(u)if(s+=" var missing"+i+"; ",O){p||(s+=" var "+f+" = validate.schema"+l+"; ");var N="i"+i,q="schema"+i+"["+N+"]",k="' + "+q+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(R,q,e.opts.jsonPointers)),s+=" var "+h+" = true; ",p&&(s+=" if (schema"+i+" === undefined) "+h+" = true; else if (!Array.isArray(schema"+i+")) "+h+" = false; else {"),s+=" for (var "+N+" = 0; "+N+" < "+f+".length; "+N+"++) { "+h+" = "+d+"["+f+"["+N+"]] !== undefined ",L&&(s+=" &&   Object.prototype.hasOwnProperty.call("+d+", "+f+"["+N+"]) "),s+="; if (!"+h+") break; } ",p&&(s+="  }  "),s+="  if (!"+h+") {   ";var A=A||[];A.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+k+"' } ",e.opts.messages!==!1&&(s+=" , message: '",e.opts._errorDataPathProperty?s+="is a required property":s+="should have required property \\'"+k+"\\'",s+="' "),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var D=s;s=A.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+D+"]); ":s+=" validate.errors = ["+D+"]; return false; ":s+=" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } else { "}else{s+=" if ( ";var $=v;if($)for(var B,N=-1,W=$.length-1;N<W;){B=$[N+=1],N&&(s+=" || ");var G=e.util.getProperty(B),K=d+G;s+=" ( ( "+K+" === undefined ",L&&(s+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(B)+"') "),s+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?B:G)+") ) "}s+=") {  ";var q="missing"+i,k="' + "+q+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(R,q,!0):R+" + "+q);var A=A||[];A.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+k+"' } ",e.opts.messages!==!1&&(s+=" , message: '",e.opts._errorDataPathProperty?s+="is a required property":s+="should have required property \\'"+k+"\\'",s+="' "),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var D=s;s=A.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+D+"]); ":s+=" validate.errors = ["+D+"]; return false; ":s+=" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } else { "}else if(O){p||(s+=" var "+f+" = validate.schema"+l+"; ");var N="i"+i,q="schema"+i+"["+N+"]",k="' + "+q+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(R,q,e.opts.jsonPointers)),p&&(s+=" if ("+f+" && !Array.isArray("+f+")) {  var err =   ",e.createErrors!==!1?(s+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+k+"' } ",e.opts.messages!==!1&&(s+=" , message: '",e.opts._errorDataPathProperty?s+="is a required property":s+="should have required property \\'"+k+"\\'",s+="' "),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+f+" !== undefined) { "),s+=" for (var "+N+" = 0; "+N+" < "+f+".length; "+N+"++) { if ("+d+"["+f+"["+N+"]] === undefined ",L&&(s+=" || ! Object.prototype.hasOwnProperty.call("+d+", "+f+"["+N+"]) "),s+=") {  var err =   ",e.createErrors!==!1?(s+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+k+"' } ",e.opts.messages!==!1&&(s+=" , message: '",e.opts._errorDataPathProperty?s+="is a required property":s+="should have required property \\'"+k+"\\'",s+="' "),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",p&&(s+="  }  ")}else{var Q=v;if(Q)for(var B,Y=-1,ae=Q.length-1;Y<ae;){B=Q[Y+=1];var G=e.util.getProperty(B),k=e.util.escapeQuotes(B),K=d+G;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(R,B,e.opts.jsonPointers)),s+=" if ( "+K+" === undefined ",L&&(s+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(B)+"') "),s+=") {  var err =   ",e.createErrors!==!1?(s+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+k+"' } ",e.opts.messages!==!1&&(s+=" , message: '",e.opts._errorDataPathProperty?s+="is a required property":s+="should have required property \\'"+k+"\\'",s+="' "),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=R}else u&&(s+=" if (true) {");return s}});var iE=j(($7,nE)=>{"use strict";nE.exports=function(e,r,a){var s=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,d="data"+(n||""),h="valid"+i,p=e.opts.$data&&o&&o.$data,m;if(p?(s+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",m="schema"+i):m=o,(o||p)&&e.opts.uniqueItems!==!1){p&&(s+=" var "+h+"; if ("+m+" === false || "+m+" === undefined) "+h+" = true; else if (typeof "+m+" != 'boolean') "+h+" = false; else { "),s+=" var i = "+d+".length , "+h+" = true , j; if (i > 1) { ";var f=e.schema.items&&e.schema.items.type,v=Array.isArray(f);if(!f||f=="object"||f=="array"||v&&(f.indexOf("object")>=0||f.indexOf("array")>=0))s+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+d+"[i], "+d+"[j])) { "+h+" = false; break outer; } } } ";else{s+=" var itemIndices = {}, item; for (;i--;) { var item = "+d+"[i]; ";var g="checkDataType"+(v?"s":"");s+=" if ("+e.util[g](f,"item",e.opts.strictNumbers,!0)+") continue; ",v&&(s+=` if (typeof item == 'string') item = '"' + item; `),s+=" if (typeof itemIndices[item] == 'number') { "+h+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}s+=" } ",p&&(s+="  }  "),s+=" if (!"+h+") {   ";var b=b||[];b.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { i: i, j: j } ",e.opts.messages!==!1&&(s+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(s+=" , schema:  ",p?s+="validate.schema"+l:s+=""+o,s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var w=s;s=b.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+w+"]); ":s+=" validate.errors = ["+w+"]; return false; ":s+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } ",u&&(s+=" else { ")}else u&&(s+=" if (true) { ");return s}});var cE=j((L7,oE)=>{"use strict";oE.exports={$ref:bS(),allOf:wS(),anyOf:ES(),$comment:RS(),const:TS(),contains:IS(),dependencies:kS(),enum:jS(),format:$S(),if:FS(),items:qS(),maximum:Tm(),minimum:Tm(),maxItems:Om(),minItems:Om(),maxLength:Im(),minLength:Im(),maxProperties:Am(),minProperties:Am(),multipleOf:HS(),not:WS(),oneOf:JS(),pattern:YS(),properties:eE(),propertyNames:rE(),required:sE(),uniqueItems:iE(),validate:Rm()}});var dE=j((F7,uE)=>{"use strict";var lE=cE(),km=bn().toHash;uE.exports=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],r=["type","$comment"],a=["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"],s=["number","integer","string","array","object","boolean","null"];return e.all=km(r),e.types=km(s),e.forEach(function(i){i.rules=i.rules.map(function(n){var o;if(typeof n=="object"){var l=Object.keys(n)[0];o=n[l],n=l,o.forEach(function(u){r.push(u),e.all[u]=!0})}r.push(n);var c=e.all[n]={keyword:n,code:lE[n],implements:o};return c}),e.all.$comment={keyword:"$comment",code:lE.$comment},i.type&&(e.types[i.type]=i)}),e.keywords=km(r.concat(a)),e.custom={},e}});var mE=j((M7,fE)=>{"use strict";var pE=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];fE.exports=function(t,e){for(var r=0;r<e.length;r++){t=JSON.parse(JSON.stringify(t));var a=e[r].split("/"),s=t,i;for(i=1;i<a.length;i++)s=s[a[i]];for(i=0;i<pE.length;i++){var n=pE[i],o=s[n];o&&(s[n]={anyOf:[o,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return t}});var gE=j((q7,vE)=>{"use strict";var kz=Yl().MissingRef;vE.exports=hE;function hE(t,e,r){var a=this;if(typeof this._opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");typeof e=="function"&&(r=e,e=void 0);var s=i(t).then(function(){var o=a._addSchema(t,void 0,e);return o.validate||n(o)});return r&&s.then(function(o){r(null,o)},r),s;function i(o){var l=o.$schema;return l&&!a.getSchema(l)?hE.call(a,{$ref:l},!0):Promise.resolve()}function n(o){try{return a._compile(o)}catch(c){if(c instanceof kz)return l(c);throw c}function l(c){var u=c.missingSchema;if(p(u))throw new Error("Schema "+u+" is loaded but "+c.missingRef+" cannot be resolved");var d=a._loadingSchemas[u];return d||(d=a._loadingSchemas[u]=a._opts.loadSchema(u),d.then(h,h)),d.then(function(m){if(!p(u))return i(m).then(function(){p(u)||a.addSchema(m,u,void 0,e)})}).then(function(){return n(o)});function h(){delete a._loadingSchemas[u]}function p(m){return a._refs[m]||a._schemas[m]}}}}});var xE=j((U7,yE)=>{"use strict";yE.exports=function(e,r,a){var s=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,d,h="data"+(n||""),p="valid"+i,m="errs__"+i,f=e.opts.$data&&o&&o.$data,v;f?(s+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",v="schema"+i):v=o;var g=this,b="definition"+i,w=g.definition,C="",T,R,O,L,N;if(f&&w.$data){N="keywordValidate"+i;var q=w.validateSchema;s+=" var "+b+" = RULES.custom['"+r+"'].definition; var "+N+" = "+b+".validate;"}else{if(L=e.useCustomRule(g,o,e.schema,e),!L)return;v="validate.schema"+l,N=L.code,T=w.compile,R=w.inline,O=w.macro}var k=N+".errors",A="i"+i,D="ruleErr"+i,$=w.async;if($&&!e.async)throw new Error("async keyword in sync schema");if(R||O||(s+=""+k+" = null;"),s+="var "+m+" = errors;var "+p+";",f&&w.$data&&(C+="}",s+=" if ("+v+" === undefined) { "+p+" = true; } else { ",q&&(C+="}",s+=" "+p+" = "+b+".validateSchema("+v+"); if ("+p+") { ")),R)w.statements?s+=" "+L.validate+" ":s+=" "+p+" = "+L.validate+"; ";else if(O){var B=e.util.copy(e),C="";B.level++;var W="valid"+B.level;B.schema=L.validate,B.schemaPath="";var G=e.compositeRule;e.compositeRule=B.compositeRule=!0;var K=e.validate(B).replace(/validate\.schema/g,N);e.compositeRule=B.compositeRule=G,s+=" "+K}else{var Q=Q||[];Q.push(s),s="",s+="  "+N+".call( ",e.opts.passContext?s+="this":s+="self",T||w.schema===!1?s+=" , "+h+" ":s+=" , "+v+" , "+h+" , validate.schema"+e.schemaPath+" ",s+=" , (dataPath || '')",e.errorPath!='""'&&(s+=" + "+e.errorPath);var Y=n?"data"+(n-1||""):"parentData",ae=n?e.dataPathArr[n]:"parentDataProperty";s+=" , "+Y+" , "+ae+" , rootData )  ";var ue=s;s=Q.pop(),w.errors===!1?(s+=" "+p+" = ",$&&(s+="await "),s+=""+ue+"; "):$?(k="customErrors"+i,s+=" var "+k+" = null; try { "+p+" = await "+ue+"; } catch (e) { "+p+" = false; if (e instanceof ValidationError) "+k+" = e.errors; else throw e; } "):s+=" "+k+" = null; "+p+" = "+ue+"; "}if(w.modifying&&(s+=" if ("+Y+") "+h+" = "+Y+"["+ae+"];"),s+=""+C,w.valid)u&&(s+=" if (true) { ");else{s+=" if ( ",w.valid===void 0?(s+=" !",O?s+=""+W:s+=""+p):s+=" "+!w.valid+" ",s+=") { ",d=g.keyword;var Q=Q||[];Q.push(s),s="";var Q=Q||[];Q.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(d||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { keyword: '"+g.keyword+"' } ",e.opts.messages!==!1&&(s+=` , message: 'should pass "`+g.keyword+`" keyword validation' `),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ";var Qe=s;s=Q.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+Qe+"]); ":s+=" validate.errors = ["+Qe+"]; return false; ":s+=" var err = "+Qe+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var ye=s;s=Q.pop(),R?w.errors?w.errors!="full"&&(s+="  for (var "+A+"="+m+"; "+A+"<errors; "+A+"++) { var "+D+" = vErrors["+A+"]; if ("+D+".dataPath === undefined) "+D+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+D+".schemaPath === undefined) { "+D+'.schemaPath = "'+c+'"; } ',e.opts.verbose&&(s+=" "+D+".schema = "+v+"; "+D+".data = "+h+"; "),s+=" } "):w.errors===!1?s+=" "+ye+" ":(s+=" if ("+m+" == errors) { "+ye+" } else {  for (var "+A+"="+m+"; "+A+"<errors; "+A+"++) { var "+D+" = vErrors["+A+"]; if ("+D+".dataPath === undefined) "+D+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+D+".schemaPath === undefined) { "+D+'.schemaPath = "'+c+'"; } ',e.opts.verbose&&(s+=" "+D+".schema = "+v+"; "+D+".data = "+h+"; "),s+=" } } "):O?(s+="   var err =   ",e.createErrors!==!1?(s+=" { keyword: '"+(d||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { keyword: '"+g.keyword+"' } ",e.opts.messages!==!1&&(s+=` , message: 'should pass "`+g.keyword+`" keyword validation' `),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?s+=" throw new ValidationError(vErrors); ":s+=" validate.errors = vErrors; return false; ")):w.errors===!1?s+=" "+ye+" ":(s+=" if (Array.isArray("+k+")) { if (vErrors === null) vErrors = "+k+"; else vErrors = vErrors.concat("+k+"); errors = vErrors.length;  for (var "+A+"="+m+"; "+A+"<errors; "+A+"++) { var "+D+" = vErrors["+A+"]; if ("+D+".dataPath === undefined) "+D+".dataPath = (dataPath || '') + "+e.errorPath+";  "+D+'.schemaPath = "'+c+'";  ',e.opts.verbose&&(s+=" "+D+".schema = "+v+"; "+D+".data = "+h+"; "),s+=" } } else { "+ye+" } "),s+=" } ",u&&(s+=" else { ")}return s}});var Dm=j((z7,Dz)=>{Dz.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var wE=j((B7,_E)=>{"use strict";var bE=Dm();_E.exports={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:bE.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:bE.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}});var EE=j((Z7,SE)=>{"use strict";var jz=/^[a-z_$][a-z0-9_$-]*$/i,Nz=xE(),$z=wE();SE.exports={add:Lz,get:Fz,remove:Mz,validate:jm};function Lz(t,e){var r=this.RULES;if(r.keywords[t])throw new Error("Keyword "+t+" is already defined");if(!jz.test(t))throw new Error("Keyword "+t+" is not a valid identifier");if(e){this.validateKeyword(e,!0);var a=e.type;if(Array.isArray(a))for(var s=0;s<a.length;s++)n(t,a[s],e);else n(t,a,e);var i=e.metaSchema;i&&(e.$data&&this._opts.$data&&(i={anyOf:[i,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),e.validateSchema=this.compile(i,!0))}r.keywords[t]=r.all[t]=!0;function n(o,l,c){for(var u,d=0;d<r.length;d++){var h=r[d];if(h.type==l){u=h;break}}u||(u={type:l,rules:[]},r.push(u));var p={keyword:o,definition:c,custom:!0,code:Nz,implements:c.implements};u.rules.push(p),r.custom[o]=p}return this}function Fz(t){var e=this.RULES.custom[t];return e?e.definition:this.RULES.keywords[t]||!1}function Mz(t){var e=this.RULES;delete e.keywords[t],delete e.all[t],delete e.custom[t];for(var r=0;r<e.length;r++)for(var a=e[r].rules,s=0;s<a.length;s++)if(a[s].keyword==t){a.splice(s,1);break}return this}function jm(t,e){jm.errors=null;var r=this._validateKeyword=this._validateKeyword||this.compile($z,!0);if(r(t))return!0;if(jm.errors=r.errors,e)throw new Error("custom keyword definition is invalid: "+this.errorsText(r.errors));return!1}});var PE=j((V7,qz)=>{qz.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var NE=j((H7,jE)=>{"use strict";var CE=sS(),_n=Ql(),Uz=iS(),TE=xm(),zz=Pm(),Bz=yS(),Zz=dE(),OE=mE(),IE=bn();jE.exports=St;St.prototype.validate=Hz;St.prototype.compile=Gz;St.prototype.addSchema=Wz;St.prototype.addMetaSchema=Kz;St.prototype.validateSchema=Jz;St.prototype.getSchema=Yz;St.prototype.removeSchema=e2;St.prototype.addFormat=c2;St.prototype.errorsText=o2;St.prototype._addSchema=t2;St.prototype._compile=r2;St.prototype.compileAsync=gE();var iu=EE();St.prototype.addKeyword=iu.add;St.prototype.getKeyword=iu.get;St.prototype.removeKeyword=iu.remove;St.prototype.validateKeyword=iu.validate;var AE=Yl();St.ValidationError=AE.Validation;St.MissingRefError=AE.MissingRef;St.$dataMetaSchema=OE;var nu="http://json-schema.org/draft-07/schema",RE=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],Vz=["/properties"];function St(t){if(!(this instanceof St))return new St(t);t=this._opts=IE.copy(t)||{},m2(this),this._schemas={},this._refs={},this._fragments={},this._formats=Bz(t.format),this._cache=t.cache||new Uz,this._loadingSchemas={},this._compilations=[],this.RULES=Zz(),this._getId=a2(t),t.loopRequired=t.loopRequired||1/0,t.errorDataPath=="property"&&(t._errorDataPathProperty=!0),t.serialize===void 0&&(t.serialize=zz),this._metaOpts=f2(this),t.formats&&d2(this),t.keywords&&p2(this),l2(this),typeof t.meta=="object"&&this.addMetaSchema(t.meta),t.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),u2(this)}function Hz(t,e){var r;if(typeof t=="string"){if(r=this.getSchema(t),!r)throw new Error('no schema with key or ref "'+t+'"')}else{var a=this._addSchema(t);r=a.validate||this._compile(a)}var s=r(e);return r.$async!==!0&&(this.errors=r.errors),s}function Gz(t,e){var r=this._addSchema(t,void 0,e);return r.validate||this._compile(r)}function Wz(t,e,r,a){if(Array.isArray(t)){for(var s=0;s<t.length;s++)this.addSchema(t[s],void 0,r,a);return this}var i=this._getId(t);if(i!==void 0&&typeof i!="string")throw new Error("schema id must be string");return e=_n.normalizeId(e||i),DE(this,e),this._schemas[e]=this._addSchema(t,r,a,!0),this}function Kz(t,e,r){return this.addSchema(t,e,r,!0),this}function Jz(t,e){var r=t.$schema;if(r!==void 0&&typeof r!="string")throw new Error("$schema must be a string");if(r=r||this._opts.defaultMeta||Qz(this),!r)return this.logger.warn("meta-schema not available"),this.errors=null,!0;var a=this.validate(r,t);if(!a&&e){var s="schema is invalid: "+this.errorsText();if(this._opts.validateSchema=="log")this.logger.error(s);else throw new Error(s)}return a}function Qz(t){var e=t._opts.meta;return t._opts.defaultMeta=typeof e=="object"?t._getId(e)||e:t.getSchema(nu)?nu:void 0,t._opts.defaultMeta}function Yz(t){var e=kE(this,t);switch(typeof e){case"object":return e.validate||this._compile(e);case"string":return this.getSchema(e);case"undefined":return Xz(this,t)}}function Xz(t,e){var r=_n.schema.call(t,{schema:{}},e);if(r){var a=r.schema,s=r.root,i=r.baseId,n=CE.call(t,a,s,void 0,i);return t._fragments[e]=new TE({ref:e,fragment:!0,schema:a,root:s,baseId:i,validate:n}),n}}function kE(t,e){return e=_n.normalizeId(e),t._schemas[e]||t._refs[e]||t._fragments[e]}function e2(t){if(t instanceof RegExp)return su(this,this._schemas,t),su(this,this._refs,t),this;switch(typeof t){case"undefined":return su(this,this._schemas),su(this,this._refs),this._cache.clear(),this;case"string":var e=kE(this,t);return e&&this._cache.del(e.cacheKey),delete this._schemas[t],delete this._refs[t],this;case"object":var r=this._opts.serialize,a=r?r(t):t;this._cache.del(a);var s=this._getId(t);s&&(s=_n.normalizeId(s),delete this._schemas[s],delete this._refs[s])}return this}function su(t,e,r){for(var a in e){var s=e[a];!s.meta&&(!r||r.test(a))&&(t._cache.del(s.cacheKey),delete e[a])}}function t2(t,e,r,a){if(typeof t!="object"&&typeof t!="boolean")throw new Error("schema should be object or boolean");var s=this._opts.serialize,i=s?s(t):t,n=this._cache.get(i);if(n)return n;a=a||this._opts.addUsedSchema!==!1;var o=_n.normalizeId(this._getId(t));o&&a&&DE(this,o);var l=this._opts.validateSchema!==!1&&!e,c;l&&!(c=o&&o==_n.normalizeId(t.$schema))&&this.validateSchema(t,!0);var u=_n.ids.call(this,t),d=new TE({id:o,schema:t,localRefs:u,cacheKey:i,meta:r});return o[0]!="#"&&a&&(this._refs[o]=d),this._cache.put(i,d),l&&c&&this.validateSchema(t,!0),d}function r2(t,e){if(t.compiling)return t.validate=s,s.schema=t.schema,s.errors=null,s.root=e||s,t.schema.$async===!0&&(s.$async=!0),s;t.compiling=!0;var r;t.meta&&(r=this._opts,this._opts=this._metaOpts);var a;try{a=CE.call(this,t.schema,e,t.localRefs)}catch(i){throw delete t.validate,i}finally{t.compiling=!1,t.meta&&(this._opts=r)}return t.validate=a,t.refs=a.refs,t.refVal=a.refVal,t.root=a.root,a;function s(){var i=t.validate,n=i.apply(this,arguments);return s.errors=i.errors,n}}function a2(t){switch(t.schemaId){case"auto":return i2;case"id":return s2;default:return n2}}function s2(t){return t.$id&&this.logger.warn("schema $id ignored",t.$id),t.id}function n2(t){return t.id&&this.logger.warn("schema id ignored",t.id),t.$id}function i2(t){if(t.$id&&t.id&&t.$id!=t.id)throw new Error("schema $id is different from id");return t.$id||t.id}function o2(t,e){if(t=t||this.errors,!t)return"No errors";e=e||{};for(var r=e.separator===void 0?", ":e.separator,a=e.dataVar===void 0?"data":e.dataVar,s="",i=0;i<t.length;i++){var n=t[i];n&&(s+=a+n.dataPath+" "+n.message+r)}return s.slice(0,-r.length)}function c2(t,e){return typeof e=="string"&&(e=new RegExp(e)),this._formats[t]=e,this}function l2(t){var e;if(t._opts.$data&&(e=PE(),t.addMetaSchema(e,e.$id,!0)),t._opts.meta!==!1){var r=Dm();t._opts.$data&&(r=OE(r,Vz)),t.addMetaSchema(r,nu,!0),t._refs["http://json-schema.org/schema"]=nu}}function u2(t){var e=t._opts.schemas;if(e)if(Array.isArray(e))t.addSchema(e);else for(var r in e)t.addSchema(e[r],r)}function d2(t){for(var e in t._opts.formats){var r=t._opts.formats[e];t.addFormat(e,r)}}function p2(t){for(var e in t._opts.keywords){var r=t._opts.keywords[e];t.addKeyword(e,r)}}function DE(t,e){if(t._schemas[e]||t._refs[e])throw new Error('schema with key or id "'+e+'" already exists')}function f2(t){for(var e=IE.copy(t._opts),r=0;r<RE.length;r++)delete e[RE[r]];return e}function m2(t){var e=t._opts.logger;if(e===!1)t.logger={log:Nm,warn:Nm,error:Nm};else{if(e===void 0&&(e=console),!(typeof e=="object"&&e.log&&e.warn&&e.error))throw new Error("logger must implement log, warn and error methods");t.logger=e}}function Nm(){}});var LE=j(Ri=>{"use strict";var h2=Ri&&Ri.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ri,"__esModule",{value:!0});Ri.Server=void 0;var $E=jw(),_r=Bo(),v2=h2(NE()),$m=class extends $E.Protocol{constructor(e,r){var a;super(r),this._serverInfo=e,this._capabilities=(a=r?.capabilities)!==null&&a!==void 0?a:{},this._instructions=r?.instructions,this.setRequestHandler(_r.InitializeRequestSchema,s=>this._oninitialize(s)),this.setNotificationHandler(_r.InitializedNotificationSchema,()=>{var s;return(s=this.oninitialized)===null||s===void 0?void 0:s.call(this)})}registerCapabilities(e){if(this.transport)throw new Error("Cannot register capabilities after connecting to transport");this._capabilities=(0,$E.mergeCapabilities)(this._capabilities,e)}assertCapabilityForMethod(e){var r,a,s;switch(e){case"sampling/createMessage":if(!(!((r=this._clientCapabilities)===null||r===void 0)&&r.sampling))throw new Error(`Client does not support sampling (required for ${e})`);break;case"elicitation/create":if(!(!((a=this._clientCapabilities)===null||a===void 0)&&a.elicitation))throw new Error(`Client does not support elicitation (required for ${e})`);break;case"roots/list":if(!(!((s=this._clientCapabilities)===null||s===void 0)&&s.roots))throw new Error(`Client does not support listing roots (required for ${e})`);break;case"ping":break}}assertNotificationCapability(e){switch(e){case"notifications/message":if(!this._capabilities.logging)throw new Error(`Server does not support logging (required for ${e})`);break;case"notifications/resources/updated":case"notifications/resources/list_changed":if(!this._capabilities.resources)throw new Error(`Server does not support notifying about resources (required for ${e})`);break;case"notifications/tools/list_changed":if(!this._capabilities.tools)throw new Error(`Server does not support notifying of tool list changes (required for ${e})`);break;case"notifications/prompts/list_changed":if(!this._capabilities.prompts)throw new Error(`Server does not support notifying of prompt list changes (required for ${e})`);break;case"notifications/cancelled":break;case"notifications/progress":break}}assertRequestHandlerCapability(e){switch(e){case"sampling/createMessage":if(!this._capabilities.sampling)throw new Error(`Server does not support sampling (required for ${e})`);break;case"logging/setLevel":if(!this._capabilities.logging)throw new Error(`Server does not support logging (required for ${e})`);break;case"prompts/get":case"prompts/list":if(!this._capabilities.prompts)throw new Error(`Server does not support prompts (required for ${e})`);break;case"resources/list":case"resources/templates/list":case"resources/read":if(!this._capabilities.resources)throw new Error(`Server does not support resources (required for ${e})`);break;case"tools/call":case"tools/list":if(!this._capabilities.tools)throw new Error(`Server does not support tools (required for ${e})`);break;case"ping":case"initialize":break}}async _oninitialize(e){let r=e.params.protocolVersion;return this._clientCapabilities=e.params.capabilities,this._clientVersion=e.params.clientInfo,{protocolVersion:_r.SUPPORTED_PROTOCOL_VERSIONS.includes(r)?r:_r.LATEST_PROTOCOL_VERSION,capabilities:this.getCapabilities(),serverInfo:this._serverInfo,...this._instructions&&{instructions:this._instructions}}}getClientCapabilities(){return this._clientCapabilities}getClientVersion(){return this._clientVersion}getCapabilities(){return this._capabilities}async ping(){return this.request({method:"ping"},_r.EmptyResultSchema)}async createMessage(e,r){return this.request({method:"sampling/createMessage",params:e},_r.CreateMessageResultSchema,r)}async elicitInput(e,r){let a=await this.request({method:"elicitation/create",params:e},_r.ElicitResultSchema,r);if(a.action==="accept"&&a.content)try{let s=new v2.default,i=s.compile(e.requestedSchema);if(!i(a.content))throw new _r.McpError(_r.ErrorCode.InvalidParams,`Elicitation response content does not match requested schema: ${s.errorsText(i.errors)}`)}catch(s){throw s instanceof _r.McpError?s:new _r.McpError(_r.ErrorCode.InternalError,`Error validating elicitation response: ${s}`)}return a}async listRoots(e,r){return this.request({method:"roots/list",params:e},_r.ListRootsResultSchema,r)}async sendLoggingMessage(e){return this.notification({method:"notifications/message",params:e})}async sendResourceUpdated(e){return this.notification({method:"notifications/resources/updated",params:e})}async sendResourceListChanged(){return this.notification({method:"notifications/resources/list_changed"})}async sendToolListChanged(){return this.notification({method:"notifications/tools/list_changed"})}async sendPromptListChanged(){return this.notification({method:"notifications/prompts/list_changed"})}};Ri.Server=$m});var ou=j(zr=>{"use strict";Object.defineProperty(zr,"__esModule",{value:!0});zr.getDefaultOptions=zr.defaultOptions=zr.jsonDescription=zr.ignoreOverride=void 0;zr.ignoreOverride=Symbol("Let zodToJsonSchema decide on which parser to use");var g2=(t,e)=>{if(e.description)try{return{...t,...JSON.parse(e.description)}}catch{}return t};zr.jsonDescription=g2;zr.defaultOptions={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"};var y2=t=>typeof t=="string"?{...zr.defaultOptions,name:t}:{...zr.defaultOptions,...t};zr.getDefaultOptions=y2});var Lm=j(cu=>{"use strict";Object.defineProperty(cu,"__esModule",{value:!0});cu.getRefs=void 0;var x2=ou(),b2=t=>{let e=(0,x2.getDefaultOptions)(t),r=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return{...e,currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(e.definitions).map(([a,s])=>[s._def,{def:s._def,path:[...e.basePath,e.definitionPath,a],jsonSchema:void 0}]))}};cu.getRefs=b2});var Ss=j(Ci=>{"use strict";Object.defineProperty(Ci,"__esModule",{value:!0});Ci.setResponseValueAndErrors=Ci.addErrorMessage=void 0;function FE(t,e,r,a){a?.errorMessages&&r&&(t.errorMessage={...t.errorMessage,[e]:r})}Ci.addErrorMessage=FE;function _2(t,e,r,a,s){t[e]=r,FE(t,e,a,s)}Ci.setResponseValueAndErrors=_2});var Fm=j(lu=>{"use strict";Object.defineProperty(lu,"__esModule",{value:!0});lu.parseAnyDef=void 0;function w2(){return{}}lu.parseAnyDef=w2});var Mm=j(du=>{"use strict";Object.defineProperty(du,"__esModule",{value:!0});du.parseArrayDef=void 0;var S2=Ba(),uu=Ss(),E2=It();function P2(t,e){let r={type:"array"};return t.type?._def&&t.type?._def?.typeName!==S2.ZodFirstPartyTypeKind.ZodAny&&(r.items=(0,E2.parseDef)(t.type._def,{...e,currentPath:[...e.currentPath,"items"]})),t.minLength&&(0,uu.setResponseValueAndErrors)(r,"minItems",t.minLength.value,t.minLength.message,e),t.maxLength&&(0,uu.setResponseValueAndErrors)(r,"maxItems",t.maxLength.value,t.maxLength.message,e),t.exactLength&&((0,uu.setResponseValueAndErrors)(r,"minItems",t.exactLength.value,t.exactLength.message,e),(0,uu.setResponseValueAndErrors)(r,"maxItems",t.exactLength.value,t.exactLength.message,e)),r}du.parseArrayDef=P2});var qm=j(pu=>{"use strict";Object.defineProperty(pu,"__esModule",{value:!0});pu.parseBigintDef=void 0;var wn=Ss();function R2(t,e){let r={type:"integer",format:"int64"};if(!t.checks)return r;for(let a of t.checks)switch(a.kind){case"min":e.target==="jsonSchema7"?a.inclusive?(0,wn.setResponseValueAndErrors)(r,"minimum",a.value,a.message,e):(0,wn.setResponseValueAndErrors)(r,"exclusiveMinimum",a.value,a.message,e):(a.inclusive||(r.exclusiveMinimum=!0),(0,wn.setResponseValueAndErrors)(r,"minimum",a.value,a.message,e));break;case"max":e.target==="jsonSchema7"?a.inclusive?(0,wn.setResponseValueAndErrors)(r,"maximum",a.value,a.message,e):(0,wn.setResponseValueAndErrors)(r,"exclusiveMaximum",a.value,a.message,e):(a.inclusive||(r.exclusiveMaximum=!0),(0,wn.setResponseValueAndErrors)(r,"maximum",a.value,a.message,e));break;case"multipleOf":(0,wn.setResponseValueAndErrors)(r,"multipleOf",a.value,a.message,e);break}return r}pu.parseBigintDef=R2});var Um=j(fu=>{"use strict";Object.defineProperty(fu,"__esModule",{value:!0});fu.parseBooleanDef=void 0;function C2(){return{type:"boolean"}}fu.parseBooleanDef=C2});var hu=j(mu=>{"use strict";Object.defineProperty(mu,"__esModule",{value:!0});mu.parseBrandedDef=void 0;var T2=It();function O2(t,e){return(0,T2.parseDef)(t.type._def,e)}mu.parseBrandedDef=O2});var zm=j(vu=>{"use strict";Object.defineProperty(vu,"__esModule",{value:!0});vu.parseCatchDef=void 0;var I2=It(),A2=(t,e)=>(0,I2.parseDef)(t.innerType._def,e);vu.parseCatchDef=A2});var Bm=j(gu=>{"use strict";Object.defineProperty(gu,"__esModule",{value:!0});gu.parseDateDef=void 0;var ME=Ss();function qE(t,e,r){let a=r??e.dateStrategy;if(Array.isArray(a))return{anyOf:a.map((s,i)=>qE(t,e,s))};switch(a){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return k2(t,e)}}gu.parseDateDef=qE;var k2=(t,e)=>{let r={type:"integer",format:"unix-time"};if(e.target==="openApi3")return r;for(let a of t.checks)switch(a.kind){case"min":(0,ME.setResponseValueAndErrors)(r,"minimum",a.value,a.message,e);break;case"max":(0,ME.setResponseValueAndErrors)(r,"maximum",a.value,a.message,e);break}return r}});var Zm=j(yu=>{"use strict";Object.defineProperty(yu,"__esModule",{value:!0});yu.parseDefaultDef=void 0;var D2=It();function j2(t,e){return{...(0,D2.parseDef)(t.innerType._def,e),default:t.defaultValue()}}yu.parseDefaultDef=j2});var Vm=j(xu=>{"use strict";Object.defineProperty(xu,"__esModule",{value:!0});xu.parseEffectsDef=void 0;var N2=It();function $2(t,e){return e.effectStrategy==="input"?(0,N2.parseDef)(t.schema._def,e):{}}xu.parseEffectsDef=$2});var Hm=j(bu=>{"use strict";Object.defineProperty(bu,"__esModule",{value:!0});bu.parseEnumDef=void 0;function L2(t){return{type:"string",enum:Array.from(t.values)}}bu.parseEnumDef=L2});var Gm=j(_u=>{"use strict";Object.defineProperty(_u,"__esModule",{value:!0});_u.parseIntersectionDef=void 0;var UE=It(),F2=t=>"type"in t&&t.type==="string"?!1:"allOf"in t;function M2(t,e){let r=[(0,UE.parseDef)(t.left._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),(0,UE.parseDef)(t.right._def,{...e,currentPath:[...e.currentPath,"allOf","1"]})].filter(i=>!!i),a=e.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0,s=[];return r.forEach(i=>{if(F2(i))s.push(...i.allOf),i.unevaluatedProperties===void 0&&(a=void 0);else{let n=i;if("additionalProperties"in i&&i.additionalProperties===!1){let{additionalProperties:o,...l}=i;n=l}else a=void 0;s.push(n)}}),s.length?{allOf:s,...a}:void 0}_u.parseIntersectionDef=M2});var Wm=j(wu=>{"use strict";Object.defineProperty(wu,"__esModule",{value:!0});wu.parseLiteralDef=void 0;function q2(t,e){let r=typeof t.value;return r!=="bigint"&&r!=="number"&&r!=="boolean"&&r!=="string"?{type:Array.isArray(t.value)?"array":"object"}:e.target==="openApi3"?{type:r==="bigint"?"integer":r,enum:[t.value]}:{type:r==="bigint"?"integer":r,const:t.value}}wu.parseLiteralDef=q2});var Su=j(qt=>{"use strict";Object.defineProperty(qt,"__esModule",{value:!0});qt.parseStringDef=qt.zodPatterns=void 0;var Sn=Ss(),Km;qt.zodPatterns={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(Km===void 0&&(Km=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Km),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function U2(t,e){let r={type:"string"};if(t.checks)for(let a of t.checks)switch(a.kind){case"min":(0,Sn.setResponseValueAndErrors)(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,a.value):a.value,a.message,e);break;case"max":(0,Sn.setResponseValueAndErrors)(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,a.value):a.value,a.message,e);break;case"email":switch(e.emailStrategy){case"format:email":aa(r,"email",a.message,e);break;case"format:idn-email":aa(r,"idn-email",a.message,e);break;case"pattern:zod":Kt(r,qt.zodPatterns.email,a.message,e);break}break;case"url":aa(r,"uri",a.message,e);break;case"uuid":aa(r,"uuid",a.message,e);break;case"regex":Kt(r,a.regex,a.message,e);break;case"cuid":Kt(r,qt.zodPatterns.cuid,a.message,e);break;case"cuid2":Kt(r,qt.zodPatterns.cuid2,a.message,e);break;case"startsWith":Kt(r,RegExp(`^${Jm(a.value,e)}`),a.message,e);break;case"endsWith":Kt(r,RegExp(`${Jm(a.value,e)}$`),a.message,e);break;case"datetime":aa(r,"date-time",a.message,e);break;case"date":aa(r,"date",a.message,e);break;case"time":aa(r,"time",a.message,e);break;case"duration":aa(r,"duration",a.message,e);break;case"length":(0,Sn.setResponseValueAndErrors)(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,a.value):a.value,a.message,e),(0,Sn.setResponseValueAndErrors)(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,a.value):a.value,a.message,e);break;case"includes":{Kt(r,RegExp(Jm(a.value,e)),a.message,e);break}case"ip":{a.version!=="v6"&&aa(r,"ipv4",a.message,e),a.version!=="v4"&&aa(r,"ipv6",a.message,e);break}case"base64url":Kt(r,qt.zodPatterns.base64url,a.message,e);break;case"jwt":Kt(r,qt.zodPatterns.jwt,a.message,e);break;case"cidr":{a.version!=="v6"&&Kt(r,qt.zodPatterns.ipv4Cidr,a.message,e),a.version!=="v4"&&Kt(r,qt.zodPatterns.ipv6Cidr,a.message,e);break}case"emoji":Kt(r,qt.zodPatterns.emoji(),a.message,e);break;case"ulid":{Kt(r,qt.zodPatterns.ulid,a.message,e);break}case"base64":{switch(e.base64Strategy){case"format:binary":{aa(r,"binary",a.message,e);break}case"contentEncoding:base64":{(0,Sn.setResponseValueAndErrors)(r,"contentEncoding","base64",a.message,e);break}case"pattern:zod":{Kt(r,qt.zodPatterns.base64,a.message,e);break}}break}case"nanoid":Kt(r,qt.zodPatterns.nanoid,a.message,e);case"toLowerCase":case"toUpperCase":case"trim":break;default:}return r}qt.parseStringDef=U2;function Jm(t,e){return e.patternStrategy==="escape"?B2(t):t}var z2=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function B2(t){let e="";for(let r=0;r<t.length;r++)z2.has(t[r])||(e+="\\"),e+=t[r];return e}function aa(t,e,r,a){t.format||t.anyOf?.some(s=>s.format)?(t.anyOf||(t.anyOf=[]),t.format&&(t.anyOf.push({format:t.format,...t.errorMessage&&a.errorMessages&&{errorMessage:{format:t.errorMessage.format}}}),delete t.format,t.errorMessage&&(delete t.errorMessage.format,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.anyOf.push({format:e,...r&&a.errorMessages&&{errorMessage:{format:r}}})):(0,Sn.setResponseValueAndErrors)(t,"format",e,r,a)}function Kt(t,e,r,a){t.pattern||t.allOf?.some(s=>s.pattern)?(t.allOf||(t.allOf=[]),t.pattern&&(t.allOf.push({pattern:t.pattern,...t.errorMessage&&a.errorMessages&&{errorMessage:{pattern:t.errorMessage.pattern}}}),delete t.pattern,t.errorMessage&&(delete t.errorMessage.pattern,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.allOf.push({pattern:zE(e,a),...r&&a.errorMessages&&{errorMessage:{pattern:r}}})):(0,Sn.setResponseValueAndErrors)(t,"pattern",zE(e,a),r,a)}function zE(t,e){if(!e.applyRegexFlags||!t.flags)return t.source;let r={i:t.flags.includes("i"),m:t.flags.includes("m"),s:t.flags.includes("s")},a=r.i?t.source.toLowerCase():t.source,s="",i=!1,n=!1,o=!1;for(let l=0;l<a.length;l++){if(i){s+=a[l],i=!1;continue}if(r.i){if(n){if(a[l].match(/[a-z]/)){o?(s+=a[l],s+=`${a[l-2]}-${a[l]}`.toUpperCase(),o=!1):a[l+1]==="-"&&a[l+2]?.match(/[a-z]/)?(s+=a[l],o=!0):s+=`${a[l]}${a[l].toUpperCase()}`;continue}}else if(a[l].match(/[a-z]/)){s+=`[${a[l]}${a[l].toUpperCase()}]`;continue}}if(r.m){if(a[l]==="^"){s+=`(^|(?<=[\r
]))`;continue}else if(a[l]==="$"){s+=`($|(?=[\r
]))`;continue}}if(r.s&&a[l]==="."){s+=n?`${a[l]}\r
`:`[${a[l]}\r
]`;continue}s+=a[l],a[l]==="\\"?i=!0:n&&a[l]==="]"?n=!1:!n&&a[l]==="["&&(n=!0)}try{new RegExp(s)}catch{return console.warn(`Could not convert regex pattern at ${e.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),t.source}return s}});var Pu=j(Eu=>{"use strict";Object.defineProperty(Eu,"__esModule",{value:!0});Eu.parseRecordDef=void 0;var Vo=Ba(),BE=It(),Z2=Su(),V2=hu();function H2(t,e){if(e.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),e.target==="openApi3"&&t.keyType?._def.typeName===Vo.ZodFirstPartyTypeKind.ZodEnum)return{type:"object",required:t.keyType._def.values,properties:t.keyType._def.values.reduce((a,s)=>({...a,[s]:(0,BE.parseDef)(t.valueType._def,{...e,currentPath:[...e.currentPath,"properties",s]})??{}}),{}),additionalProperties:e.rejectedAdditionalProperties};let r={type:"object",additionalProperties:(0,BE.parseDef)(t.valueType._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??e.allowedAdditionalProperties};if(e.target==="openApi3")return r;if(t.keyType?._def.typeName===Vo.ZodFirstPartyTypeKind.ZodString&&t.keyType._def.checks?.length){let{type:a,...s}=(0,Z2.parseStringDef)(t.keyType._def,e);return{...r,propertyNames:s}}else{if(t.keyType?._def.typeName===Vo.ZodFirstPartyTypeKind.ZodEnum)return{...r,propertyNames:{enum:t.keyType._def.values}};if(t.keyType?._def.typeName===Vo.ZodFirstPartyTypeKind.ZodBranded&&t.keyType._def.type._def.typeName===Vo.ZodFirstPartyTypeKind.ZodString&&t.keyType._def.type._def.checks?.length){let{type:a,...s}=(0,V2.parseBrandedDef)(t.keyType._def,e);return{...r,propertyNames:s}}}return r}Eu.parseRecordDef=H2});var Qm=j(Ru=>{"use strict";Object.defineProperty(Ru,"__esModule",{value:!0});Ru.parseMapDef=void 0;var ZE=It(),G2=Pu();function W2(t,e){if(e.mapStrategy==="record")return(0,G2.parseRecordDef)(t,e);let r=(0,ZE.parseDef)(t.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||{},a=(0,ZE.parseDef)(t.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[r,a],minItems:2,maxItems:2}}}Ru.parseMapDef=W2});var Ym=j(Cu=>{"use strict";Object.defineProperty(Cu,"__esModule",{value:!0});Cu.parseNativeEnumDef=void 0;function K2(t){let e=t.values,a=Object.keys(t.values).filter(i=>typeof e[e[i]]!="number").map(i=>e[i]),s=Array.from(new Set(a.map(i=>typeof i)));return{type:s.length===1?s[0]==="string"?"string":"number":["string","number"],enum:a}}Cu.parseNativeEnumDef=K2});var Xm=j(Tu=>{"use strict";Object.defineProperty(Tu,"__esModule",{value:!0});Tu.parseNeverDef=void 0;function J2(){return{not:{}}}Tu.parseNeverDef=J2});var eh=j(Ou=>{"use strict";Object.defineProperty(Ou,"__esModule",{value:!0});Ou.parseNullDef=void 0;function Q2(t){return t.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}Ou.parseNullDef=Q2});var Iu=j(Es=>{"use strict";Object.defineProperty(Es,"__esModule",{value:!0});Es.parseUnionDef=Es.primitiveMappings=void 0;var Y2=It();Es.primitiveMappings={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function X2(t,e){if(e.target==="openApi3")return VE(t,e);let r=t.options instanceof Map?Array.from(t.options.values()):t.options;if(r.every(a=>a._def.typeName in Es.primitiveMappings&&(!a._def.checks||!a._def.checks.length))){let a=r.reduce((s,i)=>{let n=Es.primitiveMappings[i._def.typeName];return n&&!s.includes(n)?[...s,n]:s},[]);return{type:a.length>1?a:a[0]}}else if(r.every(a=>a._def.typeName==="ZodLiteral"&&!a.description)){let a=r.reduce((s,i)=>{let n=typeof i._def.value;switch(n){case"string":case"number":case"boolean":return[...s,n];case"bigint":return[...s,"integer"];case"object":if(i._def.value===null)return[...s,"null"];case"symbol":case"undefined":case"function":default:return s}},[]);if(a.length===r.length){let s=a.filter((i,n,o)=>o.indexOf(i)===n);return{type:s.length>1?s:s[0],enum:r.reduce((i,n)=>i.includes(n._def.value)?i:[...i,n._def.value],[])}}}else if(r.every(a=>a._def.typeName==="ZodEnum"))return{type:"string",enum:r.reduce((a,s)=>[...a,...s._def.values.filter(i=>!a.includes(i))],[])};return VE(t,e)}Es.parseUnionDef=X2;var VE=(t,e)=>{let r=(t.options instanceof Map?Array.from(t.options.values()):t.options).map((a,s)=>(0,Y2.parseDef)(a._def,{...e,currentPath:[...e.currentPath,"anyOf",`${s}`]})).filter(a=>!!a&&(!e.strictUnions||typeof a=="object"&&Object.keys(a).length>0));return r.length?{anyOf:r}:void 0}});var th=j(Au=>{"use strict";Object.defineProperty(Au,"__esModule",{value:!0});Au.parseNullableDef=void 0;var HE=It(),GE=Iu();function e9(t,e){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(t.innerType._def.typeName)&&(!t.innerType._def.checks||!t.innerType._def.checks.length))return e.target==="openApi3"?{type:GE.primitiveMappings[t.innerType._def.typeName],nullable:!0}:{type:[GE.primitiveMappings[t.innerType._def.typeName],"null"]};if(e.target==="openApi3"){let a=(0,HE.parseDef)(t.innerType._def,{...e,currentPath:[...e.currentPath]});return a&&"$ref"in a?{allOf:[a],nullable:!0}:a&&{...a,nullable:!0}}let r=(0,HE.parseDef)(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}Au.parseNullableDef=e9});var rh=j(ku=>{"use strict";Object.defineProperty(ku,"__esModule",{value:!0});ku.parseNumberDef=void 0;var Ps=Ss();function t9(t,e){let r={type:"number"};if(!t.checks)return r;for(let a of t.checks)switch(a.kind){case"int":r.type="integer",(0,Ps.addErrorMessage)(r,"type",a.message,e);break;case"min":e.target==="jsonSchema7"?a.inclusive?(0,Ps.setResponseValueAndErrors)(r,"minimum",a.value,a.message,e):(0,Ps.setResponseValueAndErrors)(r,"exclusiveMinimum",a.value,a.message,e):(a.inclusive||(r.exclusiveMinimum=!0),(0,Ps.setResponseValueAndErrors)(r,"minimum",a.value,a.message,e));break;case"max":e.target==="jsonSchema7"?a.inclusive?(0,Ps.setResponseValueAndErrors)(r,"maximum",a.value,a.message,e):(0,Ps.setResponseValueAndErrors)(r,"exclusiveMaximum",a.value,a.message,e):(a.inclusive||(r.exclusiveMaximum=!0),(0,Ps.setResponseValueAndErrors)(r,"maximum",a.value,a.message,e));break;case"multipleOf":(0,Ps.setResponseValueAndErrors)(r,"multipleOf",a.value,a.message,e);break}return r}ku.parseNumberDef=t9});var ah=j(Du=>{"use strict";Object.defineProperty(Du,"__esModule",{value:!0});Du.parseObjectDef=void 0;var r9=Ba(),WE=It();function a9(t,e){let r=e.target==="openAi",a={type:"object",properties:{}},s=[],i=t.shape();for(let o in i){let l=i[o];if(l===void 0||l._def===void 0)continue;let c=n9(l);c&&r&&(l instanceof r9.ZodOptional&&(l=l._def.innerType),l.isNullable()||(l=l.nullable()),c=!1);let u=(0,WE.parseDef)(l._def,{...e,currentPath:[...e.currentPath,"properties",o],propertyPath:[...e.currentPath,"properties",o]});u!==void 0&&(a.properties[o]=u,c||s.push(o))}s.length&&(a.required=s);let n=s9(t,e);return n!==void 0&&(a.additionalProperties=n),a}Du.parseObjectDef=a9;function s9(t,e){if(t.catchall._def.typeName!=="ZodNever")return(0,WE.parseDef)(t.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]});switch(t.unknownKeys){case"passthrough":return e.allowedAdditionalProperties;case"strict":return e.rejectedAdditionalProperties;case"strip":return e.removeAdditionalStrategy==="strict"?e.allowedAdditionalProperties:e.rejectedAdditionalProperties}}function n9(t){try{return t.isOptional()}catch{return!0}}});var sh=j(ju=>{"use strict";Object.defineProperty(ju,"__esModule",{value:!0});ju.parseOptionalDef=void 0;var KE=It(),i9=(t,e)=>{if(e.currentPath.toString()===e.propertyPath?.toString())return(0,KE.parseDef)(t.innerType._def,e);let r=(0,KE.parseDef)(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","1"]});return r?{anyOf:[{not:{}},r]}:{}};ju.parseOptionalDef=i9});var nh=j($u=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});$u.parsePipelineDef=void 0;var Nu=It(),o9=(t,e)=>{if(e.pipeStrategy==="input")return(0,Nu.parseDef)(t.in._def,e);if(e.pipeStrategy==="output")return(0,Nu.parseDef)(t.out._def,e);let r=(0,Nu.parseDef)(t.in._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),a=(0,Nu.parseDef)(t.out._def,{...e,currentPath:[...e.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,a].filter(s=>s!==void 0)}};$u.parsePipelineDef=o9});var ih=j(Lu=>{"use strict";Object.defineProperty(Lu,"__esModule",{value:!0});Lu.parsePromiseDef=void 0;var c9=It();function l9(t,e){return(0,c9.parseDef)(t.type._def,e)}Lu.parsePromiseDef=l9});var oh=j(Fu=>{"use strict";Object.defineProperty(Fu,"__esModule",{value:!0});Fu.parseSetDef=void 0;var JE=Ss(),u9=It();function d9(t,e){let a={type:"array",uniqueItems:!0,items:(0,u9.parseDef)(t.valueType._def,{...e,currentPath:[...e.currentPath,"items"]})};return t.minSize&&(0,JE.setResponseValueAndErrors)(a,"minItems",t.minSize.value,t.minSize.message,e),t.maxSize&&(0,JE.setResponseValueAndErrors)(a,"maxItems",t.maxSize.value,t.maxSize.message,e),a}Fu.parseSetDef=d9});var lh=j(Mu=>{"use strict";Object.defineProperty(Mu,"__esModule",{value:!0});Mu.parseTupleDef=void 0;var ch=It();function p9(t,e){return t.rest?{type:"array",minItems:t.items.length,items:t.items.map((r,a)=>(0,ch.parseDef)(r._def,{...e,currentPath:[...e.currentPath,"items",`${a}`]})).reduce((r,a)=>a===void 0?r:[...r,a],[]),additionalItems:(0,ch.parseDef)(t.rest._def,{...e,currentPath:[...e.currentPath,"additionalItems"]})}:{type:"array",minItems:t.items.length,maxItems:t.items.length,items:t.items.map((r,a)=>(0,ch.parseDef)(r._def,{...e,currentPath:[...e.currentPath,"items",`${a}`]})).reduce((r,a)=>a===void 0?r:[...r,a],[])}}Mu.parseTupleDef=p9});var uh=j(qu=>{"use strict";Object.defineProperty(qu,"__esModule",{value:!0});qu.parseUndefinedDef=void 0;function f9(){return{not:{}}}qu.parseUndefinedDef=f9});var dh=j(Uu=>{"use strict";Object.defineProperty(Uu,"__esModule",{value:!0});Uu.parseUnknownDef=void 0;function m9(){return{}}Uu.parseUnknownDef=m9});var ph=j(zu=>{"use strict";Object.defineProperty(zu,"__esModule",{value:!0});zu.parseReadonlyDef=void 0;var h9=It(),v9=(t,e)=>(0,h9.parseDef)(t.innerType._def,e);zu.parseReadonlyDef=v9});var fh=j(Bu=>{"use strict";Object.defineProperty(Bu,"__esModule",{value:!0});Bu.selectParser=void 0;var tt=Ba(),g9=Fm(),y9=Mm(),x9=qm(),b9=Um(),_9=hu(),w9=zm(),S9=Bm(),E9=Zm(),P9=Vm(),R9=Hm(),C9=Gm(),T9=Wm(),O9=Qm(),I9=Ym(),A9=Xm(),k9=eh(),D9=th(),j9=rh(),N9=ah(),$9=sh(),L9=nh(),F9=ih(),M9=Pu(),q9=oh(),U9=Su(),z9=lh(),B9=uh(),Z9=Iu(),V9=dh(),H9=ph(),G9=(t,e,r)=>{switch(e){case tt.ZodFirstPartyTypeKind.ZodString:return(0,U9.parseStringDef)(t,r);case tt.ZodFirstPartyTypeKind.ZodNumber:return(0,j9.parseNumberDef)(t,r);case tt.ZodFirstPartyTypeKind.ZodObject:return(0,N9.parseObjectDef)(t,r);case tt.ZodFirstPartyTypeKind.ZodBigInt:return(0,x9.parseBigintDef)(t,r);case tt.ZodFirstPartyTypeKind.ZodBoolean:return(0,b9.parseBooleanDef)();case tt.ZodFirstPartyTypeKind.ZodDate:return(0,S9.parseDateDef)(t,r);case tt.ZodFirstPartyTypeKind.ZodUndefined:return(0,B9.parseUndefinedDef)();case tt.ZodFirstPartyTypeKind.ZodNull:return(0,k9.parseNullDef)(r);case tt.ZodFirstPartyTypeKind.ZodArray:return(0,y9.parseArrayDef)(t,r);case tt.ZodFirstPartyTypeKind.ZodUnion:case tt.ZodFirstPartyTypeKind.ZodDiscriminatedUnion:return(0,Z9.parseUnionDef)(t,r);case tt.ZodFirstPartyTypeKind.ZodIntersection:return(0,C9.parseIntersectionDef)(t,r);case tt.ZodFirstPartyTypeKind.ZodTuple:return(0,z9.parseTupleDef)(t,r);case tt.ZodFirstPartyTypeKind.ZodRecord:return(0,M9.parseRecordDef)(t,r);case tt.ZodFirstPartyTypeKind.ZodLiteral:return(0,T9.parseLiteralDef)(t,r);case tt.ZodFirstPartyTypeKind.ZodEnum:return(0,R9.parseEnumDef)(t);case tt.ZodFirstPartyTypeKind.ZodNativeEnum:return(0,I9.parseNativeEnumDef)(t);case tt.ZodFirstPartyTypeKind.ZodNullable:return(0,D9.parseNullableDef)(t,r);case tt.ZodFirstPartyTypeKind.ZodOptional:return(0,$9.parseOptionalDef)(t,r);case tt.ZodFirstPartyTypeKind.ZodMap:return(0,O9.parseMapDef)(t,r);case tt.ZodFirstPartyTypeKind.ZodSet:return(0,q9.parseSetDef)(t,r);case tt.ZodFirstPartyTypeKind.ZodLazy:return()=>t.getter()._def;case tt.ZodFirstPartyTypeKind.ZodPromise:return(0,F9.parsePromiseDef)(t,r);case tt.ZodFirstPartyTypeKind.ZodNaN:case tt.ZodFirstPartyTypeKind.ZodNever:return(0,A9.parseNeverDef)();case tt.ZodFirstPartyTypeKind.ZodEffects:return(0,P9.parseEffectsDef)(t,r);case tt.ZodFirstPartyTypeKind.ZodAny:return(0,g9.parseAnyDef)();case tt.ZodFirstPartyTypeKind.ZodUnknown:return(0,V9.parseUnknownDef)();case tt.ZodFirstPartyTypeKind.ZodDefault:return(0,E9.parseDefaultDef)(t,r);case tt.ZodFirstPartyTypeKind.ZodBranded:return(0,_9.parseBrandedDef)(t,r);case tt.ZodFirstPartyTypeKind.ZodReadonly:return(0,H9.parseReadonlyDef)(t,r);case tt.ZodFirstPartyTypeKind.ZodCatch:return(0,w9.parseCatchDef)(t,r);case tt.ZodFirstPartyTypeKind.ZodPipeline:return(0,L9.parsePipelineDef)(t,r);case tt.ZodFirstPartyTypeKind.ZodFunction:case tt.ZodFirstPartyTypeKind.ZodVoid:case tt.ZodFirstPartyTypeKind.ZodSymbol:return;default:return(a=>{})(e)}};Bu.selectParser=G9});var It=j(Zu=>{"use strict";Object.defineProperty(Zu,"__esModule",{value:!0});Zu.parseDef=void 0;var W9=ou(),K9=fh();function QE(t,e,r=!1){let a=e.seen.get(t);if(e.override){let o=e.override?.(t,e,a,r);if(o!==W9.ignoreOverride)return o}if(a&&!r){let o=J9(a,e);if(o!==void 0)return o}let s={def:t,path:e.currentPath,jsonSchema:void 0};e.seen.set(t,s);let i=(0,K9.selectParser)(t,t.typeName,e),n=typeof i=="function"?QE(i(),e):i;if(n&&Y9(t,e,n),e.postProcess){let o=e.postProcess(n,t,e);return s.jsonSchema=n,o}return s.jsonSchema=n,n}Zu.parseDef=QE;var J9=(t,e)=>{switch(e.$refStrategy){case"root":return{$ref:t.path.join("/")};case"relative":return{$ref:Q9(e.currentPath,t.path)};case"none":case"seen":return t.path.length<e.currentPath.length&&t.path.every((r,a)=>e.currentPath[a]===r)?(console.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`),{}):e.$refStrategy==="seen"?{}:void 0}},Q9=(t,e)=>{let r=0;for(;r<t.length&&r<e.length&&t[r]===e[r];r++);return[(t.length-r).toString(),...e.slice(r)].join("/")},Y9=(t,e,r)=>(t.description&&(r.description=t.description,e.markdownDescription&&(r.markdownDescription=t.description)),r)});var XE=j(YE=>{"use strict";Object.defineProperty(YE,"__esModule",{value:!0})});var mh=j(Vu=>{"use strict";Object.defineProperty(Vu,"__esModule",{value:!0});Vu.zodToJsonSchema=void 0;var eP=It(),X9=Lm(),e4=(t,e)=>{let r=(0,X9.getRefs)(e),a=typeof e=="object"&&e.definitions?Object.entries(e.definitions).reduce((l,[c,u])=>({...l,[c]:(0,eP.parseDef)(u._def,{...r,currentPath:[...r.basePath,r.definitionPath,c]},!0)??{}}),{}):void 0,s=typeof e=="string"?e:e?.nameStrategy==="title"?void 0:e?.name,i=(0,eP.parseDef)(t._def,s===void 0?r:{...r,currentPath:[...r.basePath,r.definitionPath,s]},!1)??{},n=typeof e=="object"&&e.name!==void 0&&e.nameStrategy==="title"?e.name:void 0;n!==void 0&&(i.title=n);let o=s===void 0?a?{...i,[r.definitionPath]:a}:i:{$ref:[...r.$refStrategy==="relative"?[]:r.basePath,r.definitionPath,s].join("/"),[r.definitionPath]:{...a,[s]:i}};return r.target==="jsonSchema7"?o.$schema="http://json-schema.org/draft-07/schema#":(r.target==="jsonSchema2019-09"||r.target==="openAi")&&(o.$schema="https://json-schema.org/draft/2019-09/schema#"),r.target==="openAi"&&("anyOf"in o||"oneOf"in o||"allOf"in o||"type"in o&&Array.isArray(o.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),o};Vu.zodToJsonSchema=e4});var tP=j(Me=>{"use strict";var t4=Me&&Me.__createBinding||(Object.create?function(t,e,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,a,s)}:function(t,e,r,a){a===void 0&&(a=r),t[a]=e[r]}),Xe=Me&&Me.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&t4(e,t,r)};Object.defineProperty(Me,"__esModule",{value:!0});Xe(ou(),Me);Xe(Lm(),Me);Xe(Ss(),Me);Xe(It(),Me);Xe(XE(),Me);Xe(Fm(),Me);Xe(Mm(),Me);Xe(qm(),Me);Xe(Um(),Me);Xe(hu(),Me);Xe(zm(),Me);Xe(Bm(),Me);Xe(Zm(),Me);Xe(Vm(),Me);Xe(Hm(),Me);Xe(Gm(),Me);Xe(Wm(),Me);Xe(Qm(),Me);Xe(Ym(),Me);Xe(Xm(),Me);Xe(eh(),Me);Xe(th(),Me);Xe(rh(),Me);Xe(ah(),Me);Xe(sh(),Me);Xe(nh(),Me);Xe(ih(),Me);Xe(ph(),Me);Xe(Pu(),Me);Xe(oh(),Me);Xe(Su(),Me);Xe(lh(),Me);Xe(uh(),Me);Xe(Iu(),Me);Xe(dh(),Me);Xe(fh(),Me);Xe(mh(),Me);var r4=mh();Me.default=r4.zodToJsonSchema});var rP=j(En=>{"use strict";Object.defineProperty(En,"__esModule",{value:!0});En.Completable=En.McpZodTypeKind=void 0;En.completable=s4;var a4=Ba(),hh;(function(t){t.Completable="McpCompletable"})(hh||(En.McpZodTypeKind=hh={}));var Ti=class extends a4.ZodType{_parse(e){let{ctx:r}=this._processInputParams(e),a=r.data;return this._def.type._parse({data:a,path:r.path,parent:r})}unwrap(){return this._def.type}};En.Completable=Ti;Ti.create=(t,e)=>new Ti({type:t,typeName:hh.Completable,complete:e.complete,...n4(e)});function s4(t,e){return Ti.create(t,{...t._def,complete:e})}function n4(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:a,description:s}=t;if(e&&(r||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(n,o)=>{var l,c;let{message:u}=t;return n.code==="invalid_enum_value"?{message:u??o.defaultError}:typeof o.data>"u"?{message:(l=u??a)!==null&&l!==void 0?l:o.defaultError}:n.code!=="invalid_type"?{message:o.defaultError}:{message:(c=u??r)!==null&&c!==void 0?c:o.defaultError}},description:s}}});var nP=j(Hu=>{"use strict";Object.defineProperty(Hu,"__esModule",{value:!0});Hu.UriTemplate=void 0;var aP=1e6,vh=1e6,sP=1e4,i4=1e6,gh=class t{static isTemplate(e){return/\{[^}\s]+\}/.test(e)}static validateLength(e,r,a){if(e.length>r)throw new Error(`${a} exceeds maximum length of ${r} characters (got ${e.length})`)}get variableNames(){return this.parts.flatMap(e=>typeof e=="string"?[]:e.names)}constructor(e){t.validateLength(e,aP,"Template"),this.template=e,this.parts=this.parse(e)}toString(){return this.template}parse(e){let r=[],a="",s=0,i=0;for(;s<e.length;)if(e[s]==="{"){a&&(r.push(a),a="");let n=e.indexOf("}",s);if(n===-1)throw new Error("Unclosed template expression");if(i++,i>sP)throw new Error(`Template contains too many expressions (max ${sP})`);let o=e.slice(s+1,n),l=this.getOperator(o),c=o.includes("*"),u=this.getNames(o),d=u[0];for(let h of u)t.validateLength(h,vh,"Variable name");r.push({name:d,operator:l,names:u,exploded:c}),s=n+1}else a+=e[s],s++;return a&&r.push(a),r}getOperator(e){return["+","#",".","/","?","&"].find(a=>e.startsWith(a))||""}getNames(e){let r=this.getOperator(e);return e.slice(r.length).split(",").map(a=>a.replace("*","").trim()).filter(a=>a.length>0)}encodeValue(e,r){return t.validateLength(e,vh,"Variable value"),r==="+"||r==="#"?encodeURI(e):encodeURIComponent(e)}expandPart(e,r){if(e.operator==="?"||e.operator==="&"){let n=e.names.map(l=>{let c=r[l];if(c===void 0)return"";let u=Array.isArray(c)?c.map(d=>this.encodeValue(d,e.operator)).join(","):this.encodeValue(c.toString(),e.operator);return`${l}=${u}`}).filter(l=>l.length>0);return n.length===0?"":(e.operator==="?"?"?":"&")+n.join("&")}if(e.names.length>1){let n=e.names.map(o=>r[o]).filter(o=>o!==void 0);return n.length===0?"":n.map(o=>Array.isArray(o)?o[0]:o).join(",")}let a=r[e.name];if(a===void 0)return"";let i=(Array.isArray(a)?a:[a]).map(n=>this.encodeValue(n,e.operator));switch(e.operator){case"":return i.join(",");case"+":return i.join(",");case"#":return"#"+i.join(",");case".":return"."+i.join(".");case"/":return"/"+i.join("/");default:return i.join(",")}}expand(e){let r="",a=!1;for(let s of this.parts){if(typeof s=="string"){r+=s;continue}let i=this.expandPart(s,e);i&&((s.operator==="?"||s.operator==="&")&&a?r+=i.replace("?","&"):r+=i,(s.operator==="?"||s.operator==="&")&&(a=!0))}return r}escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}partToRegExp(e){let r=[];for(let i of e.names)t.validateLength(i,vh,"Variable name");if(e.operator==="?"||e.operator==="&"){for(let i=0;i<e.names.length;i++){let n=e.names[i],o=i===0?"\\"+e.operator:"&";r.push({pattern:o+this.escapeRegExp(n)+"=([^&]+)",name:n})}return r}let a,s=e.name;switch(e.operator){case"":a=e.exploded?"([^/]+(?:,[^/]+)*)":"([^/,]+)";break;case"+":case"#":a="(.+)";break;case".":a="\\.([^/,]+)";break;case"/":a="/"+(e.exploded?"([^/]+(?:,[^/]+)*)":"([^/,]+)");break;default:a="([^/]+)"}return r.push({pattern:a,name:s}),r}match(e){t.validateLength(e,aP,"URI");let r="^",a=[];for(let o of this.parts)if(typeof o=="string")r+=this.escapeRegExp(o);else{let l=this.partToRegExp(o);for(let{pattern:c,name:u}of l)r+=c,a.push({name:u,exploded:o.exploded})}r+="$",t.validateLength(r,i4,"Generated regex pattern");let s=new RegExp(r),i=e.match(s);if(!i)return null;let n={};for(let o=0;o<a.length;o++){let{name:l,exploded:c}=a[o],u=i[o+1],d=l.replace("*","");c&&u.includes(",")?n[d]=u.split(","):n[d]=u}return n}};Hu.UriTemplate=gh});var lP=j(Oi=>{"use strict";Object.defineProperty(Oi,"__esModule",{value:!0});Oi.ResourceTemplate=Oi.McpServer=void 0;var o4=LE(),iP=tP(),Ho=Ba(),qe=Bo(),c4=rP(),l4=nP(),yh=class{constructor(e,r){this._registeredResources={},this._registeredResourceTemplates={},this._registeredTools={},this._registeredPrompts={},this._toolHandlersInitialized=!1,this._completionHandlerInitialized=!1,this._resourceHandlersInitialized=!1,this._promptHandlersInitialized=!1,this.server=new o4.Server(e,r)}async connect(e){return await this.server.connect(e)}async close(){await this.server.close()}setToolRequestHandlers(){this._toolHandlersInitialized||(this.server.assertCanSetRequestHandler(qe.ListToolsRequestSchema.shape.method.value),this.server.assertCanSetRequestHandler(qe.CallToolRequestSchema.shape.method.value),this.server.registerCapabilities({tools:{listChanged:!0}}),this.server.setRequestHandler(qe.ListToolsRequestSchema,()=>({tools:Object.entries(this._registeredTools).filter(([,e])=>e.enabled).map(([e,r])=>{let a={name:e,title:r.title,description:r.description,inputSchema:r.inputSchema?(0,iP.zodToJsonSchema)(r.inputSchema,{strictUnions:!0}):u4,annotations:r.annotations};return r.outputSchema&&(a.outputSchema=(0,iP.zodToJsonSchema)(r.outputSchema,{strictUnions:!0})),a})})),this.server.setRequestHandler(qe.CallToolRequestSchema,async(e,r)=>{let a=this._registeredTools[e.params.name];if(!a)throw new qe.McpError(qe.ErrorCode.InvalidParams,`Tool ${e.params.name} not found`);if(!a.enabled)throw new qe.McpError(qe.ErrorCode.InvalidParams,`Tool ${e.params.name} disabled`);let s;if(a.inputSchema){let i=await a.inputSchema.safeParseAsync(e.params.arguments);if(!i.success)throw new qe.McpError(qe.ErrorCode.InvalidParams,`Invalid arguments for tool ${e.params.name}: ${i.error.message}`);let n=i.data,o=a.callback;try{s=await Promise.resolve(o(n,r))}catch(l){s={content:[{type:"text",text:l instanceof Error?l.message:String(l)}],isError:!0}}}else{let i=a.callback;try{s=await Promise.resolve(i(r))}catch(n){s={content:[{type:"text",text:n instanceof Error?n.message:String(n)}],isError:!0}}}if(a.outputSchema&&!s.isError){if(!s.structuredContent)throw new qe.McpError(qe.ErrorCode.InvalidParams,`Tool ${e.params.name} has an output schema but no structured content was provided`);let i=await a.outputSchema.safeParseAsync(s.structuredContent);if(!i.success)throw new qe.McpError(qe.ErrorCode.InvalidParams,`Invalid structured content for tool ${e.params.name}: ${i.error.message}`)}return s}),this._toolHandlersInitialized=!0)}setCompletionRequestHandler(){this._completionHandlerInitialized||(this.server.assertCanSetRequestHandler(qe.CompleteRequestSchema.shape.method.value),this.server.registerCapabilities({completions:{}}),this.server.setRequestHandler(qe.CompleteRequestSchema,async e=>{switch(e.params.ref.type){case"ref/prompt":return this.handlePromptCompletion(e,e.params.ref);case"ref/resource":return this.handleResourceCompletion(e,e.params.ref);default:throw new qe.McpError(qe.ErrorCode.InvalidParams,`Invalid completion reference: ${e.params.ref}`)}}),this._completionHandlerInitialized=!0)}async handlePromptCompletion(e,r){let a=this._registeredPrompts[r.name];if(!a)throw new qe.McpError(qe.ErrorCode.InvalidParams,`Prompt ${r.name} not found`);if(!a.enabled)throw new qe.McpError(qe.ErrorCode.InvalidParams,`Prompt ${r.name} disabled`);if(!a.argsSchema)return Gu;let s=a.argsSchema.shape[e.params.argument.name];if(!(s instanceof c4.Completable))return Gu;let n=await s._def.complete(e.params.argument.value,e.params.context);return cP(n)}async handleResourceCompletion(e,r){let a=Object.values(this._registeredResourceTemplates).find(n=>n.resourceTemplate.uriTemplate.toString()===r.uri);if(!a){if(this._registeredResources[r.uri])return Gu;throw new qe.McpError(qe.ErrorCode.InvalidParams,`Resource template ${e.params.ref.uri} not found`)}let s=a.resourceTemplate.completeCallback(e.params.argument.name);if(!s)return Gu;let i=await s(e.params.argument.value,e.params.context);return cP(i)}setResourceRequestHandlers(){this._resourceHandlersInitialized||(this.server.assertCanSetRequestHandler(qe.ListResourcesRequestSchema.shape.method.value),this.server.assertCanSetRequestHandler(qe.ListResourceTemplatesRequestSchema.shape.method.value),this.server.assertCanSetRequestHandler(qe.ReadResourceRequestSchema.shape.method.value),this.server.registerCapabilities({resources:{listChanged:!0}}),this.server.setRequestHandler(qe.ListResourcesRequestSchema,async(e,r)=>{let a=Object.entries(this._registeredResources).filter(([i,n])=>n.enabled).map(([i,n])=>({uri:i,name:n.name,...n.metadata})),s=[];for(let i of Object.values(this._registeredResourceTemplates)){if(!i.resourceTemplate.listCallback)continue;let n=await i.resourceTemplate.listCallback(r);for(let o of n.resources)s.push({...i.metadata,...o})}return{resources:[...a,...s]}}),this.server.setRequestHandler(qe.ListResourceTemplatesRequestSchema,async()=>({resourceTemplates:Object.entries(this._registeredResourceTemplates).map(([r,a])=>({name:r,uriTemplate:a.resourceTemplate.uriTemplate.toString(),...a.metadata}))})),this.server.setRequestHandler(qe.ReadResourceRequestSchema,async(e,r)=>{let a=new URL(e.params.uri),s=this._registeredResources[a.toString()];if(s){if(!s.enabled)throw new qe.McpError(qe.ErrorCode.InvalidParams,`Resource ${a} disabled`);return s.readCallback(a,r)}for(let i of Object.values(this._registeredResourceTemplates)){let n=i.resourceTemplate.uriTemplate.match(a.toString());if(n)return i.readCallback(a,n,r)}throw new qe.McpError(qe.ErrorCode.InvalidParams,`Resource ${a} not found`)}),this.setCompletionRequestHandler(),this._resourceHandlersInitialized=!0)}setPromptRequestHandlers(){this._promptHandlersInitialized||(this.server.assertCanSetRequestHandler(qe.ListPromptsRequestSchema.shape.method.value),this.server.assertCanSetRequestHandler(qe.GetPromptRequestSchema.shape.method.value),this.server.registerCapabilities({prompts:{listChanged:!0}}),this.server.setRequestHandler(qe.ListPromptsRequestSchema,()=>({prompts:Object.entries(this._registeredPrompts).filter(([,e])=>e.enabled).map(([e,r])=>({name:e,title:r.title,description:r.description,arguments:r.argsSchema?p4(r.argsSchema):void 0}))})),this.server.setRequestHandler(qe.GetPromptRequestSchema,async(e,r)=>{let a=this._registeredPrompts[e.params.name];if(!a)throw new qe.McpError(qe.ErrorCode.InvalidParams,`Prompt ${e.params.name} not found`);if(!a.enabled)throw new qe.McpError(qe.ErrorCode.InvalidParams,`Prompt ${e.params.name} disabled`);if(a.argsSchema){let s=await a.argsSchema.safeParseAsync(e.params.arguments);if(!s.success)throw new qe.McpError(qe.ErrorCode.InvalidParams,`Invalid arguments for prompt ${e.params.name}: ${s.error.message}`);let i=s.data,n=a.callback;return await Promise.resolve(n(i,r))}else{let s=a.callback;return await Promise.resolve(s(r))}}),this.setCompletionRequestHandler(),this._promptHandlersInitialized=!0)}resource(e,r,...a){let s;typeof a[0]=="object"&&(s=a.shift());let i=a[0];if(typeof r=="string"){if(this._registeredResources[r])throw new Error(`Resource ${r} is already registered`);let n=this._createRegisteredResource(e,void 0,r,s,i);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),n}else{if(this._registeredResourceTemplates[e])throw new Error(`Resource template ${e} is already registered`);let n=this._createRegisteredResourceTemplate(e,void 0,r,s,i);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),n}}registerResource(e,r,a,s){if(typeof r=="string"){if(this._registeredResources[r])throw new Error(`Resource ${r} is already registered`);let i=this._createRegisteredResource(e,a.title,r,a,s);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),i}else{if(this._registeredResourceTemplates[e])throw new Error(`Resource template ${e} is already registered`);let i=this._createRegisteredResourceTemplate(e,a.title,r,a,s);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),i}}_createRegisteredResource(e,r,a,s,i){let n={name:e,title:r,metadata:s,readCallback:i,enabled:!0,disable:()=>n.update({enabled:!1}),enable:()=>n.update({enabled:!0}),remove:()=>n.update({uri:null}),update:o=>{typeof o.uri<"u"&&o.uri!==a&&(delete this._registeredResources[a],o.uri&&(this._registeredResources[o.uri]=n)),typeof o.name<"u"&&(n.name=o.name),typeof o.title<"u"&&(n.title=o.title),typeof o.metadata<"u"&&(n.metadata=o.metadata),typeof o.callback<"u"&&(n.readCallback=o.callback),typeof o.enabled<"u"&&(n.enabled=o.enabled),this.sendResourceListChanged()}};return this._registeredResources[a]=n,n}_createRegisteredResourceTemplate(e,r,a,s,i){let n={resourceTemplate:a,title:r,metadata:s,readCallback:i,enabled:!0,disable:()=>n.update({enabled:!1}),enable:()=>n.update({enabled:!0}),remove:()=>n.update({name:null}),update:o=>{typeof o.name<"u"&&o.name!==e&&(delete this._registeredResourceTemplates[e],o.name&&(this._registeredResourceTemplates[o.name]=n)),typeof o.title<"u"&&(n.title=o.title),typeof o.template<"u"&&(n.resourceTemplate=o.template),typeof o.metadata<"u"&&(n.metadata=o.metadata),typeof o.callback<"u"&&(n.readCallback=o.callback),typeof o.enabled<"u"&&(n.enabled=o.enabled),this.sendResourceListChanged()}};return this._registeredResourceTemplates[e]=n,n}_createRegisteredPrompt(e,r,a,s,i){let n={title:r,description:a,argsSchema:s===void 0?void 0:Ho.z.object(s),callback:i,enabled:!0,disable:()=>n.update({enabled:!1}),enable:()=>n.update({enabled:!0}),remove:()=>n.update({name:null}),update:o=>{typeof o.name<"u"&&o.name!==e&&(delete this._registeredPrompts[e],o.name&&(this._registeredPrompts[o.name]=n)),typeof o.title<"u"&&(n.title=o.title),typeof o.description<"u"&&(n.description=o.description),typeof o.argsSchema<"u"&&(n.argsSchema=Ho.z.object(o.argsSchema)),typeof o.callback<"u"&&(n.callback=o.callback),typeof o.enabled<"u"&&(n.enabled=o.enabled),this.sendPromptListChanged()}};return this._registeredPrompts[e]=n,n}_createRegisteredTool(e,r,a,s,i,n,o){let l={title:r,description:a,inputSchema:s===void 0?void 0:Ho.z.object(s),outputSchema:i===void 0?void 0:Ho.z.object(i),annotations:n,callback:o,enabled:!0,disable:()=>l.update({enabled:!1}),enable:()=>l.update({enabled:!0}),remove:()=>l.update({name:null}),update:c=>{typeof c.name<"u"&&c.name!==e&&(delete this._registeredTools[e],c.name&&(this._registeredTools[c.name]=l)),typeof c.title<"u"&&(l.title=c.title),typeof c.description<"u"&&(l.description=c.description),typeof c.paramsSchema<"u"&&(l.inputSchema=Ho.z.object(c.paramsSchema)),typeof c.callback<"u"&&(l.callback=c.callback),typeof c.annotations<"u"&&(l.annotations=c.annotations),typeof c.enabled<"u"&&(l.enabled=c.enabled),this.sendToolListChanged()}};return this._registeredTools[e]=l,this.setToolRequestHandlers(),this.sendToolListChanged(),l}tool(e,...r){if(this._registeredTools[e])throw new Error(`Tool ${e} is already registered`);let a,s,i,n;if(typeof r[0]=="string"&&(a=r.shift()),r.length>1){let l=r[0];oP(l)?(s=r.shift(),r.length>1&&typeof r[0]=="object"&&r[0]!==null&&!oP(r[0])&&(n=r.shift())):typeof l=="object"&&l!==null&&(n=r.shift())}let o=r[0];return this._createRegisteredTool(e,void 0,a,s,i,n,o)}registerTool(e,r,a){if(this._registeredTools[e])throw new Error(`Tool ${e} is already registered`);let{title:s,description:i,inputSchema:n,outputSchema:o,annotations:l}=r;return this._createRegisteredTool(e,s,i,n,o,l,a)}prompt(e,...r){if(this._registeredPrompts[e])throw new Error(`Prompt ${e} is already registered`);let a;typeof r[0]=="string"&&(a=r.shift());let s;r.length>1&&(s=r.shift());let i=r[0],n=this._createRegisteredPrompt(e,void 0,a,s,i);return this.setPromptRequestHandlers(),this.sendPromptListChanged(),n}registerPrompt(e,r,a){if(this._registeredPrompts[e])throw new Error(`Prompt ${e} is already registered`);let{title:s,description:i,argsSchema:n}=r,o=this._createRegisteredPrompt(e,s,i,n,a);return this.setPromptRequestHandlers(),this.sendPromptListChanged(),o}isConnected(){return this.server.transport!==void 0}sendResourceListChanged(){this.isConnected()&&this.server.sendResourceListChanged()}sendToolListChanged(){this.isConnected()&&this.server.sendToolListChanged()}sendPromptListChanged(){this.isConnected()&&this.server.sendPromptListChanged()}};Oi.McpServer=yh;var xh=class{constructor(e,r){this._callbacks=r,this._uriTemplate=typeof e=="string"?new l4.UriTemplate(e):e}get uriTemplate(){return this._uriTemplate}get listCallback(){return this._callbacks.list}completeCallback(e){var r;return(r=this._callbacks.complete)===null||r===void 0?void 0:r[e]}};Oi.ResourceTemplate=xh;var u4={type:"object",properties:{}};function oP(t){return typeof t!="object"||t===null?!1:Object.keys(t).length===0||Object.values(t).some(d4)}function d4(t){return t!==null&&typeof t=="object"&&"parse"in t&&typeof t.parse=="function"&&"safeParse"in t&&typeof t.safeParse=="function"}function p4(t){return Object.entries(t.shape).map(([e,r])=>({name:e,description:r.description,required:!r.isOptional()}))}function cP(t){return{completion:{values:t.slice(0,100),total:t.length,hasMore:t.length>100}}}var Gu={completion:{values:[],hasMore:!1}}});var uP=j(bh=>{"use strict";Object.defineProperty(bh,"__esModule",{value:!0});bh.convertPosixPathToWindowsPath=m4;var f4=require("node:child_process");function m4(t){let e=t;if(t.startsWith("file://")&&(e=t.substring(7)),!e.startsWith("/")||/^\/[a-zA-Z]:/.test(e))return t;try{return(0,f4.execFileSync)("wsl.exe",["-e","wslpath","-w",e],{encoding:"utf8",stdio:["pipe","pipe","ignore"]}).trim()}catch{return t}}});var dP=j(Za=>{"use strict";var h4=Za&&Za.__createBinding||(Object.create?function(t,e,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,a,s)}:function(t,e,r,a){a===void 0&&(a=r),t[a]=e[r]}),v4=Za&&Za.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),g4=Za&&Za.__importStar||function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var a=t(e),s=0;s<a.length;s++)a[s]!=="default"&&h4(r,e,a[s]);return v4(r,e),r}}();Object.defineProperty(Za,"__esModule",{value:!0});Za.createVscodeUri=x4;var _h=g4(require("vscode")),y4=uP();function x4(t){if(process.platform==="win32"){let e=(0,y4.convertPosixPathToWindowsPath)(t);return e.startsWith("file://")?_h.Uri.parse(e):_h.Uri.file(e)}else return _h.Uri.parse(t)}});var Ku=j(or=>{"use strict";var b4=or&&or.__createBinding||(Object.create?function(t,e,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,a,s)}:function(t,e,r,a){a===void 0&&(a=r),t[a]=e[r]}),_4=or&&or.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),w4=or&&or.__importStar||function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var a=t(e),s=0;s<a.length;s++)a[s]!=="default"&&b4(r,e,a[s]);return _4(r,e),r}}();Object.defineProperty(or,"__esModule",{value:!0});or.DiagnosticSubscriptionManager=or.DiagnosticStreamManager=void 0;or.transformVsCodeDiagnostics=pP;or.getDiagnostics=E4;var Go=w4(require("vscode")),S4=dP();function pP(t){return t.map(e=>({message:e.message,severity:Go.DiagnosticSeverity[e.severity],range:{start:{line:e.range.start.line,character:e.range.start.character},end:{line:e.range.end.line,character:e.range.end.character}},source:e.source,code:e.code?.toString()}))}function E4(t){return(t?(()=>{let r=(0,S4.createVscodeUri)(t);return[[r,Go.languages.getDiagnostics(r)]]})():Go.languages.getDiagnostics()).map(([r,a])=>({uri:r.toString(!0),linesInFile:P4(r),diagnostics:pP(a)}))}function P4(t){try{return Go.workspace.textDocuments.find(r=>r.uri.toString()===t.toString())?.lineCount}catch{return}}var Wu=class t{static instance;listener;clients;clientCounter;output;constructor(e){this.clients=new Map,this.clientCounter=0,this.output=e}static getInstance(e){return t.instance||(t.instance=new t(e)),t.instance}registerClient(e){let r=`client_${this.clientCounter++}`;return this.clients.set(r,e),this.startStreaming(),r}unregisterClient(e){this.clients.delete(e)&&(this.output.info(`[DiagnosticStreamManager] Unregistered client ${e}. Total clients: ${this.clients.size}`),this.clients.size===0&&this.stopStreaming())}startStreaming(){this.listener||(this.listener=Go.languages.onDidChangeDiagnostics(e=>{this.notifyDiagnosticsChanged(e.uris)}),this.output.info("[DiagnosticStreamManager] Started streaming diagnostics"))}stopStreaming(){this.listener&&(this.listener.dispose(),this.listener=void 0,this.output.info("[DiagnosticStreamManager] Stopped streaming diagnostics"))}notifyDiagnosticsChanged(e){if(this.clients.size===0)return;let r=e.map(a=>a.toString());this.output.info(`[DiagnosticStreamManager] Notifying ${this.clients.size} clients about diagnostics change for ${e.length} files`),this.clients.forEach((a,s)=>{try{a(r)}catch(i){this.output.error(`[DiagnosticStreamManager] Error notifying client ${s}: ${i}`)}})}dispose(){this.clients.clear(),this.stopStreaming()}};or.DiagnosticStreamManager=Wu;or.DiagnosticSubscriptionManager=Wu});var mP=j(Jt=>{"use strict";var R4=Jt&&Jt.__createBinding||(Object.create?function(t,e,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,a,s)}:function(t,e,r,a){a===void 0&&(a=r),t[a]=e[r]}),C4=Jt&&Jt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),fP=Jt&&Jt.__importStar||function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var a=t(e),s=0;s<a.length;s++)a[s]!=="default"&&R4(r,e,a[s]);return C4(r,e),r}}();Object.defineProperty(Jt,"__esModule",{value:!0});Jt.handleGetDiagnostics=O4;Jt.handleOpenFile=I4;Jt.handleGetOpenEditors=A4;Jt.handleGetCurrentSelection=k4;Jt.handleGetWorkspaceFolders=D4;Jt.handleCheckDocumentDirty=j4;Jt.handleSaveDocument=N4;var Je=fP(require("vscode")),Ii=fP(require("path")),T4=Ku();async function O4(t={}){try{let e=(0,T4.getDiagnostics)(t.uri);return{content:[{type:"text",text:JSON.stringify(e,null,2)}]}}catch(e){throw console.error("Error getting diagnostics through MCP:",e),e}}async function I4({filePath:t,preview:e,startText:r,endText:a,selectToEndOfLine:s,makeFrontmost:i=!0}){try{if(!t)throw new Error("File path is required");let n;if(!Ii.isAbsolute(t)&&Je.workspace.workspaceFolders&&Je.workspace.workspaceFolders.length>0){let o=Je.workspace.workspaceFolders[0].uri.fsPath,l=Ii.join(o,t);n=Je.Uri.file(l),console.log(`Converted relative path '${t}' to absolute: '${l}'`)}else n=Je.Uri.file(t);try{await Je.workspace.fs.stat(n);let o=await Je.workspace.openTextDocument(n),l=Je.window.visibleTextEditors.some(d=>d.document.uri.toString()===n.toString()),c;if(i||!l?c=await Je.window.showTextDocument(o,{preview:e,preserveFocus:!i}):c=Je.window.visibleTextEditors.find(d=>d.document.uri.toString()===n.toString()),r&&c){let d=o.getText(),h={success:!0,filePath:n.fsPath,message:`Opened file: ${n.fsPath}`},p=d.indexOf(r);if(p!==-1){let m=o.positionAt(p),f;if(a){let g=d.substring(p+r.length).indexOf(a);if(g!==-1){let b=p+r.length+g+a.length;f=o.positionAt(b),s&&(f=new Je.Position(f.line,Number.MAX_SAFE_INTEGER)),c.selection=new Je.Selection(m,f),c.revealRange(new Je.Range(m,f),Je.TextEditorRevealType.InCenter),h.message=`Opened file and selected text from "${r}" to "${a}"`}else c.selection=new Je.Selection(m,m),c.revealRange(new Je.Range(m,m),Je.TextEditorRevealType.InCenter),h.message=`Opened file and positioned at "${r}" (end text "${a}" not found)`}else f=o.positionAt(p+r.length),c.selection=new Je.Selection(m,f),c.revealRange(new Je.Range(m,f),Je.TextEditorRevealType.InCenter),h.message=`Opened file and selected text "${r}"`}else h.message=`Opened file, but text "${r}" not found`;return{content:[{type:"text",text:h.message}]}}let u={success:!0,filePath:n.fsPath,fileUrl:o.uri.toString(),message:`Opened file: ${n.fsPath}`};return i||(u.languageId=o.languageId,u.lineCount=o.lineCount,u.isDirty=o.isDirty,u.isUntitled=o.isUntitled,u.isClosed=o.isClosed),{content:[{type:"text",text:i?u.message:JSON.stringify(u,null,2)}]}}catch{throw new Error(`File not found: ${n.fsPath}`)}}catch(n){throw console.error("Error opening file through MCP:",n),n}}async function A4(){try{let t=Je.window.activeTextEditor,e=[];for(let a of Je.window.tabGroups.all)for(let s of a.tabs)if(s.input instanceof Je.TabInputText){let i=s.input.uri,n=Je.workspace.textDocuments.find(l=>l.uri.toString()===i.toString()),o={uri:i.toString(),isActive:s.isActive,isPinned:s.isPinned,isPreview:s.isPreview,isDirty:s.isDirty,label:s.label,groupIndex:a.viewColumn?a.viewColumn-1:0,viewColumn:a.viewColumn,isGroupActive:a.isActive};n&&(o.fileName=n.fileName,o.languageId=n.languageId,o.lineCount=n.lineCount,o.isUntitled=n.isUntitled,t&&t.document.uri.toString()===i.toString()&&(o.selection={start:{line:t.selection.start.line,character:t.selection.start.character},end:{line:t.selection.end.line,character:t.selection.end.character},isReversed:t.selection.isReversed})),e.push(o)}return{content:[{type:"text",text:JSON.stringify({tabs:e},null,2)}]}}catch(t){throw console.error("Error getting open editors through MCP:",t),t}}async function k4(){try{let t=Je.window.activeTextEditor;if(!t)return{content:[{type:"text",text:JSON.stringify({success:!1,message:"No active editor found"},null,2)}]};let e=t.selection,r=t.document,a=r.getText(e),s=r.uri.fsPath;return{content:[{type:"text",text:JSON.stringify({success:!0,text:a,filePath:s,fileUrl:r.uri.toString(),selection:{start:{line:e.start.line,character:e.start.character},end:{line:e.end.line,character:e.end.character},isEmpty:e.isEmpty}},null,2)}]}}catch(t){throw console.error("Error getting current selection through MCP:",t),t}}async function D4(){try{let e=(Je.workspace.workspaceFolders||[]).map(r=>({name:r.name,uri:r.uri.toString(),path:r.uri.fsPath,index:r.index}));return{content:[{type:"text",text:JSON.stringify({success:!0,folders:e,rootPath:Je.workspace.rootPath||null,workspaceFile:Je.workspace.workspaceFile?.toString()||null},null,2)}]}}catch(t){throw console.error("Error getting workspace folders through MCP:",t),t}}async function j4({filePath:t}){try{if(!t)throw new Error("File path is required");let e;if(!Ii.isAbsolute(t)&&Je.workspace.workspaceFolders&&Je.workspace.workspaceFolders.length>0){let a=Je.workspace.workspaceFolders[0].uri.fsPath,s=Ii.join(a,t);e=Je.Uri.file(s),console.log(`Converted relative path '${t}' to absolute: '${s}'`)}else e=Je.Uri.file(t);let r=Je.workspace.textDocuments.find(a=>a.uri.toString()===e.toString());return r?{content:[{type:"text",text:JSON.stringify({success:!0,filePath:e.fsPath,isDirty:r.isDirty,isUntitled:r.isUntitled},null,2)}]}:{content:[{type:"text",text:JSON.stringify({success:!1,message:`Document not open: ${e.fsPath}`},null,2)}]}}catch(e){throw console.error("Error checking document dirty state through MCP:",e),e}}async function N4({filePath:t}){try{if(!t)throw new Error("File path is required");let e;if(!Ii.isAbsolute(t)&&Je.workspace.workspaceFolders&&Je.workspace.workspaceFolders.length>0){let s=Je.workspace.workspaceFolders[0].uri.fsPath,i=Ii.join(s,t);e=Je.Uri.file(i),console.log(`Converted relative path '${t}' to absolute: '${i}'`)}else e=Je.Uri.file(t);let r=Je.workspace.textDocuments.find(s=>s.uri.toString()===e.toString());if(!r)return{content:[{type:"text",text:JSON.stringify({success:!1,message:`Document not open: ${e.fsPath}`},null,2)}]};let a=await r.save();return{content:[{type:"text",text:JSON.stringify({success:!0,filePath:e.fsPath,saved:a,message:a?"Document saved successfully":"Document was not dirty or save failed"},null,2)}]}}catch(e){throw console.error("Error saving document through MCP:",e),e}}});var hP=j(Va=>{"use strict";var $4=Va&&Va.__createBinding||(Object.create?function(t,e,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,a,s)}:function(t,e,r,a){a===void 0&&(a=r),t[a]=e[r]}),L4=Va&&Va.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),F4=Va&&Va.__importStar||function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var a=t(e),s=0;s<a.length;s++)a[s]!=="default"&&$4(r,e,a[s]);return L4(r,e),r}}();Object.defineProperty(Va,"__esModule",{value:!0});Va.handleExecuteCode=q4;var Br=F4(require("vscode")),wh;async function M4(){if(!wh){let t=Br.extensions.getExtension("ms-toolsai.jupyter");if(!t)throw new Error("Jupyter extension not installed");wh=Promise.resolve(t.activate())}return wh}function Ai(t,e){return t.error(e),{content:[{type:"text",text:e}]}}async function q4(t,e){let r=Br.window.activeNotebookEditor;if(!r)return Ai(t,"No active notebook editor found.");let a;try{a=await M4()}catch{return Ai(t,"Unable to request Jupyter extension API. It is either not installed or not activated.")}let s=await a.kernels.getKernel(r.notebook.uri);if(!s)return Ai(t,"No kernel found for the active notebook. Please connect to a kernel.");if(s.language!=="python")return Ai(t,`Kernel language is ${s?.language}, not python.`);let i={content:[]};try{t.info(`Executing ${e}`);let n=new TextDecoder,o=await z4(e,r.notebook),l=r.notebook.getCells().find(d=>d.metadata.id===o);if(!l)return Ai(t,"No cell found in the notebook.");let c=r.notebook.getCells().indexOf(l);if(r.revealRange(new Br.NotebookRange(c,c+1),Br.NotebookEditorRevealType.InCenter),!await U4(t))return Ai(t,"Code execution cancelled by user. Ask the user how they would like to proceed.");await Br.commands.executeCommand("notebook.cell.execute",{ranges:[{start:c,end:c+1}],document:r.notebook.uri});for(let d of l.outputs)for(let h of d.items)if(h.mime===B4){let p=JSON.parse(n.decode(h.data));t.appendLine(`Error executing code ${p.name}: ${p.message},/n ${p.stack}`),i.content.push({type:"text",text:`Error: ${p.name}: ${p.message},/n ${p.stack}`})}else if(h.mime===Z4){let p=Buffer.from(h.data).toString("base64");i.content.push({type:"image",data:p,mimeType:h.mime})}else i.content.push({type:"text",text:n.decode(h.data)});t.info("Code execution completed")}catch(n){t.error(`Code execution failed with an error '${n}'`)}return i}async function U4(t){return(await Br.window.showQuickPick([{label:"Execute",description:"Run the code in the notebook"},{label:"Cancel",description:"Do not execute the code"}],{title:"Claude Code Execution",placeHolder:"Choose whether to execute the code"}))?.label==="Execute"}async function z4(t,e){let r=new Br.NotebookCellData(Br.NotebookCellKind.Code,t,"python"),a=Math.random().toString(36).substring(2,15);r.metadata={id:a};let s=e.getCells().length,i=Br.NotebookEdit.insertCells(s,[r]),n=new Br.WorkspaceEdit;return n.set(e.uri,[i]),await Br.workspace.applyEdit(n),a}var B4=Br.NotebookCellOutputItem.error(new Error("")).mime,Z4="image/png"});var xP=j(cr=>{"use strict";var V4=cr&&cr.__createBinding||(Object.create?function(t,e,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,a,s)}:function(t,e,r,a){a===void 0&&(a=r),t[a]=e[r]}),H4=cr&&cr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Wo=cr&&cr.__importStar||function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var a=t(e),s=0;s<a.length;s++)a[s]!=="default"&&V4(r,e,a[s]);return H4(r,e),r}}();Object.defineProperty(cr,"__esModule",{value:!0});cr.getRandomPort=gP;cr.ensureLockFileDirectory=Eh;cr.createLockFile=K4;cr.deleteLockFile=J4;cr.isPortAvailable=yP;cr.findAvailablePort=Q4;var vP=Wo(require("vscode")),ki=Wo(require("fs")),Sh=Wo(require("path")),G4=Wo(require("os")),W4=Wo(require("http"));function gP(){return Math.floor(Math.random()*55536)+1e4}function Eh(){let t=Sh.join(G4.homedir(),".claude","ide");return ki.existsSync(t)||ki.mkdirSync(t,{recursive:!0}),t}function K4(t,e){let r=Eh(),a=Sh.join(r,`${t}.lock`),s=ki.existsSync(a),i=vP.workspace.workspaceFolders?.map(o=>o.uri.fsPath)||[],n={pid:process.ppid,workspaceFolders:i,ideName:vP.env.appName,transport:"ws",runningInWindows:process.platform==="win32",authToken:e};return ki.writeFileSync(a,JSON.stringify(n)),s&&console.log(`Updated lock file with new workspace folders: ${a}`),a}function J4(t){let e=Eh(),r=Sh.join(e,`${t}.lock`);if(ki.existsSync(r))try{ki.unlinkSync(r)}catch(a){console.error(`Failed to delete lock file ${r}:`,a)}}function yP(t){return new Promise(e=>{let r=W4.createServer();r.once("error",()=>{e(!1)}),r.once("listening",()=>{r.close(),e(!0)}),r.listen(t)})}async function Q4(){for(let t=0;t<50;t++){let e=gP();if(await yP(e))return e}throw new Error("Failed to find an available port after multiple attempts")}});var bP=j(wr=>{"use strict";var Y4=wr&&wr.__createBinding||(Object.create?function(t,e,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,a,s)}:function(t,e,r,a){a===void 0&&(a=r),t[a]=e[r]}),X4=wr&&wr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),eB=wr&&wr.__importStar||function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var a=t(e),s=0;s<a.length;s++)a[s]!=="default"&&Y4(r,e,a[s]);return X4(r,e),r}}();Object.defineProperty(wr,"__esModule",{value:!0});wr.findRunningClaudeProcesses=tB;wr.getProcessTree=rB;wr.getDirectChildren=aB;wr.getProcessCommand=sB;wr.isShellCommand=nB;var Ha=eB(require("node:child_process"));async function tB(){return new Promise(async t=>{try{let e=process.platform==="win32"?Ha.spawn("powershell.exe",["-NoProfile","-Command",`Get-CimInstance Win32_Process | Where-Object { $_.CommandLine -match '(node.*bin/claude|/claude|\\bclaude)(\\$| )' -and $_.CommandLine -notmatch 'grep' } | ForEach-Object { "$($_.ProcessId) $($_.ParentProcessId)" }`]):Ha.spawn("bash",["-c",'ps -eo pid,ppid,command | grep -E "(node.*bin/claude|/claude|\\bclaude)($| )" | grep -v "grep" || echo "no_claude_found"']),r="";e.stdout.on("data",a=>{r+=a.toString()}),e.on("close",()=>{if(r.includes("no_claude_found")||r.trim()===""){console.log("No Claude processes found running"),t([]);return}let a=[];process.platform==="win32"?a=r.trim().split(/\r?\n/).filter(s=>s.trim()).map(s=>{let i=s.trim().split(/\s+/);return{pid:i[0],ppid:i[1]}}):a=r.trim().split(/\r?\n/).map(s=>{let i=s.trim().split(/\s+/);return{pid:i[0],ppid:i[1]}}),console.log(`Found ${a.length} Claude processes running`),t(a)}),e.on("error",a=>{console.error(`Error checking for Claude processes: ${a}`),t([])})}catch(e){console.error(`Error in process check: ${e}`),t([])}})}async function rB(t){let e="",r=process.platform==="win32"?Ha.spawn("powershell.exe",["-NoProfile","-Command",`$p=${t};while($p -gt 0){$p;$p=(Get-CimInstance Win32_Process -Filter "ProcessId=$p").ParentProcessId}`]):Ha.spawn("bash",["-c",`pid=${t}; while [ "$pid" -ne 0 ]; do echo $pid; pid=$(ps -o ppid= -p $pid 2>/dev/null | tr -d ' '); [ -z "$pid" ] && break; done`]);return r.stdout.on("data",a=>{e+=a.toString()}),new Promise(a=>{r.on("close",()=>{let s=e.trim().split(/\r?\n/).map(i=>i.trim()).filter(i=>i.length>0);a(s)}),r.on("error",s=>{console.error(`Error getting process tree: ${s}`),a([])})})}async function aB(t){return new Promise(async e=>{try{let r=process.platform==="win32"?Ha.spawn("powershell.exe",["-NoProfile","-Command",`(Get-CimInstance Win32_Process -Filter "ParentProcessId=${t}").ProcessId`]):process.platform==="darwin"?Ha.spawn("bash",["-c",`ps -eo pid,ppid | awk '$2 == ${t} {print $1}'`]):Ha.spawn("bash",["-c",`ps -o pid= --ppid ${t}`]),a="";r.stdout.on("data",s=>{a+=s.toString()}),r.on("close",()=>{let s=a.trim().split(/\r?\n/).map(i=>i.trim()).filter(i=>i.length>0);e(s)}),r.on("error",s=>{console.error(`Error finding children: ${s}`),e([])})}catch(r){console.error(`Error checking for child processes: ${r}`),e([])}})}async function sB(t){return new Promise(e=>{try{let r=process.platform==="win32"?Ha.spawn("powershell.exe",["-NoProfile","-Command",`(Get-CimInstance Win32_Process -Filter "ProcessId=${t}").CommandLine`]):Ha.spawn("bash",["-c",`ps -p ${t} -o command=`]),a="";r.stdout.on("data",s=>{a+=s.toString()}),r.on("close",()=>{e(a.trim())}),r.on("error",s=>{console.error(`Error getting process command: ${s}`),e("")})}catch(r){console.error(`Error checking process command: ${r}`),e("")}})}function nB(t){return t.includes("bash")||t.includes("sh")||t.includes("zsh")||t.includes("cmd.exe")||t.includes("powershell")}});var Ko=j(wa=>{"use strict";var iB=wa&&wa.__createBinding||(Object.create?function(t,e,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,a,s)}:function(t,e,r,a){a===void 0&&(a=r),t[a]=e[r]}),oB=wa&&wa.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),cB=wa&&wa.__importStar||function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var a=t(e),s=0;s<a.length;s++)a[s]!=="default"&&iB(r,e,a[s]);return oB(r,e),r}}();Object.defineProperty(wa,"__esModule",{value:!0});wa.isClaudeRunningInTerminal=uB;wa.focusTerminal=dB;var lB=cB(require("vscode")),Pn=bP();async function uB(t,e){let r={claudeRunning:!1,terminalProcessTree:[],runningClaudeProcesses:[],isChildOfThisTerminal:!1};try{let a=await e.processId;if(!a)return t.info("Could not get terminal process ID"),r;r.runningClaudeProcesses=await(0,Pn.findRunningClaudeProcesses)();let s=r.runningClaudeProcesses.length>0;r.terminalProcessTree=await(0,Pn.getProcessTree)(a);let i=await(0,Pn.getDirectChildren)(a);for(let n of r.runningClaudeProcesses){if(n.ppid===a.toString()){r.isChildOfThisTerminal=!0;break}if(i.includes(n.ppid)){r.isChildOfThisTerminal=!0;break}let o=n.ppid;if(o===a.toString()){r.isChildOfThisTerminal=!0;break}if(a.toString()===o){r.isChildOfThisTerminal=!0;break}try{let l=await(0,Pn.getProcessCommand)(o);if((0,Pn.isShellCommand)(l)&&e.name!=="Claude Code")if(a.toString()===o)r.isChildOfThisTerminal=!0;else{let c=await(0,Pn.getProcessCommand)(a.toString());(0,Pn.isShellCommand)(c)&&e.name!=="Claude Code"&&(r.isChildOfThisTerminal=!0)}}catch(l){t.error(`Error checking Claude's parent process: ${l}`)}if(r.isChildOfThisTerminal)break}return!r.isChildOfThisTerminal&&e.name==="Claude Code"?(r.claudeRunning=!1,r):(s&&r.isChildOfThisTerminal?r.claudeRunning=!0:r.claudeRunning=!1,r)}catch(a){return t.error("Error checking if Claude is running:",a),r}}function dB(){try{let t=lB.window.activeTerminal;t&&t.show()}catch(t){console.error("Error focusing terminal:",t)}}});var wP=j(sa=>{"use strict";var pB=sa&&sa.__createBinding||(Object.create?function(t,e,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,a,s)}:function(t,e,r,a){a===void 0&&(a=r),t[a]=e[r]}),fB=sa&&sa.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),_P=sa&&sa.__importStar||function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var a=t(e),s=0;s<a.length;s++)a[s]!=="default"&&pB(r,e,a[s]);return fB(r,e),r}}();Object.defineProperty(sa,"__esModule",{value:!0});sa.openDiff=gB;sa.listAllOpenTabs=Jo;sa.waitFor=Ph;var Qt=_P(require("vscode")),mB=_P(require("fs")),hB=Ko(),vB=Ju(),Rs;async function gB(t,e,r,a,s,i,n,o,l){t.info("diff from",a,"to",s,"as",n);let c=Qt.Uri.file(a);try{if((await Qt.workspace.openTextDocument(c)).isDirty){let A=mB.readFileSync(a,"utf8");c=e.createFile(a,A).uri}}catch{t.info("leftTempFileProvider.createFile",a),c=e.createFile(a,"").uri}let d=r.createFile(s,i).uri,h=await Qt.workspace.openTextDocument(d),p=k=>k.input instanceof Qt.TabInputTextDiff&&k.input.modified.toString()===d.toString();await(0,vB.closeAllDiffTabs)(t)>0&&await new Promise(k=>setTimeout(k,200));let f={preview:!1},v=i,g=i,b;Qt.workspace.onDidChangeTextDocument(k=>{k.document.uri.toString()===d.toString()&&(v=g,g=k.document.getText(),k.contentChanges.length>3&&k.reason!==Qt.TextDocumentChangeReason.Undo&&k.reason!==Qt.TextDocumentChangeReason.Redo&&(b={time:Date.now(),contents:v}))});let w=new Promise(k=>{l.push(Qt.workspace.onWillSaveTextDocument(A=>{if(A.document.uri.toString()===d.toString()){let D=A.document.getText();b&&Date.now()-b.time<500&&(D=b.contents),k(D)}}))}),C=!0;Rs&&(Rs.dispose(),Rs=void 0);try{Rs=Qt.commands.registerCommand("type",k=>{if(!(C&&Qt.window.activeTextEditor?.document.uri.toString()===d.toString()))return Qt.commands.executeCommand("default:type",k)}),setTimeout(()=>{C=!1,Rs&&(Rs.dispose(),Rs=void 0)},1e3),l.push(Rs)}catch(k){t.warn("Could not register type command interceptor:",k)}let T=Jo(),R=await Qt.commands.executeCommand("vscode.diff",c,d,n,f);t.info("diff result",R,n,c,d,f);try{await Ph(()=>Jo().some(k=>k.label===n),1e3)}catch(k){let A=Jo().filter(D=>!T.some($=>$.label===D.label)).map(D=>({label:D.label,isDiff:D.isDiff}));throw t.error(`Failed to open diff tab, possibly new tabs: ${JSON.stringify(A)}`),k}(0,hB.focusTerminal)();let O=new Promise(k=>{l.push(o(A=>{A.activeTab&&p(A.activeTab)&&k(A)}))}).then(k=>k.accepted?(t.info("diff_accepted",n),{content:[{type:"text",text:"FILE_SAVED"},{type:"text",text:h.getText()}]}):{content:[{type:"text",text:"DIFF_REJECTED"},{type:"text",text:n}]}),L=Ph(()=>!Jo().some(k=>k.label===n)).then(()=>(t.info("tab_closed",n),{content:[{type:"text",text:"DIFF_REJECTED"},{type:"text",text:n}]})),N=w.then(async k=>(t.info("file_saved",n),{content:[{type:"text",text:"FILE_SAVED"},{type:"text",text:k}]})),q=[L,O];return Qt.workspace.getConfiguration("files").get("autoSave")==="off"&&q.push(N),await Promise.race(q)}function Jo(){return Qt.window.tabGroups.all.flatMap(t=>t.tabs.map(e=>({tab:e,label:e.label,isDiff:e.input instanceof Qt.TabInputTextDiff,viewColumn:t.viewColumn,isActive:e.isActive})))}function Ph(t,e){return new Promise((r,a)=>{let s,i=setInterval(()=>{t()&&(clearInterval(i),s&&clearTimeout(s),r())},100);e&&(s=setTimeout(()=>{clearInterval(i),a(new Error(`Timeout waiting after ${e}ms`))},e))})}});var SP=j(Qu=>{"use strict";Object.defineProperty(Qu,"__esModule",{value:!0});Qu.setTerminalEnvironmentVariable=yB;Qu.getTerminalEnvironmentVariable=xB;async function yB(t,e,r){t.environmentVariableCollection.replace(e,r),console.log(`Set ${e}=${r} in terminal environment (in-memory)`)}function xB(t,e){return t.environmentVariableCollection.get(e)?.value}});var Ga=j((VQ,RP)=>{"use strict";var EP=["nodebuffer","arraybuffer","fragments"],PP=typeof Blob<"u";PP&&EP.push("blob");RP.exports={BINARY_TYPES:EP,EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",hasBlob:PP,kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}});var Qo=j((HQ,Yu)=>{"use strict";var{EMPTY_BUFFER:bB}=Ga(),Rh=Buffer[Symbol.species];function _B(t,e){if(t.length===0)return bB;if(t.length===1)return t[0];let r=Buffer.allocUnsafe(e),a=0;for(let s=0;s<t.length;s++){let i=t[s];r.set(i,a),a+=i.length}return a<e?new Rh(r.buffer,r.byteOffset,a):r}function CP(t,e,r,a,s){for(let i=0;i<s;i++)r[a+i]=t[i]^e[i&3]}function TP(t,e){for(let r=0;r<t.length;r++)t[r]^=e[r&3]}function wB(t){return t.length===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.length)}function Ch(t){if(Ch.readOnly=!0,Buffer.isBuffer(t))return t;let e;return t instanceof ArrayBuffer?e=new Rh(t):ArrayBuffer.isView(t)?e=new Rh(t.buffer,t.byteOffset,t.byteLength):(e=Buffer.from(t),Ch.readOnly=!1),e}Yu.exports={concat:_B,mask:CP,toArrayBuffer:wB,toBuffer:Ch,unmask:TP};if(!process.env.WS_NO_BUFFER_UTIL)try{let t=require("bufferutil");Yu.exports.mask=function(e,r,a,s,i){i<48?CP(e,r,a,s,i):t.mask(e,r,a,s,i)},Yu.exports.unmask=function(e,r){e.length<32?TP(e,r):t.unmask(e,r)}}catch{}});var AP=j((GQ,IP)=>{"use strict";var OP=Symbol("kDone"),Th=Symbol("kRun"),Oh=class{constructor(e){this[OP]=()=>{this.pending--,this[Th]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[Th]()}[Th](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[OP])}}};IP.exports=Oh});var Xo=j((WQ,NP)=>{"use strict";var Yo=require("zlib"),kP=Qo(),SB=AP(),{kStatusCode:DP}=Ga(),EB=Buffer[Symbol.species],PB=Buffer.from([0,0,255,255]),ed=Symbol("permessage-deflate"),Wa=Symbol("total-length"),Di=Symbol("callback"),Cs=Symbol("buffers"),ji=Symbol("error"),Xu,Ih=class{constructor(e,r,a){if(this._maxPayload=a|0,this._options=e||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!r,this._deflate=null,this._inflate=null,this.params=null,!Xu){let s=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;Xu=new SB(s)}}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[Di];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let r=this._options,a=e.find(s=>!(r.serverNoContextTakeover===!1&&s.server_no_context_takeover||s.server_max_window_bits&&(r.serverMaxWindowBits===!1||typeof r.serverMaxWindowBits=="number"&&r.serverMaxWindowBits>s.server_max_window_bits)||typeof r.clientMaxWindowBits=="number"&&!s.client_max_window_bits));if(!a)throw new Error("None of the extension offers can be accepted");return r.serverNoContextTakeover&&(a.server_no_context_takeover=!0),r.clientNoContextTakeover&&(a.client_no_context_takeover=!0),typeof r.serverMaxWindowBits=="number"&&(a.server_max_window_bits=r.serverMaxWindowBits),typeof r.clientMaxWindowBits=="number"?a.client_max_window_bits=r.clientMaxWindowBits:(a.client_max_window_bits===!0||r.clientMaxWindowBits===!1)&&delete a.client_max_window_bits,a}acceptAsClient(e){let r=e[0];if(this._options.clientNoContextTakeover===!1&&r.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!r.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(r.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&r.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return r}normalizeParams(e){return e.forEach(r=>{Object.keys(r).forEach(a=>{let s=r[a];if(s.length>1)throw new Error(`Parameter "${a}" must have only a single value`);if(s=s[0],a==="client_max_window_bits"){if(s!==!0){let i=+s;if(!Number.isInteger(i)||i<8||i>15)throw new TypeError(`Invalid value for parameter "${a}": ${s}`);s=i}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${a}": ${s}`)}else if(a==="server_max_window_bits"){let i=+s;if(!Number.isInteger(i)||i<8||i>15)throw new TypeError(`Invalid value for parameter "${a}": ${s}`);s=i}else if(a==="client_no_context_takeover"||a==="server_no_context_takeover"){if(s!==!0)throw new TypeError(`Invalid value for parameter "${a}": ${s}`)}else throw new Error(`Unknown parameter "${a}"`);r[a]=s})}),e}decompress(e,r,a){Xu.add(s=>{this._decompress(e,r,(i,n)=>{s(),a(i,n)})})}compress(e,r,a){Xu.add(s=>{this._compress(e,r,(i,n)=>{s(),a(i,n)})})}_decompress(e,r,a){let s=this._isServer?"client":"server";if(!this._inflate){let i=`${s}_max_window_bits`,n=typeof this.params[i]!="number"?Yo.Z_DEFAULT_WINDOWBITS:this.params[i];this._inflate=Yo.createInflateRaw({...this._options.zlibInflateOptions,windowBits:n}),this._inflate[ed]=this,this._inflate[Wa]=0,this._inflate[Cs]=[],this._inflate.on("error",CB),this._inflate.on("data",jP)}this._inflate[Di]=a,this._inflate.write(e),r&&this._inflate.write(PB),this._inflate.flush(()=>{let i=this._inflate[ji];if(i){this._inflate.close(),this._inflate=null,a(i);return}let n=kP.concat(this._inflate[Cs],this._inflate[Wa]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[Wa]=0,this._inflate[Cs]=[],r&&this.params[`${s}_no_context_takeover`]&&this._inflate.reset()),a(null,n)})}_compress(e,r,a){let s=this._isServer?"server":"client";if(!this._deflate){let i=`${s}_max_window_bits`,n=typeof this.params[i]!="number"?Yo.Z_DEFAULT_WINDOWBITS:this.params[i];this._deflate=Yo.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:n}),this._deflate[Wa]=0,this._deflate[Cs]=[],this._deflate.on("data",RB)}this._deflate[Di]=a,this._deflate.write(e),this._deflate.flush(Yo.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let i=kP.concat(this._deflate[Cs],this._deflate[Wa]);r&&(i=new EB(i.buffer,i.byteOffset,i.length-4)),this._deflate[Di]=null,this._deflate[Wa]=0,this._deflate[Cs]=[],r&&this.params[`${s}_no_context_takeover`]&&this._deflate.reset(),a(null,i)})}};NP.exports=Ih;function RB(t){this[Cs].push(t),this[Wa]+=t.length}function jP(t){if(this[Wa]+=t.length,this[ed]._maxPayload<1||this[Wa]<=this[ed]._maxPayload){this[Cs].push(t);return}this[ji]=new RangeError("Max payload size exceeded"),this[ji].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[ji][DP]=1009,this.removeListener("data",jP),this.reset()}function CB(t){if(this[ed]._inflate=null,this[ji]){this[Di](this[ji]);return}t[DP]=1007,this[Di](t)}});var Ni=j((KQ,td)=>{"use strict";var{isUtf8:$P}=require("buffer"),{hasBlob:TB}=Ga(),OB=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function IB(t){return t>=1e3&&t<=1014&&t!==1004&&t!==1005&&t!==1006||t>=3e3&&t<=4999}function Ah(t){let e=t.length,r=0;for(;r<e;)if((t[r]&128)===0)r++;else if((t[r]&224)===192){if(r+1===e||(t[r+1]&192)!==128||(t[r]&254)===192)return!1;r+=2}else if((t[r]&240)===224){if(r+2>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||t[r]===224&&(t[r+1]&224)===128||t[r]===237&&(t[r+1]&224)===160)return!1;r+=3}else if((t[r]&248)===240){if(r+3>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||(t[r+3]&192)!==128||t[r]===240&&(t[r+1]&240)===128||t[r]===244&&t[r+1]>143||t[r]>244)return!1;r+=4}else return!1;return!0}function AB(t){return TB&&typeof t=="object"&&typeof t.arrayBuffer=="function"&&typeof t.type=="string"&&typeof t.stream=="function"&&(t[Symbol.toStringTag]==="Blob"||t[Symbol.toStringTag]==="File")}td.exports={isBlob:AB,isValidStatusCode:IB,isValidUTF8:Ah,tokenChars:OB};if($P)td.exports.isValidUTF8=function(t){return t.length<24?Ah(t):$P(t)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let t=require("utf-8-validate");td.exports.isValidUTF8=function(e){return e.length<32?Ah(e):t(e)}}catch{}});var $h=j((JQ,BP)=>{"use strict";var{Writable:kB}=require("stream"),LP=Xo(),{BINARY_TYPES:DB,EMPTY_BUFFER:FP,kStatusCode:jB,kWebSocket:NB}=Ga(),{concat:kh,toArrayBuffer:$B,unmask:LB}=Qo(),{isValidStatusCode:FB,isValidUTF8:MP}=Ni(),rd=Buffer[Symbol.species],Zr=0,qP=1,UP=2,zP=3,Dh=4,jh=5,ad=6,Nh=class extends kB{constructor(e={}){super(),this._allowSynchronousEvents=e.allowSynchronousEvents!==void 0?e.allowSynchronousEvents:!0,this._binaryType=e.binaryType||DB[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=e.maxPayload|0,this._skipUTF8Validation=!!e.skipUTF8Validation,this[NB]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=Zr}_write(e,r,a){if(this._opcode===8&&this._state==Zr)return a();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(a)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let a=this._buffers[0];return this._buffers[0]=new rd(a.buffer,a.byteOffset+e,a.length-e),new rd(a.buffer,a.byteOffset,e)}let r=Buffer.allocUnsafe(e);do{let a=this._buffers[0],s=r.length-e;e>=a.length?r.set(this._buffers.shift(),s):(r.set(new Uint8Array(a.buffer,a.byteOffset,e),s),this._buffers[0]=new rd(a.buffer,a.byteOffset+e,a.length-e)),e-=a.length}while(e>0);return r}startLoop(e){this._loop=!0;do switch(this._state){case Zr:this.getInfo(e);break;case qP:this.getPayloadLength16(e);break;case UP:this.getPayloadLength64(e);break;case zP:this.getMask();break;case Dh:this.getData(e);break;case jh:case ad:this._loop=!1;return}while(this._loop);this._errored||e()}getInfo(e){if(this._bufferedBytes<2){this._loop=!1;return}let r=this.consume(2);if((r[0]&48)!==0){let s=this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");e(s);return}let a=(r[0]&64)===64;if(a&&!this._extensions[LP.extensionName]){let s=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(s);return}if(this._fin=(r[0]&128)===128,this._opcode=r[0]&15,this._payloadLength=r[1]&127,this._opcode===0){if(a){let s=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(s);return}if(!this._fragmented){let s=this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");e(s);return}this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented){let s=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");e(s);return}this._compressed=a}else if(this._opcode>7&&this._opcode<11){if(!this._fin){let s=this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");e(s);return}if(a){let s=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(s);return}if(this._payloadLength>125||this._opcode===8&&this._payloadLength===1){let s=this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");e(s);return}}else{let s=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");e(s);return}if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(r[1]&128)===128,this._isServer){if(!this._masked){let s=this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK");e(s);return}}else if(this._masked){let s=this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");e(s);return}this._payloadLength===126?this._state=qP:this._payloadLength===127?this._state=UP:this.haveLength(e)}getPayloadLength16(e){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(e)}getPayloadLength64(e){if(this._bufferedBytes<8){this._loop=!1;return}let r=this.consume(8),a=r.readUInt32BE(0);if(a>Math.pow(2,21)-1){let s=this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH");e(s);return}this._payloadLength=a*Math.pow(2,32)+r.readUInt32BE(4),this.haveLength(e)}haveLength(e){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)){let r=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");e(r);return}this._masked?this._state=zP:this._state=Dh}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=Dh}getData(e){let r=FP;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}r=this.consume(this._payloadLength),this._masked&&(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])!==0&&LB(r,this._mask)}if(this._opcode>7){this.controlMessage(r,e);return}if(this._compressed){this._state=jh,this.decompress(r,e);return}r.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(r)),this.dataMessage(e)}decompress(e,r){this._extensions[LP.extensionName].decompress(e,this._fin,(s,i)=>{if(s)return r(s);if(i.length){if(this._messageLength+=i.length,this._messageLength>this._maxPayload&&this._maxPayload>0){let n=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");r(n);return}this._fragments.push(i)}this.dataMessage(r),this._state===Zr&&this.startLoop(r)})}dataMessage(e){if(!this._fin){this._state=Zr;return}let r=this._messageLength,a=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let s;this._binaryType==="nodebuffer"?s=kh(a,r):this._binaryType==="arraybuffer"?s=$B(kh(a,r)):this._binaryType==="blob"?s=new Blob(a):s=a,this._allowSynchronousEvents?(this.emit("message",s,!0),this._state=Zr):(this._state=ad,setImmediate(()=>{this.emit("message",s,!0),this._state=Zr,this.startLoop(e)}))}else{let s=kh(a,r);if(!this._skipUTF8Validation&&!MP(s)){let i=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");e(i);return}this._state===jh||this._allowSynchronousEvents?(this.emit("message",s,!1),this._state=Zr):(this._state=ad,setImmediate(()=>{this.emit("message",s,!1),this._state=Zr,this.startLoop(e)}))}}controlMessage(e,r){if(this._opcode===8){if(e.length===0)this._loop=!1,this.emit("conclude",1005,FP),this.end();else{let a=e.readUInt16BE(0);if(!FB(a)){let i=this.createError(RangeError,`invalid status code ${a}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");r(i);return}let s=new rd(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!MP(s)){let i=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");r(i);return}this._loop=!1,this.emit("conclude",a,s),this.end()}this._state=Zr;return}this._allowSynchronousEvents?(this.emit(this._opcode===9?"ping":"pong",e),this._state=Zr):(this._state=ad,setImmediate(()=>{this.emit(this._opcode===9?"ping":"pong",e),this._state=Zr,this.startLoop(r)}))}createError(e,r,a,s,i){this._loop=!1,this._errored=!0;let n=new e(a?`Invalid WebSocket frame: ${r}`:r);return Error.captureStackTrace(n,this.createError),n.code=i,n[jB]=s,n}};BP.exports=Nh});var Mh=j((YQ,HP)=>{"use strict";var{Duplex:QQ}=require("stream"),{randomFillSync:MB}=require("crypto"),ZP=Xo(),{EMPTY_BUFFER:qB,kWebSocket:UB,NOOP:zB}=Ga(),{isBlob:$i,isValidStatusCode:BB}=Ni(),{mask:VP,toBuffer:Rn}=Qo(),Vr=Symbol("kByteLength"),ZB=Buffer.alloc(4),sd=8*1024,Cn,Li=sd,na=0,VB=1,HB=2,Lh=class t{constructor(e,r,a){this._extensions=r||{},a&&(this._generateMask=a,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._queue=[],this._state=na,this.onerror=zB,this[UB]=void 0}static frame(e,r){let a,s=!1,i=2,n=!1;r.mask&&(a=r.maskBuffer||ZB,r.generateMask?r.generateMask(a):(Li===sd&&(Cn===void 0&&(Cn=Buffer.alloc(sd)),MB(Cn,0,sd),Li=0),a[0]=Cn[Li++],a[1]=Cn[Li++],a[2]=Cn[Li++],a[3]=Cn[Li++]),n=(a[0]|a[1]|a[2]|a[3])===0,i=6);let o;typeof e=="string"?(!r.mask||n)&&r[Vr]!==void 0?o=r[Vr]:(e=Buffer.from(e),o=e.length):(o=e.length,s=r.mask&&r.readOnly&&!n);let l=o;o>=65536?(i+=8,l=127):o>125&&(i+=2,l=126);let c=Buffer.allocUnsafe(s?o+i:i);return c[0]=r.fin?r.opcode|128:r.opcode,r.rsv1&&(c[0]|=64),c[1]=l,l===126?c.writeUInt16BE(o,2):l===127&&(c[2]=c[3]=0,c.writeUIntBE(o,4,6)),r.mask?(c[1]|=128,c[i-4]=a[0],c[i-3]=a[1],c[i-2]=a[2],c[i-1]=a[3],n?[c,e]:s?(VP(e,a,c,i,o),[c]):(VP(e,a,e,0,o),[c,e])):[c,e]}close(e,r,a,s){let i;if(e===void 0)i=qB;else{if(typeof e!="number"||!BB(e))throw new TypeError("First argument must be a valid error code number");if(r===void 0||!r.length)i=Buffer.allocUnsafe(2),i.writeUInt16BE(e,0);else{let o=Buffer.byteLength(r);if(o>123)throw new RangeError("The message must not be greater than 123 bytes");i=Buffer.allocUnsafe(2+o),i.writeUInt16BE(e,0),typeof r=="string"?i.write(r,2):i.set(r,2)}}let n={[Vr]:i.length,fin:!0,generateMask:this._generateMask,mask:a,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._state!==na?this.enqueue([this.dispatch,i,!1,n,s]):this.sendFrame(t.frame(i,n),s)}ping(e,r,a){let s,i;if(typeof e=="string"?(s=Buffer.byteLength(e),i=!1):$i(e)?(s=e.size,i=!1):(e=Rn(e),s=e.length,i=Rn.readOnly),s>125)throw new RangeError("The data size must not be greater than 125 bytes");let n={[Vr]:s,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:9,readOnly:i,rsv1:!1};$i(e)?this._state!==na?this.enqueue([this.getBlobData,e,!1,n,a]):this.getBlobData(e,!1,n,a):this._state!==na?this.enqueue([this.dispatch,e,!1,n,a]):this.sendFrame(t.frame(e,n),a)}pong(e,r,a){let s,i;if(typeof e=="string"?(s=Buffer.byteLength(e),i=!1):$i(e)?(s=e.size,i=!1):(e=Rn(e),s=e.length,i=Rn.readOnly),s>125)throw new RangeError("The data size must not be greater than 125 bytes");let n={[Vr]:s,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:10,readOnly:i,rsv1:!1};$i(e)?this._state!==na?this.enqueue([this.getBlobData,e,!1,n,a]):this.getBlobData(e,!1,n,a):this._state!==na?this.enqueue([this.dispatch,e,!1,n,a]):this.sendFrame(t.frame(e,n),a)}send(e,r,a){let s=this._extensions[ZP.extensionName],i=r.binary?2:1,n=r.compress,o,l;typeof e=="string"?(o=Buffer.byteLength(e),l=!1):$i(e)?(o=e.size,l=!1):(e=Rn(e),o=e.length,l=Rn.readOnly),this._firstFragment?(this._firstFragment=!1,n&&s&&s.params[s._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(n=o>=s._threshold),this._compress=n):(n=!1,i=0),r.fin&&(this._firstFragment=!0);let c={[Vr]:o,fin:r.fin,generateMask:this._generateMask,mask:r.mask,maskBuffer:this._maskBuffer,opcode:i,readOnly:l,rsv1:n};$i(e)?this._state!==na?this.enqueue([this.getBlobData,e,this._compress,c,a]):this.getBlobData(e,this._compress,c,a):this._state!==na?this.enqueue([this.dispatch,e,this._compress,c,a]):this.dispatch(e,this._compress,c,a)}getBlobData(e,r,a,s){this._bufferedBytes+=a[Vr],this._state=HB,e.arrayBuffer().then(i=>{if(this._socket.destroyed){let o=new Error("The socket was closed while the blob was being read");process.nextTick(Fh,this,o,s);return}this._bufferedBytes-=a[Vr];let n=Rn(i);r?this.dispatch(n,r,a,s):(this._state=na,this.sendFrame(t.frame(n,a),s),this.dequeue())}).catch(i=>{process.nextTick(GB,this,i,s)})}dispatch(e,r,a,s){if(!r){this.sendFrame(t.frame(e,a),s);return}let i=this._extensions[ZP.extensionName];this._bufferedBytes+=a[Vr],this._state=VB,i.compress(e,a.fin,(n,o)=>{if(this._socket.destroyed){let l=new Error("The socket was closed while data was being compressed");Fh(this,l,s);return}this._bufferedBytes-=a[Vr],this._state=na,a.readOnly=!1,this.sendFrame(t.frame(o,a),s),this.dequeue()})}dequeue(){for(;this._state===na&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][Vr],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][Vr],this._queue.push(e)}sendFrame(e,r){e.length===2?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],r),this._socket.uncork()):this._socket.write(e[0],r)}};HP.exports=Lh;function Fh(t,e,r){typeof r=="function"&&r(e);for(let a=0;a<t._queue.length;a++){let s=t._queue[a],i=s[s.length-1];typeof i=="function"&&i(e)}}function GB(t,e,r){Fh(t,e,r),t.onerror(e)}});var tR=j((XQ,eR)=>{"use strict";var{kForOnEventAttribute:ec,kListener:qh}=Ga(),GP=Symbol("kCode"),WP=Symbol("kData"),KP=Symbol("kError"),JP=Symbol("kMessage"),QP=Symbol("kReason"),Fi=Symbol("kTarget"),YP=Symbol("kType"),XP=Symbol("kWasClean"),Ka=class{constructor(e){this[Fi]=null,this[YP]=e}get target(){return this[Fi]}get type(){return this[YP]}};Object.defineProperty(Ka.prototype,"target",{enumerable:!0});Object.defineProperty(Ka.prototype,"type",{enumerable:!0});var Tn=class extends Ka{constructor(e,r={}){super(e),this[GP]=r.code===void 0?0:r.code,this[QP]=r.reason===void 0?"":r.reason,this[XP]=r.wasClean===void 0?!1:r.wasClean}get code(){return this[GP]}get reason(){return this[QP]}get wasClean(){return this[XP]}};Object.defineProperty(Tn.prototype,"code",{enumerable:!0});Object.defineProperty(Tn.prototype,"reason",{enumerable:!0});Object.defineProperty(Tn.prototype,"wasClean",{enumerable:!0});var Mi=class extends Ka{constructor(e,r={}){super(e),this[KP]=r.error===void 0?null:r.error,this[JP]=r.message===void 0?"":r.message}get error(){return this[KP]}get message(){return this[JP]}};Object.defineProperty(Mi.prototype,"error",{enumerable:!0});Object.defineProperty(Mi.prototype,"message",{enumerable:!0});var tc=class extends Ka{constructor(e,r={}){super(e),this[WP]=r.data===void 0?null:r.data}get data(){return this[WP]}};Object.defineProperty(tc.prototype,"data",{enumerable:!0});var WB={addEventListener(t,e,r={}){for(let s of this.listeners(t))if(!r[ec]&&s[qh]===e&&!s[ec])return;let a;if(t==="message")a=function(i,n){let o=new tc("message",{data:n?i:i.toString()});o[Fi]=this,nd(e,this,o)};else if(t==="close")a=function(i,n){let o=new Tn("close",{code:i,reason:n.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});o[Fi]=this,nd(e,this,o)};else if(t==="error")a=function(i){let n=new Mi("error",{error:i,message:i.message});n[Fi]=this,nd(e,this,n)};else if(t==="open")a=function(){let i=new Ka("open");i[Fi]=this,nd(e,this,i)};else return;a[ec]=!!r[ec],a[qh]=e,r.once?this.once(t,a):this.on(t,a)},removeEventListener(t,e){for(let r of this.listeners(t))if(r[qh]===e&&!r[ec]){this.removeListener(t,r);break}}};eR.exports={CloseEvent:Tn,ErrorEvent:Mi,Event:Ka,EventTarget:WB,MessageEvent:tc};function nd(t,e,r){typeof t=="object"&&t.handleEvent?t.handleEvent.call(t,r):t.call(e,r)}});var Uh=j((eY,rR)=>{"use strict";var{tokenChars:rc}=Ni();function Sa(t,e,r){t[e]===void 0?t[e]=[r]:t[e].push(r)}function KB(t){let e=Object.create(null),r=Object.create(null),a=!1,s=!1,i=!1,n,o,l=-1,c=-1,u=-1,d=0;for(;d<t.length;d++)if(c=t.charCodeAt(d),n===void 0)if(u===-1&&rc[c]===1)l===-1&&(l=d);else if(d!==0&&(c===32||c===9))u===-1&&l!==-1&&(u=d);else if(c===59||c===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${d}`);u===-1&&(u=d);let p=t.slice(l,u);c===44?(Sa(e,p,r),r=Object.create(null)):n=p,l=u=-1}else throw new SyntaxError(`Unexpected character at index ${d}`);else if(o===void 0)if(u===-1&&rc[c]===1)l===-1&&(l=d);else if(c===32||c===9)u===-1&&l!==-1&&(u=d);else if(c===59||c===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${d}`);u===-1&&(u=d),Sa(r,t.slice(l,u),!0),c===44&&(Sa(e,n,r),r=Object.create(null),n=void 0),l=u=-1}else if(c===61&&l!==-1&&u===-1)o=t.slice(l,d),l=u=-1;else throw new SyntaxError(`Unexpected character at index ${d}`);else if(s){if(rc[c]!==1)throw new SyntaxError(`Unexpected character at index ${d}`);l===-1?l=d:a||(a=!0),s=!1}else if(i)if(rc[c]===1)l===-1&&(l=d);else if(c===34&&l!==-1)i=!1,u=d;else if(c===92)s=!0;else throw new SyntaxError(`Unexpected character at index ${d}`);else if(c===34&&t.charCodeAt(d-1)===61)i=!0;else if(u===-1&&rc[c]===1)l===-1&&(l=d);else if(l!==-1&&(c===32||c===9))u===-1&&(u=d);else if(c===59||c===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${d}`);u===-1&&(u=d);let p=t.slice(l,u);a&&(p=p.replace(/\\/g,""),a=!1),Sa(r,o,p),c===44&&(Sa(e,n,r),r=Object.create(null),n=void 0),o=void 0,l=u=-1}else throw new SyntaxError(`Unexpected character at index ${d}`);if(l===-1||i||c===32||c===9)throw new SyntaxError("Unexpected end of input");u===-1&&(u=d);let h=t.slice(l,u);return n===void 0?Sa(e,h,r):(o===void 0?Sa(r,h,!0):a?Sa(r,o,h.replace(/\\/g,"")):Sa(r,o,h),Sa(e,n,r)),e}function JB(t){return Object.keys(t).map(e=>{let r=t[e];return Array.isArray(r)||(r=[r]),r.map(a=>[e].concat(Object.keys(a).map(s=>{let i=a[s];return Array.isArray(i)||(i=[i]),i.map(n=>n===!0?s:`${s}=${n}`).join("; ")})).join("; ")).join(", ")}).join(", ")}rR.exports={format:JB,parse:KB}});var ld=j((aY,mR)=>{"use strict";var QB=require("events"),YB=require("https"),XB=require("http"),nR=require("net"),e3=require("tls"),{randomBytes:t3,createHash:r3}=require("crypto"),{Duplex:tY,Readable:rY}=require("stream"),{URL:zh}=require("url"),Ts=Xo(),a3=$h(),s3=Mh(),{isBlob:n3}=Ni(),{BINARY_TYPES:aR,EMPTY_BUFFER:id,GUID:i3,kForOnEventAttribute:Bh,kListener:o3,kStatusCode:c3,kWebSocket:Dt,NOOP:iR}=Ga(),{EventTarget:{addEventListener:l3,removeEventListener:u3}}=tR(),{format:d3,parse:p3}=Uh(),{toBuffer:f3}=Qo(),m3=30*1e3,oR=Symbol("kAborted"),Zh=[8,13],Ja=["CONNECTING","OPEN","CLOSING","CLOSED"],h3=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,xt=class t extends QB{constructor(e,r,a){super(),this._binaryType=aR[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=id,this._closeTimer=null,this._errorEmitted=!1,this._extensions={},this._paused=!1,this._protocol="",this._readyState=t.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,e!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,r===void 0?r=[]:Array.isArray(r)||(typeof r=="object"&&r!==null?(a=r,r=[]):r=[r]),cR(this,e,r,a)):(this._autoPong=a.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(e){aR.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,r,a){let s=new a3({allowSynchronousEvents:a.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:a.maxPayload,skipUTF8Validation:a.skipUTF8Validation}),i=new s3(e,this._extensions,a.generateMask);this._receiver=s,this._sender=i,this._socket=e,s[Dt]=this,i[Dt]=this,e[Dt]=this,s.on("conclude",y3),s.on("drain",x3),s.on("error",b3),s.on("message",_3),s.on("ping",w3),s.on("pong",S3),i.onerror=E3,e.setTimeout&&e.setTimeout(0),e.setNoDelay&&e.setNoDelay(),r.length>0&&e.unshift(r),e.on("close",dR),e.on("data",cd),e.on("end",pR),e.on("error",fR),this._readyState=t.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=t.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[Ts.extensionName]&&this._extensions[Ts.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=t.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,r){if(this.readyState!==t.CLOSED){if(this.readyState===t.CONNECTING){Sr(this,this._req,"WebSocket was closed before the connection was established");return}if(this.readyState===t.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=t.CLOSING,this._sender.close(e,r,!this._isServer,a=>{a||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),uR(this)}}pause(){this.readyState===t.CONNECTING||this.readyState===t.CLOSED||(this._paused=!0,this._socket.pause())}ping(e,r,a){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(a=e,e=r=void 0):typeof r=="function"&&(a=r,r=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==t.OPEN){Vh(this,e,a);return}r===void 0&&(r=!this._isServer),this._sender.ping(e||id,r,a)}pong(e,r,a){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(a=e,e=r=void 0):typeof r=="function"&&(a=r,r=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==t.OPEN){Vh(this,e,a);return}r===void 0&&(r=!this._isServer),this._sender.pong(e||id,r,a)}resume(){this.readyState===t.CONNECTING||this.readyState===t.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,r,a){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof r=="function"&&(a=r,r={}),typeof e=="number"&&(e=e.toString()),this.readyState!==t.OPEN){Vh(this,e,a);return}let s={binary:typeof e!="string",mask:!this._isServer,compress:!0,fin:!0,...r};this._extensions[Ts.extensionName]||(s.compress=!1),this._sender.send(e||id,s,a)}terminate(){if(this.readyState!==t.CLOSED){if(this.readyState===t.CONNECTING){Sr(this,this._req,"WebSocket was closed before the connection was established");return}this._socket&&(this._readyState=t.CLOSING,this._socket.destroy())}}};Object.defineProperty(xt,"CONNECTING",{enumerable:!0,value:Ja.indexOf("CONNECTING")});Object.defineProperty(xt.prototype,"CONNECTING",{enumerable:!0,value:Ja.indexOf("CONNECTING")});Object.defineProperty(xt,"OPEN",{enumerable:!0,value:Ja.indexOf("OPEN")});Object.defineProperty(xt.prototype,"OPEN",{enumerable:!0,value:Ja.indexOf("OPEN")});Object.defineProperty(xt,"CLOSING",{enumerable:!0,value:Ja.indexOf("CLOSING")});Object.defineProperty(xt.prototype,"CLOSING",{enumerable:!0,value:Ja.indexOf("CLOSING")});Object.defineProperty(xt,"CLOSED",{enumerable:!0,value:Ja.indexOf("CLOSED")});Object.defineProperty(xt.prototype,"CLOSED",{enumerable:!0,value:Ja.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(t=>{Object.defineProperty(xt.prototype,t,{enumerable:!0})});["open","error","close","message"].forEach(t=>{Object.defineProperty(xt.prototype,`on${t}`,{enumerable:!0,get(){for(let e of this.listeners(t))if(e[Bh])return e[o3];return null},set(e){for(let r of this.listeners(t))if(r[Bh]){this.removeListener(t,r);break}typeof e=="function"&&this.addEventListener(t,e,{[Bh]:!0})}})});xt.prototype.addEventListener=l3;xt.prototype.removeEventListener=u3;mR.exports=xt;function cR(t,e,r,a){let s={allowSynchronousEvents:!0,autoPong:!0,protocolVersion:Zh[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...a,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(t._autoPong=s.autoPong,!Zh.includes(s.protocolVersion))throw new RangeError(`Unsupported protocol version: ${s.protocolVersion} (supported versions: ${Zh.join(", ")})`);let i;if(e instanceof zh)i=e;else try{i=new zh(e)}catch{throw new SyntaxError(`Invalid URL: ${e}`)}i.protocol==="http:"?i.protocol="ws:":i.protocol==="https:"&&(i.protocol="wss:"),t._url=i.href;let n=i.protocol==="wss:",o=i.protocol==="ws+unix:",l;if(i.protocol!=="ws:"&&!n&&!o?l=`The URL's protocol must be one of "ws:", "wss:", "http:", "https:", or "ws+unix:"`:o&&!i.pathname?l="The URL's pathname is empty":i.hash&&(l="The URL contains a fragment identifier"),l){let f=new SyntaxError(l);if(t._redirects===0)throw f;od(t,f);return}let c=n?443:80,u=t3(16).toString("base64"),d=n?YB.request:XB.request,h=new Set,p;if(s.createConnection=s.createConnection||(n?g3:v3),s.defaultPort=s.defaultPort||c,s.port=i.port||c,s.host=i.hostname.startsWith("[")?i.hostname.slice(1,-1):i.hostname,s.headers={...s.headers,"Sec-WebSocket-Version":s.protocolVersion,"Sec-WebSocket-Key":u,Connection:"Upgrade",Upgrade:"websocket"},s.path=i.pathname+i.search,s.timeout=s.handshakeTimeout,s.perMessageDeflate&&(p=new Ts(s.perMessageDeflate!==!0?s.perMessageDeflate:{},!1,s.maxPayload),s.headers["Sec-WebSocket-Extensions"]=d3({[Ts.extensionName]:p.offer()})),r.length){for(let f of r){if(typeof f!="string"||!h3.test(f)||h.has(f))throw new SyntaxError("An invalid or duplicated subprotocol was specified");h.add(f)}s.headers["Sec-WebSocket-Protocol"]=r.join(",")}if(s.origin&&(s.protocolVersion<13?s.headers["Sec-WebSocket-Origin"]=s.origin:s.headers.Origin=s.origin),(i.username||i.password)&&(s.auth=`${i.username}:${i.password}`),o){let f=s.path.split(":");s.socketPath=f[0],s.path=f[1]}let m;if(s.followRedirects){if(t._redirects===0){t._originalIpc=o,t._originalSecure=n,t._originalHostOrSocketPath=o?s.socketPath:i.host;let f=a&&a.headers;if(a={...a,headers:{}},f)for(let[v,g]of Object.entries(f))a.headers[v.toLowerCase()]=g}else if(t.listenerCount("redirect")===0){let f=o?t._originalIpc?s.socketPath===t._originalHostOrSocketPath:!1:t._originalIpc?!1:i.host===t._originalHostOrSocketPath;(!f||t._originalSecure&&!n)&&(delete s.headers.authorization,delete s.headers.cookie,f||delete s.headers.host,s.auth=void 0)}s.auth&&!a.headers.authorization&&(a.headers.authorization="Basic "+Buffer.from(s.auth).toString("base64")),m=t._req=d(s),t._redirects&&t.emit("redirect",t.url,m)}else m=t._req=d(s);s.timeout&&m.on("timeout",()=>{Sr(t,m,"Opening handshake has timed out")}),m.on("error",f=>{m===null||m[oR]||(m=t._req=null,od(t,f))}),m.on("response",f=>{let v=f.headers.location,g=f.statusCode;if(v&&s.followRedirects&&g>=300&&g<400){if(++t._redirects>s.maxRedirects){Sr(t,m,"Maximum redirects exceeded");return}m.abort();let b;try{b=new zh(v,e)}catch{let C=new SyntaxError(`Invalid URL: ${v}`);od(t,C);return}cR(t,b,r,a)}else t.emit("unexpected-response",m,f)||Sr(t,m,`Unexpected server response: ${f.statusCode}`)}),m.on("upgrade",(f,v,g)=>{if(t.emit("upgrade",f),t.readyState!==xt.CONNECTING)return;m=t._req=null;let b=f.headers.upgrade;if(b===void 0||b.toLowerCase()!=="websocket"){Sr(t,v,"Invalid Upgrade header");return}let w=r3("sha1").update(u+i3).digest("base64");if(f.headers["sec-websocket-accept"]!==w){Sr(t,v,"Invalid Sec-WebSocket-Accept header");return}let C=f.headers["sec-websocket-protocol"],T;if(C!==void 0?h.size?h.has(C)||(T="Server sent an invalid subprotocol"):T="Server sent a subprotocol but none was requested":h.size&&(T="Server sent no subprotocol"),T){Sr(t,v,T);return}C&&(t._protocol=C);let R=f.headers["sec-websocket-extensions"];if(R!==void 0){if(!p){Sr(t,v,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let O;try{O=p3(R)}catch{Sr(t,v,"Invalid Sec-WebSocket-Extensions header");return}let L=Object.keys(O);if(L.length!==1||L[0]!==Ts.extensionName){Sr(t,v,"Server indicated an extension that was not requested");return}try{p.accept(O[Ts.extensionName])}catch{Sr(t,v,"Invalid Sec-WebSocket-Extensions header");return}t._extensions[Ts.extensionName]=p}t.setSocket(v,g,{allowSynchronousEvents:s.allowSynchronousEvents,generateMask:s.generateMask,maxPayload:s.maxPayload,skipUTF8Validation:s.skipUTF8Validation})}),s.finishRequest?s.finishRequest(m,t):m.end()}function od(t,e){t._readyState=xt.CLOSING,t._errorEmitted=!0,t.emit("error",e),t.emitClose()}function v3(t){return t.path=t.socketPath,nR.connect(t)}function g3(t){return t.path=void 0,!t.servername&&t.servername!==""&&(t.servername=nR.isIP(t.host)?"":t.host),e3.connect(t)}function Sr(t,e,r){t._readyState=xt.CLOSING;let a=new Error(r);Error.captureStackTrace(a,Sr),e.setHeader?(e[oR]=!0,e.abort(),e.socket&&!e.socket.destroyed&&e.socket.destroy(),process.nextTick(od,t,a)):(e.destroy(a),e.once("error",t.emit.bind(t,"error")),e.once("close",t.emitClose.bind(t)))}function Vh(t,e,r){if(e){let a=n3(e)?e.size:f3(e).length;t._socket?t._sender._bufferedBytes+=a:t._bufferedAmount+=a}if(r){let a=new Error(`WebSocket is not open: readyState ${t.readyState} (${Ja[t.readyState]})`);process.nextTick(r,a)}}function y3(t,e){let r=this[Dt];r._closeFrameReceived=!0,r._closeMessage=e,r._closeCode=t,r._socket[Dt]!==void 0&&(r._socket.removeListener("data",cd),process.nextTick(lR,r._socket),t===1005?r.close():r.close(t,e))}function x3(){let t=this[Dt];t.isPaused||t._socket.resume()}function b3(t){let e=this[Dt];e._socket[Dt]!==void 0&&(e._socket.removeListener("data",cd),process.nextTick(lR,e._socket),e.close(t[c3])),e._errorEmitted||(e._errorEmitted=!0,e.emit("error",t))}function sR(){this[Dt].emitClose()}function _3(t,e){this[Dt].emit("message",t,e)}function w3(t){let e=this[Dt];e._autoPong&&e.pong(t,!this._isServer,iR),e.emit("ping",t)}function S3(t){this[Dt].emit("pong",t)}function lR(t){t.resume()}function E3(t){let e=this[Dt];e.readyState!==xt.CLOSED&&(e.readyState===xt.OPEN&&(e._readyState=xt.CLOSING,uR(e)),this._socket.end(),e._errorEmitted||(e._errorEmitted=!0,e.emit("error",t)))}function uR(t){t._closeTimer=setTimeout(t._socket.destroy.bind(t._socket),m3)}function dR(){let t=this[Dt];this.removeListener("close",dR),this.removeListener("data",cd),this.removeListener("end",pR),t._readyState=xt.CLOSING;let e;!this._readableState.endEmitted&&!t._closeFrameReceived&&!t._receiver._writableState.errorEmitted&&(e=t._socket.read())!==null&&t._receiver.write(e),t._receiver.end(),this[Dt]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",sR),t._receiver.on("finish",sR))}function cd(t){this[Dt]._receiver.write(t)||this.pause()}function pR(){let t=this[Dt];t._readyState=xt.CLOSING,t._receiver.end(),this.end()}function fR(){let t=this[Dt];this.removeListener("error",fR),this.on("error",iR),t&&(t._readyState=xt.CLOSING,this.destroy())}});var yR=j((nY,gR)=>{"use strict";var sY=ld(),{Duplex:P3}=require("stream");function hR(t){t.emit("close")}function R3(){!this.destroyed&&this._writableState.finished&&this.destroy()}function vR(t){this.removeListener("error",vR),this.destroy(),this.listenerCount("error")===0&&this.emit("error",t)}function C3(t,e){let r=!0,a=new P3({...e,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return t.on("message",function(i,n){let o=!n&&a._readableState.objectMode?i.toString():i;a.push(o)||t.pause()}),t.once("error",function(i){a.destroyed||(r=!1,a.destroy(i))}),t.once("close",function(){a.destroyed||a.push(null)}),a._destroy=function(s,i){if(t.readyState===t.CLOSED){i(s),process.nextTick(hR,a);return}let n=!1;t.once("error",function(l){n=!0,i(l)}),t.once("close",function(){n||i(s),process.nextTick(hR,a)}),r&&t.terminate()},a._final=function(s){if(t.readyState===t.CONNECTING){t.once("open",function(){a._final(s)});return}t._socket!==null&&(t._socket._writableState.finished?(s(),a._readableState.endEmitted&&a.destroy()):(t._socket.once("finish",function(){s()}),t.close()))},a._read=function(){t.isPaused&&t.resume()},a._write=function(s,i,n){if(t.readyState===t.CONNECTING){t.once("open",function(){a._write(s,i,n)});return}t.send(s,n)},a.on("end",R3),a.on("error",vR),a}gR.exports=C3});var bR=j((iY,xR)=>{"use strict";var{tokenChars:T3}=Ni();function O3(t){let e=new Set,r=-1,a=-1,s=0;for(s;s<t.length;s++){let n=t.charCodeAt(s);if(a===-1&&T3[n]===1)r===-1&&(r=s);else if(s!==0&&(n===32||n===9))a===-1&&r!==-1&&(a=s);else if(n===44){if(r===-1)throw new SyntaxError(`Unexpected character at index ${s}`);a===-1&&(a=s);let o=t.slice(r,a);if(e.has(o))throw new SyntaxError(`The "${o}" subprotocol is duplicated`);e.add(o),r=a=-1}else throw new SyntaxError(`Unexpected character at index ${s}`)}if(r===-1||a!==-1)throw new SyntaxError("Unexpected end of input");let i=t.slice(r,s);if(e.has(i))throw new SyntaxError(`The "${i}" subprotocol is duplicated`);return e.add(i),e}xR.exports={parse:O3}});var CR=j((cY,RR)=>{"use strict";var I3=require("events"),ud=require("http"),{Duplex:oY}=require("stream"),{createHash:A3}=require("crypto"),_R=Uh(),On=Xo(),k3=bR(),D3=ld(),{GUID:j3,kWebSocket:N3}=Ga(),$3=/^[+/0-9A-Za-z]{22}==$/,wR=0,SR=1,PR=2,Hh=class extends I3{constructor(e,r){if(super(),e={allowSynchronousEvents:!0,autoPong:!0,maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:D3,...e},e.port==null&&!e.server&&!e.noServer||e.port!=null&&(e.server||e.noServer)||e.server&&e.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(e.port!=null?(this._server=ud.createServer((a,s)=>{let i=ud.STATUS_CODES[426];s.writeHead(426,{"Content-Length":i.length,"Content-Type":"text/plain"}),s.end(i)}),this._server.listen(e.port,e.host,e.backlog,r)):e.server&&(this._server=e.server),this._server){let a=this.emit.bind(this,"connection");this._removeListeners=L3(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(s,i,n)=>{this.handleUpgrade(s,i,n,a)}})}e.perMessageDeflate===!0&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=wR}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(this._state===PR){e&&this.once("close",()=>{e(new Error("The server is not running"))}),process.nextTick(ac,this);return}if(e&&this.once("close",e),this._state!==SR)if(this._state=SR,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(ac,this):process.nextTick(ac,this);else{let r=this._server;this._removeListeners(),this._removeListeners=this._server=null,r.close(()=>{ac(this)})}}shouldHandle(e){if(this.options.path){let r=e.url.indexOf("?");if((r!==-1?e.url.slice(0,r):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,r,a,s){r.on("error",ER);let i=e.headers["sec-websocket-key"],n=e.headers.upgrade,o=+e.headers["sec-websocket-version"];if(e.method!=="GET"){In(this,e,r,405,"Invalid HTTP method");return}if(n===void 0||n.toLowerCase()!=="websocket"){In(this,e,r,400,"Invalid Upgrade header");return}if(i===void 0||!$3.test(i)){In(this,e,r,400,"Missing or invalid Sec-WebSocket-Key header");return}if(o!==13&&o!==8){In(this,e,r,400,"Missing or invalid Sec-WebSocket-Version header",{"Sec-WebSocket-Version":"13, 8"});return}if(!this.shouldHandle(e)){sc(r,400);return}let l=e.headers["sec-websocket-protocol"],c=new Set;if(l!==void 0)try{c=k3.parse(l)}catch{In(this,e,r,400,"Invalid Sec-WebSocket-Protocol header");return}let u=e.headers["sec-websocket-extensions"],d={};if(this.options.perMessageDeflate&&u!==void 0){let h=new On(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let p=_R.parse(u);p[On.extensionName]&&(h.accept(p[On.extensionName]),d[On.extensionName]=h)}catch{In(this,e,r,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let h={origin:e.headers[`${o===8?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(this.options.verifyClient.length===2){this.options.verifyClient(h,(p,m,f,v)=>{if(!p)return sc(r,m||401,f,v);this.completeUpgrade(d,i,c,e,r,a,s)});return}if(!this.options.verifyClient(h))return sc(r,401)}this.completeUpgrade(d,i,c,e,r,a,s)}completeUpgrade(e,r,a,s,i,n,o){if(!i.readable||!i.writable)return i.destroy();if(i[N3])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>wR)return sc(i,503);let c=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${A3("sha1").update(r+j3).digest("base64")}`],u=new this.options.WebSocket(null,void 0,this.options);if(a.size){let d=this.options.handleProtocols?this.options.handleProtocols(a,s):a.values().next().value;d&&(c.push(`Sec-WebSocket-Protocol: ${d}`),u._protocol=d)}if(e[On.extensionName]){let d=e[On.extensionName].params,h=_R.format({[On.extensionName]:[d]});c.push(`Sec-WebSocket-Extensions: ${h}`),u._extensions=e}this.emit("headers",c,s),i.write(c.concat(`\r
`).join(`\r
`)),i.removeListener("error",ER),u.setSocket(i,n,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(u),u.on("close",()=>{this.clients.delete(u),this._shouldEmitClose&&!this.clients.size&&process.nextTick(ac,this)})),o(u,s)}};RR.exports=Hh;function L3(t,e){for(let r of Object.keys(e))t.on(r,e[r]);return function(){for(let a of Object.keys(e))t.removeListener(a,e[a])}}function ac(t){t._state=PR,t.emit("close")}function ER(){this.destroy()}function sc(t,e,r,a){r=r||ud.STATUS_CODES[e],a={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(r),...a},t.once("finish",t.destroy),t.end(`HTTP/1.1 ${e} ${ud.STATUS_CODES[e]}\r
`+Object.keys(a).map(s=>`${s}: ${a[s]}`).join(`\r
`)+`\r
\r
`+r)}function In(t,e,r,a,s,i){if(t.listenerCount("wsClientError")){let n=new Error(s);Error.captureStackTrace(n,In),t.emit("wsClientError",n,r,e)}else sc(r,a,s,i)}});var Gh=j((lY,TR)=>{"use strict";var Qa=ld();Qa.createWebSocketStream=yR();Qa.Server=CR();Qa.Receiver=$h();Qa.Sender=Mh();Qa.WebSocket=Qa;Qa.WebSocketServer=Qa.Server;TR.exports=Qa});var OR=j(qi=>{"use strict";var F3=qi&&qi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qi,"__esModule",{value:!0});qi.WebSocketTransport=void 0;var nc=F3(Gh()),M3=Bo(),Wh=class{ws;started=!1;opened;constructor(e){this.ws=e,this.opened=new Promise((r,a)=>{this.ws.readyState===nc.default.OPEN?r():(this.ws.on("open",()=>{r()}),this.ws.on("error",s=>{a(s)}))}),this.ws.on("message",this.onMessageHandler),this.ws.on("error",this.onErrorHandler),this.ws.on("close",this.onCloseHandler)}onclose;onerror;onmessage;onMessageHandler=e=>{try{let r=JSON.parse(e.toString("utf-8")),a=M3.JSONRPCMessageSchema.parse(r);this.onmessage?.(a)}catch(r){this.onErrorHandler(r)}};onErrorHandler=e=>{this.onerror?.(e instanceof Error?e:new Error("Failed to process message"))};onCloseHandler=()=>{this.onclose?.(),this.ws.off("message",this.onMessageHandler),this.ws.off("error",this.onErrorHandler),this.ws.off("close",this.onCloseHandler)};async start(){if(this.started)throw new Error("Start can only be called once per transport.");if(await this.opened,this.ws.readyState!==nc.default.OPEN)throw new Error("WebSocket is not open. Cannot start transport.");this.started=!0}async close(){(this.ws.readyState===nc.default.OPEN||this.ws.readyState===nc.default.CONNECTING)&&this.ws.close(),this.onCloseHandler()}async send(e){if(this.ws.readyState!==nc.default.OPEN)throw new Error("WebSocket is not open. Cannot send message.");let r=JSON.stringify(e);try{await new Promise((a,s)=>{this.ws.send(r,i=>{i?s(i):a()})})}catch(a){throw this.onErrorHandler(a),a}}};qi.WebSocketTransport=Wh});var kR=j(ia=>{"use strict";var q3=ia&&ia.__createBinding||(Object.create?function(t,e,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,a,s)}:function(t,e,r,a){a===void 0&&(a=r),t[a]=e[r]}),U3=ia&&ia.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),z3=ia&&ia.__importStar||function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var a=t(e),s=0;s<a.length;s++)a[s]!=="default"&&q3(r,e,a[s]);return U3(r,e),r}}();Object.defineProperty(ia,"__esModule",{value:!0});ia.getLastSelection=B3;ia.setupSelectionChangeHandling=Z3;ia.setupAtMentionedHandling=V3;var IR=z3(require("vscode")),AR=Ju(),Ya=null;function B3(){return Ya}function Z3(t,e){let r=null,a=IR.window.onDidChangeTextEditorSelection(s=>{let i=s.textEditor,n=i.selection,o=i.document,c={text:o.getText(n),filePath:o.uri.fsPath,fileUrl:o.uri.toString(),selection:{start:{line:n.start.line,character:n.start.character},end:{line:n.end.line,character:n.end.character},isEmpty:n.isEmpty}},u=!Ya||Ya.text!==c.text||Ya.filePath!==c.filePath||Ya.selection.start.line!==c.selection.start.line||Ya.selection.start.character!==c.selection.start.character||Ya.selection.end.line!==c.selection.end.line||Ya.selection.end.character!==c.selection.end.character;Ya=c;let d=e();u&&d&&t.server&&(r&&clearTimeout(r),r=setTimeout(()=>{let h=e();h&&(0,AR.sendSelectionChanged)(c,h)},300))});return{dispose:()=>{a.dispose(),r&&clearTimeout(r)}}}function V3(t,e,r){t(()=>{let a=IR.window.activeTextEditor;if(!a)return;let s=a.selection,i={filePath:a.document.uri.fsPath};s.isEmpty||(i.lineStart=s.start.line,i.lineEnd=s.end.line);let n=r();n&&e.server&&(0,AR.sendAtMentioned)(i,n)})}});var Ju=j(Er=>{"use strict";var H3=Er&&Er.__createBinding||(Object.create?function(t,e,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,a,s)}:function(t,e,r,a){a===void 0&&(a=r),t[a]=e[r]}),G3=Er&&Er.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),NR=Er&&Er.__importStar||function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var a=t(e),s=0;s<a.length;s++)a[s]!=="default"&&H3(r,e,a[s]);return G3(r,e),r}}();Object.defineProperty(Er,"__esModule",{value:!0});Er.createMcpServer=sZ;Er.startMcpServer=nZ;Er.closeAllDiffTabs=LR;Er.sendSelectionChanged=MR;Er.sendAtMentioned=oZ;var Ea=NR(require("vscode")),W3=require("crypto"),K3=lP(),J3=NR(require("http")),An=mP(),Q3=hP(),pd=xP(),Yt=Ba(),Y3=wP(),DR=SP(),X3=Ku(),eZ=Gh(),tZ=OR(),jR=Ko(),dd=kR();function rZ(){let t=Ea.env.appName,e;switch(t.toLowerCase()){case"visual studio code":e="Claude Code VSCode MCP";break;case"cursor":e="Claude Code Cursor MCP";break;case"windsurf":e="Claude Code Windsurf MCP";break;default:e=`Claude Code ${t} MCP`}return e}function aZ(t,e,r,a){t.logged.event(s=>{let i=a();i&&e.server?FR(r,s,i):Kh.push(s)})}function sZ(t,e,r,a,s,i,n){let o=new K3.McpServer({name:rZ(),version:t.extension.packageJSON.version||"0.0.1"});o.tool("openDiff","Open a git diff for the file",{old_file_path:Yt.z.string().describe("Path to the file to show diff for. If not provided, uses active editor."),new_file_path:Yt.z.string().describe("Path to the file to show diff for. If not provided, uses active editor."),new_file_contents:Yt.z.string().describe("Contents of the new file. If not provided then the current file contents of new_file_path will be used."),tab_name:Yt.z.string().describe("Path to the file to show diff for. If not provided, uses active editor.")},async({old_file_path:b,new_file_path:w,new_file_contents:C,tab_name:T})=>{let R=[];try{return await(0,Y3.openDiff)(a,e,r,b,w,C,T,s,R)}catch(O){throw a.error(`Error opening diff: ${O}`),O}finally{for(let O of R)O.dispose()}}),o.tool("getDiagnostics","Get language diagnostics from VS Code",{uri:Yt.z.string().optional().describe("Optional file URI to get diagnostics for. If not provided, gets diagnostics for all files.")},An.handleGetDiagnostics),o.tool("close_tab",{tab_name:Yt.z.string()},async({tab_name:b})=>(await iZ(b,a),setTimeout(()=>{(0,jR.focusTerminal)()},500),{content:[{type:"text",text:"TAB_CLOSED"}]})),o.tool("closeAllDiffTabs","Close all diff tabs in the editor",{},async()=>{let b=await LR(a);return setTimeout(()=>{(0,jR.focusTerminal)()},500),{content:[{type:"text",text:`CLOSED_${b}_DIFF_TABS`}]}}),o.tool("openFile","Open a file in the editor and optionally select a range of text",{filePath:Yt.z.string().describe("Path to the file to open"),preview:Yt.z.boolean().describe("Whether to open the file in preview mode").default(!1),startText:Yt.z.string().describe("Text pattern to find the start of the selection range. Selects from the beginning of this match."),endText:Yt.z.string().describe("Text pattern to find the end of the selection range. Selects up to the end of this match. If not provided, only the startText match will be selected."),selectToEndOfLine:Yt.z.boolean().describe("If true, selection will extend to the end of the line containing the endText match.").default(!1),makeFrontmost:Yt.z.boolean().describe("Whether to make the file the active editor tab. If false, the file will be opened in the background without changing focus.").default(!0)},{readOnlyHint:!0},An.handleOpenFile),o.tool("getOpenEditors","Get information about currently open editors",{},An.handleGetOpenEditors),o.tool("getWorkspaceFolders","Get all workspace folders currently open in the IDE",{},An.handleGetWorkspaceFolders),o.tool("getCurrentSelection","Get the current text selection in the active editor",{},An.handleGetCurrentSelection),o.tool("checkDocumentDirty","Check if a document has unsaved changes (is dirty)",{filePath:Yt.z.string().describe("Path to the file to check")},An.handleCheckDocumentDirty),o.tool("saveDocument","Save a document with unsaved changes",{filePath:Yt.z.string().describe("Path to the file to save")},An.handleSaveDocument),o.tool("getLatestSelection","Get the most recent text selection (even if not in the active editor)",{},async()=>({content:[{type:"text",text:JSON.stringify((0,dd.getLastSelection)()||{success:!1,message:"No selection available"},null,2)}]})),o.tool("executeCode",`Execute python code in the Jupyter kernel for the current notebook file.
    
    All code will be executed in the current Jupyter kernel.
    
    Avoid declaring variables or modifying the state of the kernel unless the user
    explicitly asks for it.
    
    Any code executed will persist across calls to this tool, unless the kernel
    has been restarted.`,{code:Yt.z.string().describe("The code to be executed on the kernel.")},({code:b})=>(0,Q3.handleExecuteCode)(a,b));let l=J3.createServer(),c=new eZ.WebSocketServer({server:l}),u=null,d=null,h=X3.DiagnosticStreamManager.getInstance(a),p=(0,W3.randomUUID)();c.on("connection",function(b,w){if(w.headers["x-claude-code-ide-authorization"]!==p){a.error("Unauthorized WebSocket connection attempt"),b.close(1008,"Unauthorized");return}if(a.info("New WS connection from:",w.url||"unknown"),u){a.info("Disconnecting previous WebSocket client"),d&&(h.unregisterClient(d),a.info(`Unregistered previous diagnostic client: ${d}`),d=null);try{u.close()}catch(R){a.error("Error closing previous transport:",R)}}let C=new tZ.WebSocketTransport(b);u=C;let T=null;o.connect(C).then(()=>{a.info("MCP server connected to transport"),T=h.registerClient(R=>{C.send({jsonrpc:"2.0",method:"diagnostics_changed",params:{uris:R}}).catch(O=>{a.error("Error sending diagnostics notification:",O.message)})}),d=T,a.info(`Registered diagnostic client: ${T}`),setTimeout(()=>{let R=(0,dd.getLastSelection)();R&&MR(R,C);let O=[...Kh];Kh.length=0;for(let L of O)FR(a,L,C)},500)}).catch(R=>{console.error("Error connecting transport:",R),u=null;try{b.close()}catch(O){a.error("Error closing WebSocket:",O)}}),b.on("close",()=>{a.info("WS client disconnected"),u===C&&(u=null,T&&d===T&&(h.unregisterClient(T),a.info(`Unregistered diagnostic client: ${T}`),d=null))})});let m=()=>u;aZ(n,o,a,m),(0,dd.setupAtMentionedHandling)(i,o,m);let f=(0,dd.setupSelectionChangeHandling)(o,m),v=null;l.on("listening",()=>{let b=l.address();b&&typeof b!="string"&&(v=b.port)});let g=Ea.workspace.onDidChangeWorkspaceFolders(()=>{v!==null&&((0,pd.createLockFile)(v,p),a.info(`Updated lock file for port ${v} with new workspace folders`))});return{httpServer:l,authToken:p,dispose:async()=>{v!==null&&((0,pd.deleteLockFile)(v),a.info(`Deleted lock file for port ${v}`)),f.dispose(),g.dispose(),h.dispose(),l.close(),typeof o.close=="function"&&await o.close()}}}async function nZ(t,e,r,a){try{let s=await(0,pd.findAvailablePort)(),i=null;return new Promise((n,o)=>{t.listen(s,"127.0.0.1",async()=>{a.info(`MCP Server running on port ${s} (localhost only)`),i=(0,pd.createLockFile)(s,e),console.log(`Created lock file at ${i}`);try{await(0,DR.setTerminalEnvironmentVariable)(r,"CLAUDE_CODE_SSE_PORT",String(s)),await(0,DR.setTerminalEnvironmentVariable)(r,"ENABLE_IDE_INTEGRATION","true"),n(s)}catch(l){console.error("Failed to set environment variables:",l),o(l)}}).on("error",l=>{console.error("Failed to start MCP server:",l),Ea.window.showErrorMessage(`Failed to start MCP server: ${l}`),o(l)})})}catch(s){throw console.error("Failed to start MCP server:",s),Ea.window.showErrorMessage(`Failed to start MCP server: ${s}`),s}}async function $R(t,e){let r=t.input;if(r instanceof Ea.TabInputTextDiff)try{await(await Ea.workspace.openTextDocument(r.modified)).save()}catch(a){e.error("Error saving modified file:",a)}await Ea.window.tabGroups.close(t)}async function iZ(t,e){for(let r of Ea.window.tabGroups.all)for(let a of r.tabs)if(a.label===t)return await $R(a,e),!0;return!1}async function LR(t){let e=0;t.info("Closing all diff tabs in the editor...");for(let r of Ea.window.tabGroups.all)for(let a of r.tabs)a.input instanceof Ea.TabInputTextDiff&&a.label.includes("[Claude Code]")&&(await $R(a,t),e++);return t.info(`Closed ${e} diff tabs.`),e}function FR(t,e,r){t.info("Logging event:",e.eventName,e.eventData);let a={eventName:e.eventName,eventData:e.eventData??{}};r.send({jsonrpc:"2.0",method:"log_event",params:a}).catch(s=>{t.error("Error sending log event:",s)})}var Kh=[];async function MR(t,e){try{e.send({jsonrpc:"2.0",method:"selection_changed",params:t}).catch(r=>{console.error("Error sending selection change notification:",r)})}catch(r){console.error("Error sending selection change notification:",r)}}async function oZ(t,e){try{e.send({jsonrpc:"2.0",method:"at_mentioned",params:t}).catch(r=>{console.error("Error sending at-mentioned notification:",r)})}catch(r){console.error("Error sending at-mentioned notification:",r)}}});var UR=j((fY,qR)=>{"use strict";qR.exports=function(e){return e.map(function(r){return r===""?"''":r&&typeof r=="object"?r.op.replace(/(.)/g,"\\$1"):/["\s\\]/.test(r)&&!/'/.test(r)?"'"+r.replace(/(['])/g,"\\$1")+"'":/["'\s]/.test(r)?'"'+r.replace(/(["\\$`!])/g,"\\$1")+'"':String(r).replace(/([A-Za-z]:)?([#!"$&'()*,:;<=>?@[\\\]^`{|}])/g,"$1\\$2")}).join(" ")}});var WR=j((mY,GR)=>{"use strict";var HR="(?:"+["\\|\\|","\\&\\&",";;","\\|\\&","\\<\\(","\\<\\<\\<",">>",">\\&","<\\&","[&;()|<>]"].join("|")+")",zR=new RegExp("^"+HR+"$"),BR="|&;()<> \\t",cZ='"((\\\\"|[^"])*?)"',lZ="'((\\\\'|[^'])*?)'",uZ=/^#$/,ZR="'",VR='"',Jh="$",kn="",dZ=4294967296;for(Qh=0;Qh<4;Qh++)kn+=(dZ*Math.random()).toString(16);var Qh,pZ=new RegExp("^"+kn);function fZ(t,e){for(var r=e.lastIndex,a=[],s;s=e.exec(t);)a.push(s),e.lastIndex===s.index&&(e.lastIndex+=1);return e.lastIndex=r,a}function mZ(t,e,r){var a=typeof t=="function"?t(r):t[r];return typeof a>"u"&&r!=""?a="":typeof a>"u"&&(a="$"),typeof a=="object"?e+kn+JSON.stringify(a)+kn:e+a}function hZ(t,e,r){r||(r={});var a=r.escape||"\\",s="(\\"+a+`['"`+BR+`]|[^\\s'"`+BR+"])+",i=new RegExp(["("+HR+")","("+s+"|"+cZ+"|"+lZ+")+"].join("|"),"g"),n=fZ(t,i);if(n.length===0)return[];e||(e={});var o=!1;return n.map(function(l){var c=l[0];if(!c||o)return;if(zR.test(c))return{op:c};var u=!1,d=!1,h="",p=!1,m;function f(){m+=1;var b,w,C=c.charAt(m);if(C==="{"){if(m+=1,c.charAt(m)==="}")throw new Error("Bad substitution: "+c.slice(m-2,m+1));if(b=c.indexOf("}",m),b<0)throw new Error("Bad substitution: "+c.slice(m));w=c.slice(m,b),m=b}else if(/[*@#?$!_-]/.test(C))w=C,m+=1;else{var T=c.slice(m);b=T.match(/[^\w\d_]/),b?(w=T.slice(0,b.index),m+=b.index-1):(w=T,m=c.length)}return mZ(e,"",w)}for(m=0;m<c.length;m++){var v=c.charAt(m);if(p=p||!u&&(v==="*"||v==="?"),d)h+=v,d=!1;else if(u)v===u?u=!1:u==ZR?h+=v:v===a?(m+=1,v=c.charAt(m),v===VR||v===a||v===Jh?h+=v:h+=a+v):v===Jh?h+=f():h+=v;else if(v===VR||v===ZR)u=v;else{if(zR.test(v))return{op:c};if(uZ.test(v)){o=!0;var g={comment:t.slice(l.index+m+1)};return h.length?[h,g]:[g]}else v===a?d=!0:v===Jh?h+=f():h+=v}}return p?{op:"glob",pattern:h}:h}).reduce(function(l,c){return typeof c>"u"?l:l.concat(c)},[])}GR.exports=function(e,r,a){var s=hZ(e,r,a);return typeof r!="function"?s:s.reduce(function(i,n){if(typeof n=="object")return i.concat(n);var o=n.split(RegExp("("+kn+".*?"+kn+")","g"));return o.length===1?i.concat(o[0]):i.concat(o.filter(Boolean).map(function(l){return pZ.test(l)?JSON.parse(l.split(kn)[1]):l}))},[])}});var Xh=j(Yh=>{"use strict";Yh.quote=UR();Yh.parse=WR()});var XR=j(Hr=>{"use strict";var vZ=Hr&&Hr.__createBinding||(Object.create?function(t,e,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,a,s)}:function(t,e,r,a){a===void 0&&(a=r),t[a]=e[r]}),gZ=Hr&&Hr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),JR=Hr&&Hr.__importStar||function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var a=t(e),s=0;s<a.length;s++)a[s]!=="default"&&vZ(r,e,a[s]);return gZ(r,e),r}}();Object.defineProperty(Hr,"__esModule",{value:!0});Hr.findOrLaunchClaude=_Z;Hr.registerRunClaudeCommand=wZ;Hr.registerAcceptOrRejectCommands=SZ;Hr.registerInsertAtMentionedCommand=EZ;var Rt=JR(require("vscode")),yZ=JR(require("path")),xZ=Ko(),bZ=Xh(),fd=Ko();async function _Z(t,e,r=!0){let a=await QR(t);return a?{terminal:a,claudeRunning:!0}:YR(t,e,r)}async function KR(t,e){try{if(!await e.processId)return;let a=await(0,xZ.isClaudeRunningInTerminal)(t,e);return a.claudeRunning?(t.info(`Found Claude running in terminal: ${e.name}`,a),!0):!1}catch(r){t.error(`Error checking terminal ${e.name}:`,r);return}}async function QR(t,e=!1){let r=process.env.CLAUDE_CODE_TERMINAL_TITLE||"Claude Code";for(let a of Rt.window.terminals)if(a.name===r){if(await KR(t,a))return t.info("Focusing existing Claude terminal"),a.show(),a;break}if(e){t.info("Searching all terminals for Claude process");for(let a of Rt.window.terminals){if(a.name===r)continue;if(await KR(t,a))return a.show(),a}}}async function YR(t,e,r=!0,a){t.info("Creating new Claude terminal"),r&&Rt.window.withProgress({location:Rt.ProgressLocation.Notification,title:"Claude Code launching...",cancellable:!1},async n=>new Promise(o=>setTimeout(o,2e3)));let s=Rt.window.createTerminal({name:process.env.CLAUDE_CODE_TERMINAL_TITLE||"Claude Code",iconPath:Rt.Uri.file(yZ.join(e.extensionPath,"resources","claude-logo.svg")),location:{viewColumn:Rt.ViewColumn.Beside},isTransient:!0});Rt.window.onDidEndTerminalShellExecution(n=>{n.terminal===s&&n.execution.commandLine.value.startsWith("claude ")&&(t.info(`Claude terminal closed after executing ${n.execution.commandLine.value}`),s.dispose())});let i=!1;return Rt.window.onDidChangeTerminalShellIntegration(async n=>{let o="claude";a&&(o=(0,bZ.quote)(["claude",a])),n.terminal===s&&!i&&(i=!0,t.info("Terminal shell integration available"),n.shellIntegration.executeCommand(o))}),setTimeout(()=>{!s.shellIntegration&&!i&&(i=!0,s.sendText("claude"))},3e3),s.show(),{terminal:s,claudeRunning:!0}}function wZ(t,e,r){let a=async()=>{try{await YR(t,e)}catch(s){t.error("Error running Claude Code:",s),Rt.window.showErrorMessage(`Failed to run Claude Code: ${s}`)}};e.subscriptions.push(Rt.commands.registerCommand("claude-code.runClaude",()=>{r.logEvent("run_claude_command"),a()})),e.subscriptions.push(Rt.commands.registerCommand("claude-code.runClaude.keyboard",()=>{r.logEvent("run_claude_command_keyboard"),a()}))}function SZ(t){let e=new Rt.EventEmitter;return t.push(Rt.commands.registerCommand("claude-code.acceptProposedDiff",async()=>{let r=Rt.window.tabGroups.activeTabGroup.activeTab;e.fire({accepted:!0,activeTab:r}),(0,fd.focusTerminal)()})),t.push(Rt.commands.registerCommand("claude-code.rejectProposedDiff",async()=>{let r=Rt.window.tabGroups.activeTabGroup.activeTab;e.fire({accepted:!1,activeTab:r}),(0,fd.focusTerminal)()})),e.event}function EZ(t,e){let r=new Rt.EventEmitter;return t.push(Rt.commands.registerCommand("claude-code.insertAtMentioned",async()=>{if(e?.nativeAtMentionCallback){let a=Rt.window.activeTextEditor;if(!a)return;let s=a.document,i=Rt.workspace.asRelativePath(s.fileName),n=a.selection,o;if(n.isEmpty)o=`@${i}`;else{let c=n.start.line+1,u=n.end.line+1;o=c!==u?`@${i}#${c}-${u}`:`@${i}#${c}`}e.nativeAtMentionCallback(o)||await QR(e.output,!0)&&(r.fire({}),(0,fd.focusTerminal)())}else r.fire({}),(0,fd.focusTerminal)()})),r.event}});var eC=j(Pa=>{"use strict";var PZ=Pa&&Pa.__createBinding||(Object.create?function(t,e,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,a,s)}:function(t,e,r,a){a===void 0&&(a=r),t[a]=e[r]}),RZ=Pa&&Pa.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),CZ=Pa&&Pa.__importStar||function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var a=t(e),s=0;s<a.length;s++)a[s]!=="default"&&PZ(r,e,a[s]);return RZ(r,e),r}}();Object.defineProperty(Pa,"__esModule",{value:!0});Pa.EventLogger=void 0;var TZ=CZ(require("vscode")),ev=class{logged=new TZ.EventEmitter;logEvent(e,r){this.logged.fire({eventName:e,eventData:r})}};Pa.EventLogger=ev});var aC=j(Ra=>{"use strict";var OZ=Ra&&Ra.__createBinding||(Object.create?function(t,e,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,a,s)}:function(t,e,r,a){a===void 0&&(a=r),t[a]=e[r]}),IZ=Ra&&Ra.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),AZ=Ra&&Ra.__importStar||function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var a=t(e),s=0;s<a.length;s++)a[s]!=="default"&&OZ(r,e,a[s]);return IZ(r,e),r}}();Object.defineProperty(Ra,"__esModule",{value:!0});Ra.activateExtension=DZ;Ra.deactivate=jZ;var Ui=AZ(require("vscode")),tC=lw(),rC=Ju(),tv=XR(),kZ=eC();function DZ(t,e,r=!1,a){t.subscriptions.push(e);let s=new kZ.EventLogger;e.info("Claude code extension is now active?");let i=new tC.TempFileProvider("_claude_fs_left");t.subscriptions.push(Ui.workspace.registerFileSystemProvider(i.scheme,i));let n=new tC.TempFileProvider("_claude_fs_right");t.subscriptions.push(Ui.workspace.registerFileSystemProvider(n.scheme,n)),t.subscriptions.push(NZ(n.scheme));let o=(0,tv.registerAcceptOrRejectCommands)(t.subscriptions),l=(0,tv.registerInsertAtMentionedCommand)(t.subscriptions,a?.nativeAtMentionCallback?{output:e,context:t,nativeAtMentionCallback:a.nativeAtMentionCallback}:void 0);r||(0,tv.registerRunClaudeCommand)(e,t,s);try{let{httpServer:c,authToken:u,dispose:d}=(0,rC.createMcpServer)(t,i,n,e,o,l,s);(0,rC.startMcpServer)(c,u,t,e).catch(h=>{e.error("Failed to start MCP server:",h),Ui.window.showErrorMessage(`Failed to start MCP server: ${h}`)}),t.subscriptions.push({dispose:async()=>{await d()}})}catch(c){e.error("Error during extension activation:",c),Ui.window.showErrorMessage(`Failed to activate Claude Code extension: ${c}`)}}function jZ(){console.log("Claude code extension is now deactivated")}function NZ(t){return Ui.window.onDidChangeVisibleTextEditors(e=>{let r=e.some(a=>a?.document.uri.scheme===t);Ui.commands.executeCommand("setContext","claude-code.viewingProposedDiff",r)})}});var rv=j(zi=>{"use strict";Object.defineProperty(zi,"__esModule",{value:!0});zi.getDiagnostics=zi.activateExtension=void 0;var $Z=aC();Object.defineProperty(zi,"activateExtension",{enumerable:!0,get:function(){return $Z.activateExtension}});var LZ=Ku();Object.defineProperty(zi,"getDiagnostics",{enumerable:!0,get:function(){return LZ.getDiagnostics}})});var hC=j((RY,mC)=>{var fC=require("stream").Stream,wV=require("util");mC.exports=ca;function ca(){this.source=null,this.dataSize=0,this.maxDataSize=1024*1024,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}wV.inherits(ca,fC);ca.create=function(t,e){var r=new this;e=e||{};for(var a in e)r[a]=e[a];r.source=t;var s=t.emit;return t.emit=function(){return r._handleEmit(arguments),s.apply(t,arguments)},t.on("error",function(){}),r.pauseStream&&t.pause(),r};Object.defineProperty(ca.prototype,"readable",{configurable:!0,enumerable:!0,get:function(){return this.source.readable}});ca.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)};ca.prototype.resume=function(){this._released||this.release(),this.source.resume()};ca.prototype.pause=function(){this.source.pause()};ca.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach(function(t){this.emit.apply(this,t)}.bind(this)),this._bufferedEvents=[]};ca.prototype.pipe=function(){var t=fC.prototype.pipe.apply(this,arguments);return this.resume(),t};ca.prototype._handleEmit=function(t){if(this._released){this.emit.apply(this,t);return}t[0]==="data"&&(this.dataSize+=t[1].length,this._checkIfMaxDataSizeExceeded()),this._bufferedEvents.push(t)};ca.prototype._checkIfMaxDataSizeExceeded=function(){if(!this._maxDataSizeExceeded&&!(this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var t="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this.emit("error",new Error(t))}}});var xC=j((CY,yC)=>{var SV=require("util"),gC=require("stream").Stream,vC=hC();yC.exports=Et;function Et(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2*1024*1024,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null,this._insideLoop=!1,this._pendingNext=!1}SV.inherits(Et,gC);Et.create=function(t){var e=new this;t=t||{};for(var r in t)e[r]=t[r];return e};Et.isStreamLike=function(t){return typeof t!="function"&&typeof t!="string"&&typeof t!="boolean"&&typeof t!="number"&&!Buffer.isBuffer(t)};Et.prototype.append=function(t){var e=Et.isStreamLike(t);if(e){if(!(t instanceof vC)){var r=vC.create(t,{maxDataSize:1/0,pauseStream:this.pauseStreams});t.on("data",this._checkDataSize.bind(this)),t=r}this._handleErrors(t),this.pauseStreams&&t.pause()}return this._streams.push(t),this};Et.prototype.pipe=function(t,e){return gC.prototype.pipe.call(this,t,e),this.resume(),t};Et.prototype._getNext=function(){if(this._currentStream=null,this._insideLoop){this._pendingNext=!0;return}this._insideLoop=!0;try{do this._pendingNext=!1,this._realGetNext();while(this._pendingNext)}finally{this._insideLoop=!1}};Et.prototype._realGetNext=function(){var t=this._streams.shift();if(typeof t>"u"){this.end();return}if(typeof t!="function"){this._pipeNext(t);return}var e=t;e(function(r){var a=Et.isStreamLike(r);a&&(r.on("data",this._checkDataSize.bind(this)),this._handleErrors(r)),this._pipeNext(r)}.bind(this))};Et.prototype._pipeNext=function(t){this._currentStream=t;var e=Et.isStreamLike(t);if(e){t.on("end",this._getNext.bind(this)),t.pipe(this,{end:!1});return}var r=t;this.write(r),this._getNext()};Et.prototype._handleErrors=function(t){var e=this;t.on("error",function(r){e._emitError(r)})};Et.prototype.write=function(t){this.emit("data",t)};Et.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&typeof this._currentStream.pause=="function"&&this._currentStream.pause(),this.emit("pause"))};Et.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&typeof this._currentStream.resume=="function"&&this._currentStream.resume(),this.emit("resume")};Et.prototype.end=function(){this._reset(),this.emit("end")};Et.prototype.destroy=function(){this._reset(),this.emit("close")};Et.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null};Et.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var t="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this._emitError(new Error(t))}};Et.prototype._updateDataSize=function(){this.dataSize=0;var t=this;this._streams.forEach(function(e){e.dataSize&&(t.dataSize+=e.dataSize)}),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)};Et.prototype._emitError=function(t){this._reset(),this.emit("error",t)}});var bC=j((TY,EV)=>{EV.exports={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/ace+cbor":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/at+jwt":{source:"iana"},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/city+json":{source:"iana",compressible:!0},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0,extensions:["cpl"]},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dash-patch+xml":{source:"iana",compressible:!0,extensions:["mpp"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["es","ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/express":{source:"iana",extensions:["exp"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0,extensions:["mpf"]},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/missing-blocks+cbor-seq":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/oblivious-dns-message":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p21":{source:"iana"},"application/p21+zip":{source:"iana",compressible:!1},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana",extensions:["asc"]},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spdx+json":{source:"iana",compressible:!0},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/token-introspection+jwt":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana",extensions:["trig"]},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.age":{source:"iana",extensions:["age"]},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.arrow.file":{source:"iana"},"application/vnd.apache.arrow.stream":{source:"iana"},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.eclipse.ditto+json":{source:"iana",compressible:!0},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eu.kasparian.car+json":{source:"iana",compressible:!0},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.familysearch.gedcom+zip":{source:"iana",compressible:!1},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hl7cda+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hl7v2+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxar.archive.3tz+zip":{source:"iana",compressible:!1},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.nacamar.ybrid+json":{source:"iana",compressible:!0},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.opentimestamps.ots":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.resilient.logic":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.syft+json":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veritone.aion+json":{source:"iana",compressible:!0},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0,extensions:["wif"]},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-iwork-keynote-sffkey":{extensions:["key"]},"application/x-iwork-numbers-sffnumbers":{extensions:["numbers"]},"application/x-iwork-pages-sffpages":{extensions:["pages"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana",extensions:["avci"]},"image/avcs":{source:"iana",extensions:["avcs"]},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",compressible:!0,extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{compressible:!0,extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/step":{source:"iana"},"model/step+xml":{source:"iana",compressible:!0,extensions:["stpx"]},"model/step+zip":{source:"iana",compressible:!1,extensions:["stpz"]},"model/step-xml+zip":{source:"iana",compressible:!1,extensions:["stpxz"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.familysearch.gedcom":{source:"iana",extensions:["ged"]},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/jxsv":{source:"iana"},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/vp9":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}}});var wC=j((OY,_C)=>{_C.exports=bC()});var PC=j(lr=>{"use strict";var bd=wC(),PV=require("path").extname,SC=/^\s*([^;\s]*)(?:;|\s|$)/,RV=/^text\//i;lr.charset=EC;lr.charsets={lookup:EC};lr.contentType=CV;lr.extension=TV;lr.extensions=Object.create(null);lr.lookup=OV;lr.types=Object.create(null);IV(lr.extensions,lr.types);function EC(t){if(!t||typeof t!="string")return!1;var e=SC.exec(t),r=e&&bd[e[1].toLowerCase()];return r&&r.charset?r.charset:e&&RV.test(e[1])?"UTF-8":!1}function CV(t){if(!t||typeof t!="string")return!1;var e=t.indexOf("/")===-1?lr.lookup(t):t;if(!e)return!1;if(e.indexOf("charset")===-1){var r=lr.charset(e);r&&(e+="; charset="+r.toLowerCase())}return e}function TV(t){if(!t||typeof t!="string")return!1;var e=SC.exec(t),r=e&&lr.extensions[e[1].toLowerCase()];return!r||!r.length?!1:r[0]}function OV(t){if(!t||typeof t!="string")return!1;var e=PV("x."+t).toLowerCase().substr(1);return e&&lr.types[e]||!1}function IV(t,e){var r=["nginx","apache",void 0,"iana"];Object.keys(bd).forEach(function(s){var i=bd[s],n=i.extensions;if(!(!n||!n.length)){t[s]=n;for(var o=0;o<n.length;o++){var l=n[o];if(e[l]){var c=r.indexOf(bd[e[l]].source),u=r.indexOf(i.source);if(e[l]!=="application/octet-stream"&&(c>u||c===u&&e[l].substr(0,12)==="application/"))continue}e[l]=s}}})}});var CC=j((AY,RC)=>{RC.exports=AV;function AV(t){var e=typeof setImmediate=="function"?setImmediate:typeof process=="object"&&typeof process.nextTick=="function"?process.nextTick:null;e?e(t):setTimeout(t,0)}});var iv=j((kY,OC)=>{var TC=CC();OC.exports=kV;function kV(t){var e=!1;return TC(function(){e=!0}),function(a,s){e?t(a,s):TC(function(){t(a,s)})}}});var ov=j((DY,IC)=>{IC.exports=DV;function DV(t){Object.keys(t.jobs).forEach(jV.bind(t)),t.jobs={}}function jV(t){typeof this.jobs[t]=="function"&&this.jobs[t]()}});var cv=j((jY,kC)=>{var AC=iv(),NV=ov();kC.exports=$V;function $V(t,e,r,a){var s=r.keyedList?r.keyedList[r.index]:r.index;r.jobs[s]=LV(e,s,t[s],function(i,n){s in r.jobs&&(delete r.jobs[s],i?NV(r):r.results[s]=n,a(i,r.results))})}function LV(t,e,r,a){var s;return t.length==2?s=t(r,AC(a)):s=t(r,e,AC(a)),s}});var lv=j((NY,DC)=>{DC.exports=FV;function FV(t,e){var r=!Array.isArray(t),a={index:0,keyedList:r||e?Object.keys(t):null,jobs:{},results:r?{}:[],size:r?Object.keys(t).length:t.length};return e&&a.keyedList.sort(r?e:function(s,i){return e(t[s],t[i])}),a}});var uv=j(($Y,jC)=>{var MV=ov(),qV=iv();jC.exports=UV;function UV(t){Object.keys(this.jobs).length&&(this.index=this.size,MV(this),qV(t)(null,this.results))}});var $C=j((LY,NC)=>{var zV=cv(),BV=lv(),ZV=uv();NC.exports=VV;function VV(t,e,r){for(var a=BV(t);a.index<(a.keyedList||t).length;)zV(t,e,a,function(s,i){if(s){r(s,i);return}if(Object.keys(a.jobs).length===0){r(null,a.results);return}}),a.index++;return ZV.bind(a,r)}});var dv=j((FY,_d)=>{var LC=cv(),HV=lv(),GV=uv();_d.exports=WV;_d.exports.ascending=FC;_d.exports.descending=KV;function WV(t,e,r,a){var s=HV(t,r);return LC(t,e,s,function i(n,o){if(n){a(n,o);return}if(s.index++,s.index<(s.keyedList||t).length){LC(t,e,s,i);return}a(null,s.results)}),GV.bind(s,a)}function FC(t,e){return t<e?-1:t>e?1:0}function KV(t,e){return-1*FC(t,e)}});var qC=j((MY,MC)=>{var JV=dv();MC.exports=QV;function QV(t,e,r){return JV(t,e,null,r)}});var zC=j((qY,UC)=>{UC.exports={parallel:$C(),serial:qC(),serialOrdered:dv()}});var pv=j((UY,BC)=>{"use strict";BC.exports=Object});var VC=j((zY,ZC)=>{"use strict";ZC.exports=Error});var GC=j((BY,HC)=>{"use strict";HC.exports=EvalError});var KC=j((ZY,WC)=>{"use strict";WC.exports=RangeError});var QC=j((VY,JC)=>{"use strict";JC.exports=ReferenceError});var XC=j((HY,YC)=>{"use strict";YC.exports=SyntaxError});var wd=j((GY,eT)=>{"use strict";eT.exports=TypeError});var rT=j((WY,tT)=>{"use strict";tT.exports=URIError});var sT=j((KY,aT)=>{"use strict";aT.exports=Math.abs});var iT=j((JY,nT)=>{"use strict";nT.exports=Math.floor});var cT=j((QY,oT)=>{"use strict";oT.exports=Math.max});var uT=j((YY,lT)=>{"use strict";lT.exports=Math.min});var pT=j((XY,dT)=>{"use strict";dT.exports=Math.pow});var mT=j((eX,fT)=>{"use strict";fT.exports=Math.round});var vT=j((tX,hT)=>{"use strict";hT.exports=Number.isNaN||function(e){return e!==e}});var yT=j((rX,gT)=>{"use strict";var YV=vT();gT.exports=function(e){return YV(e)||e===0?e:e<0?-1:1}});var bT=j((aX,xT)=>{"use strict";xT.exports=Object.getOwnPropertyDescriptor});var fv=j((sX,_T)=>{"use strict";var Sd=bT();if(Sd)try{Sd([],"length")}catch{Sd=null}_T.exports=Sd});var ST=j((nX,wT)=>{"use strict";var Ed=Object.defineProperty||!1;if(Ed)try{Ed({},"a",{value:1})}catch{Ed=!1}wT.exports=Ed});var mv=j((iX,ET)=>{"use strict";ET.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),a=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(a)!=="[object Symbol]")return!1;var s=42;e[r]=s;for(var i in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var n=Object.getOwnPropertySymbols(e);if(n.length!==1||n[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==s||o.enumerable!==!0)return!1}return!0}});var CT=j((oX,RT)=>{"use strict";var PT=typeof Symbol<"u"&&Symbol,XV=mv();RT.exports=function(){return typeof PT!="function"||typeof Symbol!="function"||typeof PT("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:XV()}});var hv=j((cX,TT)=>{"use strict";TT.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null});var vv=j((lX,OT)=>{"use strict";var eH=pv();OT.exports=eH.getPrototypeOf||null});var kT=j((uX,AT)=>{"use strict";var tH="Function.prototype.bind called on incompatible ",rH=Object.prototype.toString,aH=Math.max,sH="[object Function]",IT=function(e,r){for(var a=[],s=0;s<e.length;s+=1)a[s]=e[s];for(var i=0;i<r.length;i+=1)a[i+e.length]=r[i];return a},nH=function(e,r){for(var a=[],s=r||0,i=0;s<e.length;s+=1,i+=1)a[i]=e[s];return a},iH=function(t,e){for(var r="",a=0;a<t.length;a+=1)r+=t[a],a+1<t.length&&(r+=e);return r};AT.exports=function(e){var r=this;if(typeof r!="function"||rH.apply(r)!==sH)throw new TypeError(tH+r);for(var a=nH(arguments,1),s,i=function(){if(this instanceof s){var u=r.apply(this,IT(a,arguments));return Object(u)===u?u:this}return r.apply(e,IT(a,arguments))},n=aH(0,r.length-a.length),o=[],l=0;l<n;l++)o[l]="$"+l;if(s=Function("binder","return function ("+iH(o,",")+"){ return binder.apply(this,arguments); }")(i),r.prototype){var c=function(){};c.prototype=r.prototype,s.prototype=new c,c.prototype=null}return s}});var lc=j((dX,DT)=>{"use strict";var oH=kT();DT.exports=Function.prototype.bind||oH});var Pd=j((pX,jT)=>{"use strict";jT.exports=Function.prototype.call});var gv=j((fX,NT)=>{"use strict";NT.exports=Function.prototype.apply});var LT=j((mX,$T)=>{"use strict";$T.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply});var MT=j((hX,FT)=>{"use strict";var cH=lc(),lH=gv(),uH=Pd(),dH=LT();FT.exports=dH||cH.call(uH,lH)});var UT=j((vX,qT)=>{"use strict";var pH=lc(),fH=wd(),mH=Pd(),hH=MT();qT.exports=function(e){if(e.length<1||typeof e[0]!="function")throw new fH("a function is required");return hH(pH,mH,e)}});var GT=j((gX,HT)=>{"use strict";var vH=UT(),zT=fv(),ZT;try{ZT=[].__proto__===Array.prototype}catch(t){if(!t||typeof t!="object"||!("code"in t)||t.code!=="ERR_PROTO_ACCESS")throw t}var yv=!!ZT&&zT&&zT(Object.prototype,"__proto__"),VT=Object,BT=VT.getPrototypeOf;HT.exports=yv&&typeof yv.get=="function"?vH([yv.get]):typeof BT=="function"?function(e){return BT(e==null?e:VT(e))}:!1});var YT=j((yX,QT)=>{"use strict";var WT=hv(),KT=vv(),JT=GT();QT.exports=WT?function(e){return WT(e)}:KT?function(e){if(!e||typeof e!="object"&&typeof e!="function")throw new TypeError("getProto: not an object");return KT(e)}:JT?function(e){return JT(e)}:null});var xv=j((xX,XT)=>{"use strict";var gH=Function.prototype.call,yH=Object.prototype.hasOwnProperty,xH=lc();XT.exports=xH.call(gH,yH)});var iO=j((bX,nO)=>{"use strict";var et,bH=pv(),_H=VC(),wH=GC(),SH=KC(),EH=QC(),Wi=XC(),Gi=wd(),PH=rT(),RH=sT(),CH=iT(),TH=cT(),OH=uT(),IH=pT(),AH=mT(),kH=yT(),aO=Function,bv=function(t){try{return aO('"use strict"; return ('+t+").constructor;")()}catch{}},uc=fv(),DH=ST(),_v=function(){throw new Gi},jH=uc?function(){try{return arguments.callee,_v}catch{try{return uc(arguments,"callee").get}catch{return _v}}}():_v,Vi=CT()(),jt=YT(),NH=vv(),$H=hv(),sO=gv(),dc=Pd(),Hi={},LH=typeof Uint8Array>"u"||!jt?et:jt(Uint8Array),jn={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?et:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?et:ArrayBuffer,"%ArrayIteratorPrototype%":Vi&&jt?jt([][Symbol.iterator]()):et,"%AsyncFromSyncIteratorPrototype%":et,"%AsyncFunction%":Hi,"%AsyncGenerator%":Hi,"%AsyncGeneratorFunction%":Hi,"%AsyncIteratorPrototype%":Hi,"%Atomics%":typeof Atomics>"u"?et:Atomics,"%BigInt%":typeof BigInt>"u"?et:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?et:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?et:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?et:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":_H,"%eval%":eval,"%EvalError%":wH,"%Float16Array%":typeof Float16Array>"u"?et:Float16Array,"%Float32Array%":typeof Float32Array>"u"?et:Float32Array,"%Float64Array%":typeof Float64Array>"u"?et:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?et:FinalizationRegistry,"%Function%":aO,"%GeneratorFunction%":Hi,"%Int8Array%":typeof Int8Array>"u"?et:Int8Array,"%Int16Array%":typeof Int16Array>"u"?et:Int16Array,"%Int32Array%":typeof Int32Array>"u"?et:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Vi&&jt?jt(jt([][Symbol.iterator]())):et,"%JSON%":typeof JSON=="object"?JSON:et,"%Map%":typeof Map>"u"?et:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Vi||!jt?et:jt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":bH,"%Object.getOwnPropertyDescriptor%":uc,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?et:Promise,"%Proxy%":typeof Proxy>"u"?et:Proxy,"%RangeError%":SH,"%ReferenceError%":EH,"%Reflect%":typeof Reflect>"u"?et:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?et:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Vi||!jt?et:jt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?et:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Vi&&jt?jt(""[Symbol.iterator]()):et,"%Symbol%":Vi?Symbol:et,"%SyntaxError%":Wi,"%ThrowTypeError%":jH,"%TypedArray%":LH,"%TypeError%":Gi,"%Uint8Array%":typeof Uint8Array>"u"?et:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?et:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?et:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?et:Uint32Array,"%URIError%":PH,"%WeakMap%":typeof WeakMap>"u"?et:WeakMap,"%WeakRef%":typeof WeakRef>"u"?et:WeakRef,"%WeakSet%":typeof WeakSet>"u"?et:WeakSet,"%Function.prototype.call%":dc,"%Function.prototype.apply%":sO,"%Object.defineProperty%":DH,"%Object.getPrototypeOf%":NH,"%Math.abs%":RH,"%Math.floor%":CH,"%Math.max%":TH,"%Math.min%":OH,"%Math.pow%":IH,"%Math.round%":AH,"%Math.sign%":kH,"%Reflect.getPrototypeOf%":$H};if(jt)try{null.error}catch(t){eO=jt(jt(t)),jn["%Error.prototype%"]=eO}var eO,FH=function t(e){var r;if(e==="%AsyncFunction%")r=bv("async function () {}");else if(e==="%GeneratorFunction%")r=bv("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=bv("async function* () {}");else if(e==="%AsyncGenerator%"){var a=t("%AsyncGeneratorFunction%");a&&(r=a.prototype)}else if(e==="%AsyncIteratorPrototype%"){var s=t("%AsyncGenerator%");s&&jt&&(r=jt(s.prototype))}return jn[e]=r,r},tO={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},pc=lc(),Rd=xv(),MH=pc.call(dc,Array.prototype.concat),qH=pc.call(sO,Array.prototype.splice),rO=pc.call(dc,String.prototype.replace),Cd=pc.call(dc,String.prototype.slice),UH=pc.call(dc,RegExp.prototype.exec),zH=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,BH=/\\(\\)?/g,ZH=function(e){var r=Cd(e,0,1),a=Cd(e,-1);if(r==="%"&&a!=="%")throw new Wi("invalid intrinsic syntax, expected closing `%`");if(a==="%"&&r!=="%")throw new Wi("invalid intrinsic syntax, expected opening `%`");var s=[];return rO(e,zH,function(i,n,o,l){s[s.length]=o?rO(l,BH,"$1"):n||i}),s},VH=function(e,r){var a=e,s;if(Rd(tO,a)&&(s=tO[a],a="%"+s[0]+"%"),Rd(jn,a)){var i=jn[a];if(i===Hi&&(i=FH(a)),typeof i>"u"&&!r)throw new Gi("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:s,name:a,value:i}}throw new Wi("intrinsic "+e+" does not exist!")};nO.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new Gi("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Gi('"allowMissing" argument must be a boolean');if(UH(/^%?[^%]*%?$/,e)===null)throw new Wi("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var a=ZH(e),s=a.length>0?a[0]:"",i=VH("%"+s+"%",r),n=i.name,o=i.value,l=!1,c=i.alias;c&&(s=c[0],qH(a,MH([0,1],c)));for(var u=1,d=!0;u<a.length;u+=1){var h=a[u],p=Cd(h,0,1),m=Cd(h,-1);if((p==='"'||p==="'"||p==="`"||m==='"'||m==="'"||m==="`")&&p!==m)throw new Wi("property names with quotes must have matching quotes");if((h==="constructor"||!d)&&(l=!0),s+="."+h,n="%"+s+"%",Rd(jn,n))o=jn[n];else if(o!=null){if(!(h in o)){if(!r)throw new Gi("base intrinsic for "+e+" exists, but the property is not available.");return}if(uc&&u+1>=a.length){var f=uc(o,h);d=!!f,d&&"get"in f&&!("originalValue"in f.get)?o=f.get:o=o[h]}else d=Rd(o,h),o=o[h];d&&!l&&(jn[n]=o)}}return o}});var cO=j((_X,oO)=>{"use strict";var HH=mv();oO.exports=function(){return HH()&&!!Symbol.toStringTag}});var dO=j((wX,uO)=>{"use strict";var GH=iO(),lO=GH("%Object.defineProperty%",!0),WH=cO()(),KH=xv(),JH=wd(),Td=WH?Symbol.toStringTag:null;uO.exports=function(e,r){var a=arguments.length>2&&!!arguments[2]&&arguments[2].force,s=arguments.length>2&&!!arguments[2]&&arguments[2].nonConfigurable;if(typeof a<"u"&&typeof a!="boolean"||typeof s<"u"&&typeof s!="boolean")throw new JH("if provided, the `overrideIfSet` and `nonConfigurable` options must be booleans");Td&&(a||!KH(e,Td))&&(lO?lO(e,Td,{configurable:!s,enumerable:!1,value:r,writable:!1}):e[Td]=r)}});var fO=j((SX,pO)=>{pO.exports=function(t,e){return Object.keys(e).forEach(function(r){t[r]=t[r]||e[r]}),t}});var hO=j((EX,mO)=>{var Pv=xC(),QH=require("util"),wv=require("path"),YH=require("http"),XH=require("https"),e6=require("url").parse,t6=require("fs"),r6=require("stream").Stream,Sv=PC(),a6=zC(),s6=dO(),Ev=fO();mO.exports=nt;QH.inherits(nt,Pv);function nt(t){if(!(this instanceof nt))return new nt(t);this._overheadLength=0,this._valueLength=0,this._valuesToMeasure=[],Pv.call(this),t=t||{};for(var e in t)this[e]=t[e]}nt.LINE_BREAK=`\r
`;nt.DEFAULT_CONTENT_TYPE="application/octet-stream";nt.prototype.append=function(t,e,r){r=r||{},typeof r=="string"&&(r={filename:r});var a=Pv.prototype.append.bind(this);if(typeof e=="number"&&(e=""+e),Array.isArray(e)){this._error(new Error("Arrays are not supported."));return}var s=this._multiPartHeader(t,e,r),i=this._multiPartFooter();a(s),a(e),a(i),this._trackLength(s,e,r)};nt.prototype._trackLength=function(t,e,r){var a=0;r.knownLength!=null?a+=+r.knownLength:Buffer.isBuffer(e)?a=e.length:typeof e=="string"&&(a=Buffer.byteLength(e)),this._valueLength+=a,this._overheadLength+=Buffer.byteLength(t)+nt.LINE_BREAK.length,!(!e||!e.path&&!(e.readable&&Object.prototype.hasOwnProperty.call(e,"httpVersion"))&&!(e instanceof r6))&&(r.knownLength||this._valuesToMeasure.push(e))};nt.prototype._lengthRetriever=function(t,e){Object.prototype.hasOwnProperty.call(t,"fd")?t.end!=null&&t.end!=1/0&&t.start!=null?e(null,t.end+1-(t.start?t.start:0)):t6.stat(t.path,function(r,a){var s;if(r){e(r);return}s=a.size-(t.start?t.start:0),e(null,s)}):Object.prototype.hasOwnProperty.call(t,"httpVersion")?e(null,+t.headers["content-length"]):Object.prototype.hasOwnProperty.call(t,"httpModule")?(t.on("response",function(r){t.pause(),e(null,+r.headers["content-length"])}),t.resume()):e("Unknown stream")};nt.prototype._multiPartHeader=function(t,e,r){if(typeof r.header=="string")return r.header;var a=this._getContentDisposition(e,r),s=this._getContentType(e,r),i="",n={"Content-Disposition":["form-data",'name="'+t+'"'].concat(a||[]),"Content-Type":[].concat(s||[])};typeof r.header=="object"&&Ev(n,r.header);var o;for(var l in n)if(Object.prototype.hasOwnProperty.call(n,l)){if(o=n[l],o==null)continue;Array.isArray(o)||(o=[o]),o.length&&(i+=l+": "+o.join("; ")+nt.LINE_BREAK)}return"--"+this.getBoundary()+nt.LINE_BREAK+i+nt.LINE_BREAK};nt.prototype._getContentDisposition=function(t,e){var r,a;return typeof e.filepath=="string"?r=wv.normalize(e.filepath).replace(/\\/g,"/"):e.filename||t.name||t.path?r=wv.basename(e.filename||t.name||t.path):t.readable&&Object.prototype.hasOwnProperty.call(t,"httpVersion")&&(r=wv.basename(t.client._httpMessage.path||"")),r&&(a='filename="'+r+'"'),a};nt.prototype._getContentType=function(t,e){var r=e.contentType;return!r&&t.name&&(r=Sv.lookup(t.name)),!r&&t.path&&(r=Sv.lookup(t.path)),!r&&t.readable&&Object.prototype.hasOwnProperty.call(t,"httpVersion")&&(r=t.headers["content-type"]),!r&&(e.filepath||e.filename)&&(r=Sv.lookup(e.filepath||e.filename)),!r&&typeof t=="object"&&(r=nt.DEFAULT_CONTENT_TYPE),r};nt.prototype._multiPartFooter=function(){return function(t){var e=nt.LINE_BREAK,r=this._streams.length===0;r&&(e+=this._lastBoundary()),t(e)}.bind(this)};nt.prototype._lastBoundary=function(){return"--"+this.getBoundary()+"--"+nt.LINE_BREAK};nt.prototype.getHeaders=function(t){var e,r={"content-type":"multipart/form-data; boundary="+this.getBoundary()};for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e.toLowerCase()]=t[e]);return r};nt.prototype.setBoundary=function(t){this._boundary=t};nt.prototype.getBoundary=function(){return this._boundary||this._generateBoundary(),this._boundary};nt.prototype.getBuffer=function(){for(var t=new Buffer.alloc(0),e=this.getBoundary(),r=0,a=this._streams.length;r<a;r++)typeof this._streams[r]!="function"&&(Buffer.isBuffer(this._streams[r])?t=Buffer.concat([t,this._streams[r]]):t=Buffer.concat([t,Buffer.from(this._streams[r])]),(typeof this._streams[r]!="string"||this._streams[r].substring(2,e.length+2)!==e)&&(t=Buffer.concat([t,Buffer.from(nt.LINE_BREAK)])));return Buffer.concat([t,Buffer.from(this._lastBoundary())])};nt.prototype._generateBoundary=function(){for(var t="--------------------------",e=0;e<24;e++)t+=Math.floor(Math.random()*10).toString(16);this._boundary=t};nt.prototype.getLengthSync=function(){var t=this._overheadLength+this._valueLength;return this._streams.length&&(t+=this._lastBoundary().length),this.hasKnownLength()||this._error(new Error("Cannot calculate proper length in synchronous way.")),t};nt.prototype.hasKnownLength=function(){var t=!0;return this._valuesToMeasure.length&&(t=!1),t};nt.prototype.getLength=function(t){var e=this._overheadLength+this._valueLength;if(this._streams.length&&(e+=this._lastBoundary().length),!this._valuesToMeasure.length){process.nextTick(t.bind(this,null,e));return}a6.parallel(this._valuesToMeasure,this._lengthRetriever,function(r,a){if(r){t(r);return}a.forEach(function(s){e+=s}),t(null,e)})};nt.prototype.submit=function(t,e){var r,a,s={method:"post"};return typeof t=="string"?(t=e6(t),a=Ev({port:t.port,path:t.pathname,host:t.hostname,protocol:t.protocol},s)):(a=Ev(t,s),a.port||(a.port=a.protocol=="https:"?443:80)),a.headers=this.getHeaders(t.headers),a.protocol=="https:"?r=XH.request(a):r=YH.request(a),this.getLength(function(i,n){if(i&&i!=="Unknown stream"){this._error(i);return}if(n&&r.setHeader("Content-Length",n),this.pipe(r),e){var o,l=function(c,u){return r.removeListener("error",l),r.removeListener("response",o),e.call(this,c,u)};o=l.bind(this,null),r.on("error",l),r.on("response",o)}}.bind(this)),r};nt.prototype._error=function(t){this.error||(this.error=t,this.pause(),this.emit("error",t))};nt.prototype.toString=function(){return"[object FormData]"};s6(nt,"FormData")});var DO=j(kO=>{"use strict";var w6=require("url").parse,S6={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},E6=String.prototype.endsWith||function(t){return t.length<=this.length&&this.indexOf(t,this.length-t.length)!==-1};function P6(t){var e=typeof t=="string"?w6(t):t||{},r=e.protocol,a=e.host,s=e.port;if(typeof a!="string"||!a||typeof r!="string"||(r=r.split(":",1)[0],a=a.replace(/:\d*$/,""),s=parseInt(s)||S6[r]||0,!R6(a,s)))return"";var i=Yi("npm_config_"+r+"_proxy")||Yi(r+"_proxy")||Yi("npm_config_proxy")||Yi("all_proxy");return i&&i.indexOf("://")===-1&&(i=r+"://"+i),i}function R6(t,e){var r=(Yi("npm_config_no_proxy")||Yi("no_proxy")).toLowerCase();return r?r==="*"?!1:r.split(/[,\s]/).every(function(a){if(!a)return!0;var s=a.match(/^(.+):(\d+)$/),i=s?s[1]:a,n=s?parseInt(s[2]):0;return n&&n!==e?!0:/^[.*]/.test(i)?(i.charAt(0)==="*"&&(i=i.slice(1)),!E6.call(t,i)):t!==i}):!0}function Yi(t){return process.env[t.toLowerCase()]||process.env[t.toUpperCase()]||""}kO.getProxyForUrl=P6});var NO=j((Pee,jO)=>{var Xi=1e3,eo=Xi*60,to=eo*60,Ln=to*24,C6=Ln*7,T6=Ln*365.25;jO.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return O6(t);if(r==="number"&&isFinite(t))return e.long?A6(t):I6(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function O6(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),a=(e[2]||"ms").toLowerCase();switch(a){case"years":case"year":case"yrs":case"yr":case"y":return r*T6;case"weeks":case"week":case"w":return r*C6;case"days":case"day":case"d":return r*Ln;case"hours":case"hour":case"hrs":case"hr":case"h":return r*to;case"minutes":case"minute":case"mins":case"min":case"m":return r*eo;case"seconds":case"second":case"secs":case"sec":case"s":return r*Xi;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function I6(t){var e=Math.abs(t);return e>=Ln?Math.round(t/Ln)+"d":e>=to?Math.round(t/to)+"h":e>=eo?Math.round(t/eo)+"m":e>=Xi?Math.round(t/Xi)+"s":t+"ms"}function A6(t){var e=Math.abs(t);return e>=Ln?kd(t,e,Ln,"day"):e>=to?kd(t,e,to,"hour"):e>=eo?kd(t,e,eo,"minute"):e>=Xi?kd(t,e,Xi,"second"):t+" ms"}function kd(t,e,r,a){var s=e>=r*1.5;return Math.round(t/r)+" "+a+(s?"s":"")}});var Fv=j((Ree,$O)=>{function k6(t){r.debug=r,r.default=r,r.coerce=l,r.disable=n,r.enable=s,r.enabled=o,r.humanize=NO(),r.destroy=c,Object.keys(t).forEach(u=>{r[u]=t[u]}),r.names=[],r.skips=[],r.formatters={};function e(u){let d=0;for(let h=0;h<u.length;h++)d=(d<<5)-d+u.charCodeAt(h),d|=0;return r.colors[Math.abs(d)%r.colors.length]}r.selectColor=e;function r(u){let d,h=null,p,m;function f(...v){if(!f.enabled)return;let g=f,b=Number(new Date),w=b-(d||b);g.diff=w,g.prev=d,g.curr=b,d=b,v[0]=r.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let C=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(R,O)=>{if(R==="%%")return"%";C++;let L=r.formatters[O];if(typeof L=="function"){let N=v[C];R=L.call(g,N),v.splice(C,1),C--}return R}),r.formatArgs.call(g,v),(g.log||r.log).apply(g,v)}return f.namespace=u,f.useColors=r.useColors(),f.color=r.selectColor(u),f.extend=a,f.destroy=r.destroy,Object.defineProperty(f,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(p!==r.namespaces&&(p=r.namespaces,m=r.enabled(u)),m),set:v=>{h=v}}),typeof r.init=="function"&&r.init(f),f}function a(u,d){let h=r(this.namespace+(typeof d>"u"?":":d)+u);return h.log=this.log,h}function s(u){r.save(u),r.namespaces=u,r.names=[],r.skips=[];let d=(typeof u=="string"?u:"").trim().replace(" ",",").split(",").filter(Boolean);for(let h of d)h[0]==="-"?r.skips.push(h.slice(1)):r.names.push(h)}function i(u,d){let h=0,p=0,m=-1,f=0;for(;h<u.length;)if(p<d.length&&(d[p]===u[h]||d[p]==="*"))d[p]==="*"?(m=p,f=h,p++):(h++,p++);else if(m!==-1)p=m+1,f++,h=f;else return!1;for(;p<d.length&&d[p]==="*";)p++;return p===d.length}function n(){let u=[...r.names,...r.skips.map(d=>"-"+d)].join(",");return r.enable(""),u}function o(u){for(let d of r.skips)if(i(u,d))return!1;for(let d of r.names)if(i(u,d))return!0;return!1}function l(u){return u instanceof Error?u.stack||u.message:u}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}$O.exports=k6});var LO=j((Cr,Dd)=>{Cr.formatArgs=j6;Cr.save=N6;Cr.load=$6;Cr.useColors=D6;Cr.storage=L6();Cr.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Cr.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function D6(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function j6(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+Dd.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,a=0;t[0].replace(/%[a-zA-Z%]/g,s=>{s!=="%%"&&(r++,s==="%c"&&(a=r))}),t.splice(a,0,e)}Cr.log=console.debug||console.log||(()=>{});function N6(t){try{t?Cr.storage.setItem("debug",t):Cr.storage.removeItem("debug")}catch{}}function $6(){let t;try{t=Cr.storage.getItem("debug")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function L6(){try{return localStorage}catch{}}Dd.exports=Fv()(Cr);var{formatters:F6}=Dd.exports;F6.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var MO=j((Cee,FO)=>{"use strict";FO.exports=(t,e=process.argv)=>{let r=t.startsWith("-")?"":t.length===1?"-":"--",a=e.indexOf(r+t),s=e.indexOf("--");return a!==-1&&(s===-1||a<s)}});var zO=j((Tee,UO)=>{"use strict";var M6=require("os"),qO=require("tty"),Gr=MO(),{env:Nt}=process,jd;Gr("no-color")||Gr("no-colors")||Gr("color=false")||Gr("color=never")?jd=0:(Gr("color")||Gr("colors")||Gr("color=true")||Gr("color=always"))&&(jd=1);function q6(){if("FORCE_COLOR"in Nt)return Nt.FORCE_COLOR==="true"?1:Nt.FORCE_COLOR==="false"?0:Nt.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(Nt.FORCE_COLOR,10),3)}function U6(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function z6(t,{streamIsTTY:e,sniffFlags:r=!0}={}){let a=q6();a!==void 0&&(jd=a);let s=r?jd:a;if(s===0)return 0;if(r){if(Gr("color=16m")||Gr("color=full")||Gr("color=truecolor"))return 3;if(Gr("color=256"))return 2}if(t&&!e&&s===void 0)return 0;let i=s||0;if(Nt.TERM==="dumb")return i;if(process.platform==="win32"){let n=M6.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in Nt)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(n=>n in Nt)||Nt.CI_NAME==="codeship"?1:i;if("TEAMCITY_VERSION"in Nt)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Nt.TEAMCITY_VERSION)?1:0;if(Nt.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Nt){let n=Number.parseInt((Nt.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Nt.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Nt.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Nt.TERM)||"COLORTERM"in Nt?1:i}function Mv(t,e={}){let r=z6(t,{streamIsTTY:t&&t.isTTY,...e});return U6(r)}UO.exports={supportsColor:Mv,stdout:Mv({isTTY:qO.isatty(1)}),stderr:Mv({isTTY:qO.isatty(2)})}});var ZO=j(($t,$d)=>{var B6=require("tty"),Nd=require("util");$t.init=J6;$t.log=G6;$t.formatArgs=V6;$t.save=W6;$t.load=K6;$t.useColors=Z6;$t.destroy=Nd.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");$t.colors=[6,2,3,4,5,1];try{let t=zO();t&&(t.stderr||t).level>=2&&($t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}$t.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(s,i)=>i.toUpperCase()),a=process.env[e];return/^(yes|on|true|enabled)$/i.test(a)?a=!0:/^(no|off|false|disabled)$/i.test(a)?a=!1:a==="null"?a=null:a=Number(a),t[r]=a,t},{});function Z6(){return"colors"in $t.inspectOpts?!!$t.inspectOpts.colors:B6.isatty(process.stderr.fd)}function V6(t){let{namespace:e,useColors:r}=this;if(r){let a=this.color,s="\x1B[3"+(a<8?a:"8;5;"+a),i=`  ${s};1m${e} \x1B[0m`;t[0]=i+t[0].split(`
`).join(`
`+i),t.push(s+"m+"+$d.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=H6()+e+" "+t[0]}function H6(){return $t.inspectOpts.hideDate?"":new Date().toISOString()+" "}function G6(...t){return process.stderr.write(Nd.formatWithOptions($t.inspectOpts,...t)+`
`)}function W6(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function K6(){return process.env.DEBUG}function J6(t){t.inspectOpts={};let e=Object.keys($t.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=$t.inspectOpts[e[r]]}$d.exports=Fv()($t);var{formatters:BO}=$d.exports;BO.o=function(t){return this.inspectOpts.colors=this.useColors,Nd.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};BO.O=function(t){return this.inspectOpts.colors=this.useColors,Nd.inspect(t,this.inspectOpts)}});var VO=j((Oee,qv)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?qv.exports=LO():qv.exports=ZO()});var GO=j((Iee,HO)=>{var vc;HO.exports=function(){if(!vc){try{vc=VO()("follow-redirects")}catch{}typeof vc!="function"&&(vc=function(){})}vc.apply(null,arguments)}});var YO=j((Aee,Yv)=>{var yc=require("url"),gc=yc.URL,Q6=require("http"),Y6=require("https"),Vv=require("stream").Writable,Hv=require("assert"),WO=GO();(function(){var e=typeof process<"u",r=typeof window<"u"&&typeof document<"u",a=Mn(Error.captureStackTrace);!e&&(r||!a)&&console.warn("The follow-redirects package should be excluded from browser builds.")})();var Gv=!1;try{Hv(new gc(""))}catch(t){Gv=t.code==="ERR_INVALID_URL"}var X6=["auth","host","hostname","href","path","pathname","port","protocol","query","search","hash"],Wv=["abort","aborted","connect","error","socket","timeout"],Kv=Object.create(null);Wv.forEach(function(t){Kv[t]=function(e,r,a){this._redirectable.emit(t,e,r,a)}});var zv=xc("ERR_INVALID_URL","Invalid URL",TypeError),Bv=xc("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),e5=xc("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded",Bv),t5=xc("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),r5=xc("ERR_STREAM_WRITE_AFTER_END","write after end"),a5=Vv.prototype.destroy||JO;function ur(t,e){Vv.call(this),this._sanitizeOptions(t),this._options=t,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],e&&this.on("response",e);var r=this;this._onNativeResponse=function(a){try{r._processResponse(a)}catch(s){r.emit("error",s instanceof Bv?s:new Bv({cause:s}))}},this._performRequest()}ur.prototype=Object.create(Vv.prototype);ur.prototype.abort=function(){Qv(this._currentRequest),this._currentRequest.abort(),this.emit("abort")};ur.prototype.destroy=function(t){return Qv(this._currentRequest,t),a5.call(this,t),this};ur.prototype.write=function(t,e,r){if(this._ending)throw new r5;if(!Fn(t)&&!i5(t))throw new TypeError("data should be a string, Buffer or Uint8Array");if(Mn(e)&&(r=e,e=null),t.length===0){r&&r();return}this._requestBodyLength+t.length<=this._options.maxBodyLength?(this._requestBodyLength+=t.length,this._requestBodyBuffers.push({data:t,encoding:e}),this._currentRequest.write(t,e,r)):(this.emit("error",new t5),this.abort())};ur.prototype.end=function(t,e,r){if(Mn(t)?(r=t,t=e=null):Mn(e)&&(r=e,e=null),!t)this._ended=this._ending=!0,this._currentRequest.end(null,null,r);else{var a=this,s=this._currentRequest;this.write(t,e,function(){a._ended=!0,s.end(null,null,r)}),this._ending=!0}};ur.prototype.setHeader=function(t,e){this._options.headers[t]=e,this._currentRequest.setHeader(t,e)};ur.prototype.removeHeader=function(t){delete this._options.headers[t],this._currentRequest.removeHeader(t)};ur.prototype.setTimeout=function(t,e){var r=this;function a(n){n.setTimeout(t),n.removeListener("timeout",n.destroy),n.addListener("timeout",n.destroy)}function s(n){r._timeout&&clearTimeout(r._timeout),r._timeout=setTimeout(function(){r.emit("timeout"),i()},t),a(n)}function i(){r._timeout&&(clearTimeout(r._timeout),r._timeout=null),r.removeListener("abort",i),r.removeListener("error",i),r.removeListener("response",i),r.removeListener("close",i),e&&r.removeListener("timeout",e),r.socket||r._currentRequest.removeListener("socket",s)}return e&&this.on("timeout",e),this.socket?s(this.socket):this._currentRequest.once("socket",s),this.on("socket",a),this.on("abort",i),this.on("error",i),this.on("response",i),this.on("close",i),this};["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(t){ur.prototype[t]=function(e,r){return this._currentRequest[t](e,r)}});["aborted","connection","socket"].forEach(function(t){Object.defineProperty(ur.prototype,t,{get:function(){return this._currentRequest[t]}})});ur.prototype._sanitizeOptions=function(t){if(t.headers||(t.headers={}),t.host&&(t.hostname||(t.hostname=t.host),delete t.host),!t.pathname&&t.path){var e=t.path.indexOf("?");e<0?t.pathname=t.path:(t.pathname=t.path.substring(0,e),t.search=t.path.substring(e))}};ur.prototype._performRequest=function(){var t=this._options.protocol,e=this._options.nativeProtocols[t];if(!e)throw new TypeError("Unsupported protocol "+t);if(this._options.agents){var r=t.slice(0,-1);this._options.agent=this._options.agents[r]}var a=this._currentRequest=e.request(this._options,this._onNativeResponse);a._redirectable=this;for(var s of Wv)a.on(s,Kv[s]);if(this._currentUrl=/^\//.test(this._options.path)?yc.format(this._options):this._options.path,this._isRedirect){var i=0,n=this,o=this._requestBodyBuffers;(function l(c){if(a===n._currentRequest)if(c)n.emit("error",c);else if(i<o.length){var u=o[i++];a.finished||a.write(u.data,u.encoding,l)}else n._ended&&a.end()})()}};ur.prototype._processResponse=function(t){var e=t.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:t.headers,statusCode:e});var r=t.headers.location;if(!r||this._options.followRedirects===!1||e<300||e>=400){t.responseUrl=this._currentUrl,t.redirects=this._redirects,this.emit("response",t),this._requestBodyBuffers=[];return}if(Qv(this._currentRequest),t.destroy(),++this._redirectCount>this._options.maxRedirects)throw new e5;var a,s=this._options.beforeRedirect;s&&(a=Object.assign({Host:t.req.getHeader("host")},this._options.headers));var i=this._options.method;((e===301||e===302)&&this._options.method==="POST"||e===303&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],Uv(/^content-/i,this._options.headers));var n=Uv(/^host$/i,this._options.headers),o=Jv(this._currentUrl),l=n||o.host,c=/^\w+:/.test(r)?this._currentUrl:yc.format(Object.assign(o,{host:l})),u=s5(r,c);if(WO("redirecting to",u.href),this._isRedirect=!0,Zv(u,this._options),(u.protocol!==o.protocol&&u.protocol!=="https:"||u.host!==l&&!n5(u.host,l))&&Uv(/^(?:(?:proxy-)?authorization|cookie)$/i,this._options.headers),Mn(s)){var d={headers:t.headers,statusCode:e},h={url:c,method:i,headers:a};s(this._options,d,h),this._sanitizeOptions(this._options)}this._performRequest()};function KO(t){var e={maxRedirects:21,maxBodyLength:10485760},r={};return Object.keys(t).forEach(function(a){var s=a+":",i=r[s]=t[a],n=e[a]=Object.create(i);function o(c,u,d){return o5(c)?c=Zv(c):Fn(c)?c=Zv(Jv(c)):(d=u,u=QO(c),c={protocol:s}),Mn(u)&&(d=u,u=null),u=Object.assign({maxRedirects:e.maxRedirects,maxBodyLength:e.maxBodyLength},c,u),u.nativeProtocols=r,!Fn(u.host)&&!Fn(u.hostname)&&(u.hostname="::1"),Hv.equal(u.protocol,s,"protocol mismatch"),WO("options",u),new ur(u,d)}function l(c,u,d){var h=n.request(c,u,d);return h.end(),h}Object.defineProperties(n,{request:{value:o,configurable:!0,enumerable:!0,writable:!0},get:{value:l,configurable:!0,enumerable:!0,writable:!0}})}),e}function JO(){}function Jv(t){var e;if(Gv)e=new gc(t);else if(e=QO(yc.parse(t)),!Fn(e.protocol))throw new zv({input:t});return e}function s5(t,e){return Gv?new gc(t,e):Jv(yc.resolve(e,t))}function QO(t){if(/^\[/.test(t.hostname)&&!/^\[[:0-9a-f]+\]$/i.test(t.hostname))throw new zv({input:t.href||t});if(/^\[/.test(t.host)&&!/^\[[:0-9a-f]+\](:\d+)?$/i.test(t.host))throw new zv({input:t.href||t});return t}function Zv(t,e){var r=e||{};for(var a of X6)r[a]=t[a];return r.hostname.startsWith("[")&&(r.hostname=r.hostname.slice(1,-1)),r.port!==""&&(r.port=Number(r.port)),r.path=r.search?r.pathname+r.search:r.pathname,r}function Uv(t,e){var r;for(var a in e)t.test(a)&&(r=e[a],delete e[a]);return r===null||typeof r>"u"?void 0:String(r).trim()}function xc(t,e,r){function a(s){Mn(Error.captureStackTrace)&&Error.captureStackTrace(this,this.constructor),Object.assign(this,s||{}),this.code=t,this.message=this.cause?e+": "+this.cause.message:e}return a.prototype=new(r||Error),Object.defineProperties(a.prototype,{constructor:{value:a,enumerable:!1},name:{value:"Error ["+t+"]",enumerable:!1}}),a}function Qv(t,e){for(var r of Wv)t.removeListener(r,Kv[r]);t.on("error",JO),t.destroy(e)}function n5(t,e){Hv(Fn(t)&&Fn(e));var r=t.length-e.length-1;return r>0&&t[r]==="."&&t.endsWith(e)}function Fn(t){return typeof t=="string"||t instanceof String}function Mn(t){return typeof t=="function"}function i5(t){return typeof t=="object"&&"length"in t}function o5(t){return gc&&t instanceof gc}Yv.exports=KO({http:Q6,https:Y6});Yv.exports.wrap=KO});var W5={};bg(W5,{activate:()=>z5,deactivate:()=>H5,openTabs:()=>G5});module.exports=eI(W5);var rt=Ee(require("vscode"),1);var bt=Ee(require("vscode"),1),M1=Ee(require("path"),1),mg=Ee(require("os"),1);var wg=require("crypto");function Gn(){return(0,wg.randomBytes)(16).toString("hex")}var Wr=Ee(require("fs"),1);var ox=require("node:buffer"),cx=Ee(require("node:path"),1),Yc=Ee(require("node:child_process"),1),yo=Ee(require("node:process"),1),lx=Ee(uy(),1);function fp(t){let e=typeof t=="string"?`
`:10,r=typeof t=="string"?"\r":13;return t[t.length-1]===e&&(t=t.slice(0,-1)),t[t.length-1]===r&&(t=t.slice(0,-1)),t}var ho=Ee(require("node:process"),1),Jn=Ee(require("node:path"),1),mp=require("node:url");function Mc(t={}){let{env:e=process.env,platform:r=process.platform}=t;return r!=="win32"?"PATH":Object.keys(e).reverse().find(a=>a.toUpperCase()==="PATH")||"Path"}var CI=({cwd:t=ho.default.cwd(),path:e=ho.default.env[Mc()],preferLocal:r=!0,execPath:a=ho.default.execPath,addExecPath:s=!0}={})=>{let i=t instanceof URL?(0,mp.fileURLToPath)(t):t,n=Jn.default.resolve(i),o=[];return r&&TI(o,n),s&&OI(o,a,n),[...o,e].join(Jn.default.delimiter)},TI=(t,e)=>{let r;for(;r!==e;)t.push(Jn.default.join(e,"node_modules/.bin")),r=e,e=Jn.default.resolve(e,"..")},OI=(t,e,r)=>{let a=e instanceof URL?(0,mp.fileURLToPath)(e):e;t.push(Jn.default.resolve(r,a,".."))},dy=({env:t=ho.default.env,...e}={})=>{t={...t};let r=Mc({env:t});return e.path=t[r],t[r]=CI(e),t};var II=(t,e,r,a)=>{if(r==="length"||r==="prototype"||r==="arguments"||r==="caller")return;let s=Object.getOwnPropertyDescriptor(t,r),i=Object.getOwnPropertyDescriptor(e,r);!AI(s,i)&&a||Object.defineProperty(t,r,i)},AI=function(t,e){return t===void 0||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},kI=(t,e)=>{let r=Object.getPrototypeOf(e);r!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,r)},DI=(t,e)=>`/* Wrapped ${t}*/
${e}`,jI=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),NI=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),$I=(t,e,r)=>{let a=r===""?"":`with ${r.trim()}() `,s=DI.bind(null,a,e.toString());Object.defineProperty(s,"name",NI),Object.defineProperty(t,"toString",{...jI,value:s})};function hp(t,e,{ignoreNonConfigurable:r=!1}={}){let{name:a}=t;for(let s of Reflect.ownKeys(e))II(t,e,s,r);return kI(t,e),$I(t,e,a),t}var qc=new WeakMap,py=(t,e={})=>{if(typeof t!="function")throw new TypeError("Expected a function");let r,a=0,s=t.displayName||t.name||"<anonymous>",i=function(...n){if(qc.set(i,++a),a===1)r=t.apply(this,n),t=null;else if(e.throw===!0)throw new Error(`Function \`${s}\` can only be called once`);return r};return hp(i,t),qc.set(i,a),i};py.callCount=t=>{if(!qc.has(t))throw new Error(`The given function \`${t.name}\` is not wrapped by the \`onetime\` package`);return qc.get(t)};var fy=py;var _y=Ee(require("node:process"),1);var xy=require("node:os");var my=()=>{let t=vy-hy+1;return Array.from({length:t},LI)},LI=(t,e)=>({name:`SIGRT${e+1}`,number:hy+e,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}),hy=34,vy=64;var yy=require("node:os");var gy=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];var vp=()=>{let t=my();return[...gy,...t].map(FI)},FI=({name:t,number:e,description:r,action:a,forced:s=!1,standard:i})=>{let{signals:{[t]:n}}=yy.constants,o=n!==void 0;return{name:t,number:o?n:e,description:r,supported:o,action:a,forced:s,standard:i}};var MI=()=>{let t=vp();return Object.fromEntries(t.map(qI))},qI=({name:t,number:e,description:r,supported:a,action:s,forced:i,standard:n})=>[t,{name:t,number:e,description:r,supported:a,action:s,forced:i,standard:n}],by=MI(),UI=()=>{let t=vp(),e=65,r=Array.from({length:e},(a,s)=>zI(s,t));return Object.assign({},...r)},zI=(t,e)=>{let r=BI(t,e);if(r===void 0)return{};let{name:a,description:s,supported:i,action:n,forced:o,standard:l}=r;return{[t]:{name:a,number:t,description:s,supported:i,action:n,forced:o,standard:l}}},BI=(t,e)=>{let r=e.find(({name:a})=>xy.constants.signals[a]===t);return r!==void 0?r:e.find(a=>a.number===t)},RG=UI();var ZI=({timedOut:t,timeout:e,errorCode:r,signal:a,signalDescription:s,exitCode:i,isCanceled:n})=>t?`timed out after ${e} milliseconds`:n?"was canceled":r!==void 0?`failed with ${r}`:a!==void 0?`was killed with ${a} (${s})`:i!==void 0?`failed with exit code ${i}`:"failed",vo=({stdout:t,stderr:e,all:r,error:a,signal:s,exitCode:i,command:n,escapedCommand:o,timedOut:l,isCanceled:c,killed:u,parsed:{options:{timeout:d,cwd:h=_y.default.cwd()}}})=>{i=i===null?void 0:i,s=s===null?void 0:s;let p=s===void 0?void 0:by[s].description,m=a&&a.code,v=`Command ${ZI({timedOut:l,timeout:d,errorCode:m,signal:s,signalDescription:p,exitCode:i,isCanceled:c})}: ${n}`,g=Object.prototype.toString.call(a)==="[object Error]",b=g?`${v}
${a.message}`:v,w=[b,e,t].filter(Boolean).join(`
`);return g?(a.originalMessage=a.message,a.message=w):a=new Error(w),a.shortMessage=b,a.command=n,a.escapedCommand=o,a.exitCode=i,a.signal=s,a.signalDescription=p,a.stdout=t,a.stderr=e,a.cwd=h,r!==void 0&&(a.all=r),"bufferedData"in a&&delete a.bufferedData,a.failed=!0,a.timedOut=!!l,a.isCanceled=c,a.killed=u&&!l,a};var Uc=["stdin","stdout","stderr"],VI=t=>Uc.some(e=>t[e]!==void 0),wy=t=>{if(!t)return;let{stdio:e}=t;if(e===void 0)return Uc.map(a=>t[a]);if(VI(t))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${Uc.map(a=>`\`${a}\``).join(", ")}`);if(typeof e=="string")return e;if(!Array.isArray(e))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof e}\``);let r=Math.max(e.length,Uc.length);return Array.from({length:r},(a,s)=>e[s])};var Ey=Ee(require("node:os"),1);var js=[];js.push("SIGHUP","SIGINT","SIGTERM");process.platform!=="win32"&&js.push("SIGALRM","SIGABRT","SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&js.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT");var zc=t=>!!t&&typeof t=="object"&&typeof t.removeListener=="function"&&typeof t.emit=="function"&&typeof t.reallyExit=="function"&&typeof t.listeners=="function"&&typeof t.kill=="function"&&typeof t.pid=="number"&&typeof t.on=="function",gp=Symbol.for("signal-exit emitter"),yp=globalThis,HI=Object.defineProperty.bind(Object),xp=class{emitted={afterExit:!1,exit:!1};listeners={afterExit:[],exit:[]};count=0;id=Math.random();constructor(){if(yp[gp])return yp[gp];HI(yp,gp,{value:this,writable:!1,enumerable:!1,configurable:!1})}on(e,r){this.listeners[e].push(r)}removeListener(e,r){let a=this.listeners[e],s=a.indexOf(r);s!==-1&&(s===0&&a.length===1?a.length=0:a.splice(s,1))}emit(e,r,a){if(this.emitted[e])return!1;this.emitted[e]=!0;let s=!1;for(let i of this.listeners[e])s=i(r,a)===!0||s;return e==="exit"&&(s=this.emit("afterExit",r,a)||s),s}},Bc=class{},GI=t=>({onExit(e,r){return t.onExit(e,r)},load(){return t.load()},unload(){return t.unload()}}),bp=class extends Bc{onExit(){return()=>{}}load(){}unload(){}},_p=class extends Bc{#i=wp.platform==="win32"?"SIGINT":"SIGHUP";#t=new xp;#e;#s;#n;#a={};#r=!1;constructor(e){super(),this.#e=e,this.#a={};for(let r of js)this.#a[r]=()=>{let a=this.#e.listeners(r),{count:s}=this.#t,i=e;if(typeof i.__signal_exit_emitter__=="object"&&typeof i.__signal_exit_emitter__.count=="number"&&(s+=i.__signal_exit_emitter__.count),a.length===s){this.unload();let n=this.#t.emit("exit",null,r),o=r==="SIGHUP"?this.#i:r;n||e.kill(e.pid,o)}};this.#n=e.reallyExit,this.#s=e.emit}onExit(e,r){if(!zc(this.#e))return()=>{};this.#r===!1&&this.load();let a=r?.alwaysLast?"afterExit":"exit";return this.#t.on(a,e),()=>{this.#t.removeListener(a,e),this.#t.listeners.exit.length===0&&this.#t.listeners.afterExit.length===0&&this.unload()}}load(){if(!this.#r){this.#r=!0,this.#t.count+=1;for(let e of js)try{let r=this.#a[e];r&&this.#e.on(e,r)}catch{}this.#e.emit=(e,...r)=>this.#c(e,...r),this.#e.reallyExit=e=>this.#o(e)}}unload(){this.#r&&(this.#r=!1,js.forEach(e=>{let r=this.#a[e];if(!r)throw new Error("Listener not defined for signal: "+e);try{this.#e.removeListener(e,r)}catch{}}),this.#e.emit=this.#s,this.#e.reallyExit=this.#n,this.#t.count-=1)}#o(e){return zc(this.#e)?(this.#e.exitCode=e||0,this.#t.emit("exit",this.#e.exitCode,null),this.#n.call(this.#e,this.#e.exitCode)):0}#c(e,...r){let a=this.#s;if(e==="exit"&&zc(this.#e)){typeof r[0]=="number"&&(this.#e.exitCode=r[0]);let s=a.call(this.#e,e,...r);return this.#t.emit("exit",this.#e.exitCode,null),s}else return a.call(this.#e,e,...r)}},wp=globalThis.process,{onExit:Sy,load:DG,unload:jG}=GI(zc(wp)?new _p(wp):new bp);var WI=1e3*5,Py=(t,e="SIGTERM",r={})=>{let a=t(e);return KI(t,e,r,a),a},KI=(t,e,r,a)=>{if(!JI(e,r,a))return;let s=YI(r),i=setTimeout(()=>{t("SIGKILL")},s);i.unref&&i.unref()},JI=(t,{forceKillAfterTimeout:e},r)=>QI(t)&&e!==!1&&r,QI=t=>t===Ey.default.constants.signals.SIGTERM||typeof t=="string"&&t.toUpperCase()==="SIGTERM",YI=({forceKillAfterTimeout:t=!0})=>{if(t===!0)return WI;if(!Number.isFinite(t)||t<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`);return t},Ry=(t,e)=>{t.kill()&&(e.isCanceled=!0)},XI=(t,e,r)=>{t.kill(e),r(Object.assign(new Error("Timed out"),{timedOut:!0,signal:e}))},Cy=(t,{timeout:e,killSignal:r="SIGTERM"},a)=>{if(e===0||e===void 0)return a;let s,i=new Promise((o,l)=>{s=setTimeout(()=>{XI(t,r,l)},e)}),n=a.finally(()=>{clearTimeout(s)});return Promise.race([i,n])},Ty=({timeout:t})=>{if(t!==void 0&&(!Number.isFinite(t)||t<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`)},Oy=async(t,{cleanup:e,detached:r},a)=>{if(!e||r)return a;let s=Sy(()=>{t.kill()});return a.finally(()=>{s()})};var Iy=require("node:fs"),Ay=require("node:child_process");function Zc(t){return t!==null&&typeof t=="object"&&typeof t.pipe=="function"}function Sp(t){return Zc(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object"}var eA=t=>t instanceof Ay.ChildProcess&&typeof t.then=="function",Ep=(t,e,r)=>{if(typeof r=="string")return t[e].pipe((0,Iy.createWriteStream)(r)),t;if(Sp(r))return t[e].pipe(r),t;if(!eA(r))throw new TypeError("The second argument must be a string, a stream or an Execa child process.");if(!Sp(r.stdin))throw new TypeError("The target child process's stdin must be available.");return t[e].pipe(r.stdin),r},ky=t=>{t.stdout!==null&&(t.pipeStdout=Ep.bind(void 0,t,"stdout")),t.stderr!==null&&(t.pipeStderr=Ep.bind(void 0,t,"stderr")),t.all!==void 0&&(t.pipeAll=Ep.bind(void 0,t,"all"))};var Jc=require("node:fs"),Zy=require("node:timers/promises");var go=async(t,{init:e,convertChunk:r,getSize:a,truncateChunk:s,addChunk:i,getFinalChunk:n,finalize:o},{maxBuffer:l=Number.POSITIVE_INFINITY}={})=>{if(!rA(t))throw new Error("The first argument must be a Readable, a ReadableStream, or an async iterable.");let c=e();c.length=0;try{for await(let u of t){let d=aA(u),h=r[d](u,c);Ny({convertedChunk:h,state:c,getSize:a,truncateChunk:s,addChunk:i,maxBuffer:l})}return tA({state:c,convertChunk:r,getSize:a,truncateChunk:s,addChunk:i,getFinalChunk:n,maxBuffer:l}),o(c)}catch(u){throw u.bufferedData=o(c),u}},tA=({state:t,getSize:e,truncateChunk:r,addChunk:a,getFinalChunk:s,maxBuffer:i})=>{let n=s(t);n!==void 0&&Ny({convertedChunk:n,state:t,getSize:e,truncateChunk:r,addChunk:a,maxBuffer:i})},Ny=({convertedChunk:t,state:e,getSize:r,truncateChunk:a,addChunk:s,maxBuffer:i})=>{let n=r(t),o=e.length+n;if(o<=i){Dy(t,e,s,o);return}let l=a(t,i-e.length);throw l!==void 0&&Dy(l,e,s,i),new Vc},Dy=(t,e,r,a)=>{e.contents=r(t,e,a),e.length=a},rA=t=>typeof t=="object"&&t!==null&&typeof t[Symbol.asyncIterator]=="function",aA=t=>{let e=typeof t;if(e==="string")return"string";if(e!=="object"||t===null)return"others";if(globalThis.Buffer?.isBuffer(t))return"buffer";let r=jy.call(t);return r==="[object ArrayBuffer]"?"arrayBuffer":r==="[object DataView]"?"dataView":Number.isInteger(t.byteLength)&&Number.isInteger(t.byteOffset)&&jy.call(t.buffer)==="[object ArrayBuffer]"?"typedArray":"others"},{toString:jy}=Object.prototype,Vc=class extends Error{name="MaxBufferError";constructor(){super("maxBuffer exceeded")}};var Pp=t=>t,Rp=()=>{},Cp=({contents:t})=>t,Hc=t=>{throw new Error(`Streams in object mode are not supported: ${String(t)}`)},Gc=t=>t.length;async function Tp(t,e){return go(t,pA,e)}var sA=()=>({contents:new ArrayBuffer(0)}),nA=t=>iA.encode(t),iA=new TextEncoder,$y=t=>new Uint8Array(t),Ly=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength),oA=(t,e)=>t.slice(0,e),cA=(t,{contents:e,length:r},a)=>{let s=qy()?uA(e,a):lA(e,a);return new Uint8Array(s).set(t,r),s},lA=(t,e)=>{if(e<=t.byteLength)return t;let r=new ArrayBuffer(My(e));return new Uint8Array(r).set(new Uint8Array(t),0),r},uA=(t,e)=>{if(e<=t.maxByteLength)return t.resize(e),t;let r=new ArrayBuffer(e,{maxByteLength:My(e)});return new Uint8Array(r).set(new Uint8Array(t),0),r},My=t=>Fy**Math.ceil(Math.log(t)/Math.log(Fy)),Fy=2,dA=({contents:t,length:e})=>qy()?t:t.slice(0,e),qy=()=>"resize"in ArrayBuffer.prototype,pA={init:sA,convertChunk:{string:nA,buffer:$y,arrayBuffer:$y,dataView:Ly,typedArray:Ly,others:Hc},getSize:Gc,truncateChunk:oA,addChunk:cA,getFinalChunk:Rp,finalize:dA};async function Wc(t,e){if(!("Buffer"in globalThis))throw new Error("getStreamAsBuffer() is only supported in Node.js");try{return Uy(await Tp(t,e))}catch(r){throw r.bufferedData!==void 0&&(r.bufferedData=Uy(r.bufferedData)),r}}var Uy=t=>globalThis.Buffer.from(t);async function Op(t,e){return go(t,gA,e)}var fA=()=>({contents:"",textDecoder:new TextDecoder}),Kc=(t,{textDecoder:e})=>e.decode(t,{stream:!0}),mA=(t,{contents:e})=>e+t,hA=(t,e)=>t.slice(0,e),vA=({textDecoder:t})=>{let e=t.decode();return e===""?void 0:e},gA={init:fA,convertChunk:{string:Pp,buffer:Kc,arrayBuffer:Kc,dataView:Kc,typedArray:Kc,others:Hc},getSize:Gc,truncateChunk:hA,addChunk:mA,getFinalChunk:vA,finalize:Cp};var Vy=Ee(By(),1),Hy=t=>{if(t!==void 0)throw new TypeError("The `input` and `inputFile` options cannot be both set.")},xA=({input:t,inputFile:e})=>typeof e!="string"?t:(Hy(t),(0,Jc.readFileSync)(e)),Gy=t=>{let e=xA(t);if(Zc(e))throw new TypeError("The `input` option cannot be a stream in sync mode");return e},bA=({input:t,inputFile:e})=>typeof e!="string"?t:(Hy(t),(0,Jc.createReadStream)(e)),Wy=(t,e)=>{let r=bA(e);r!==void 0&&(Zc(r)?r.pipe(t.stdin):t.stdin.end(r))},Ky=(t,{all:e})=>{if(!e||!t.stdout&&!t.stderr)return;let r=(0,Vy.default)();return t.stdout&&r.add(t.stdout),t.stderr&&r.add(t.stderr),r},Ip=async(t,e)=>{if(!(!t||e===void 0)){await(0,Zy.setTimeout)(0),t.destroy();try{return await e}catch(r){return r.bufferedData}}},Ap=(t,{encoding:e,buffer:r,maxBuffer:a})=>{if(!(!t||!r))return e==="utf8"||e==="utf-8"?Op(t,{maxBuffer:a}):e===null||e==="buffer"?Wc(t,{maxBuffer:a}):_A(t,a,e)},_A=async(t,e,r)=>(await Wc(t,{maxBuffer:e})).toString(r),Jy=async({stdout:t,stderr:e,all:r},{encoding:a,buffer:s,maxBuffer:i},n)=>{let o=Ap(t,{encoding:a,buffer:s,maxBuffer:i}),l=Ap(e,{encoding:a,buffer:s,maxBuffer:i}),c=Ap(r,{encoding:a,buffer:s,maxBuffer:i*2});try{return await Promise.all([n,o,l,c])}catch(u){return Promise.all([{error:u,signal:u.signal,timedOut:u.timedOut},Ip(t,o),Ip(e,l),Ip(r,c)])}};var wA=(async()=>{})().constructor.prototype,SA=["then","catch","finally"].map(t=>[t,Reflect.getOwnPropertyDescriptor(wA,t)]),kp=(t,e)=>{for(let[r,a]of SA){let s=typeof e=="function"?(...i)=>Reflect.apply(a.value,e(),i):a.value.bind(e);Reflect.defineProperty(t,r,{...a,value:s})}},Qy=t=>new Promise((e,r)=>{t.on("exit",(a,s)=>{e({exitCode:a,signal:s})}),t.on("error",a=>{r(a)}),t.stdin&&t.stdin.on("error",a=>{r(a)})});var ex=require("node:buffer"),tx=require("node:child_process"),rx=(t,e=[])=>Array.isArray(e)?[t,...e]:[t],EA=/^[\w.-]+$/,PA=t=>typeof t!="string"||EA.test(t)?t:`"${t.replaceAll('"','\\"')}"`,Dp=(t,e)=>rx(t,e).join(" "),jp=(t,e)=>rx(t,e).map(r=>PA(r)).join(" "),RA=/ +/g;var Yy=t=>{let e=typeof t;if(e==="string")return t;if(e==="number")return String(t);if(e==="object"&&t!==null&&!(t instanceof tx.ChildProcess)&&"stdout"in t){let r=typeof t.stdout;if(r==="string")return t.stdout;if(ex.Buffer.isBuffer(t.stdout))return t.stdout.toString();throw new TypeError(`Unexpected "${r}" stdout in template expression`)}throw new TypeError(`Unexpected "${e}" in template expression`)},Xy=(t,e,r)=>r||t.length===0||e.length===0?[...t,...e]:[...t.slice(0,-1),`${t.at(-1)}${e[0]}`,...e.slice(1)],CA=({templates:t,expressions:e,tokens:r,index:a,template:s})=>{let i=s??t.raw[a],n=i.split(RA).filter(Boolean),o=Xy(r,n,i.startsWith(" "));if(a===e.length)return o;let l=e[a],c=Array.isArray(l)?l.map(u=>Yy(u)):[Yy(l)];return Xy(o,c,i.endsWith(" "))},Np=(t,e)=>{let r=[];for(let[a,s]of t.entries())r=CA({templates:t,expressions:e,tokens:r,index:a,template:s});return r};var ax=require("node:util"),sx=Ee(require("node:process"),1),nx=(0,ax.debuglog)("execa").enabled,Qc=(t,e)=>String(t).padStart(e,"0"),TA=()=>{let t=new Date;return`${Qc(t.getHours(),2)}:${Qc(t.getMinutes(),2)}:${Qc(t.getSeconds(),2)}.${Qc(t.getMilliseconds(),3)}`},$p=(t,{verbose:e})=>{e&&sx.default.stderr.write(`[${TA()}] ${t}
`)};var OA=1e3*1e3*100,IA=({env:t,extendEnv:e,preferLocal:r,localDir:a,execPath:s})=>{let i=e?{...yo.default.env,...t}:t;return r?dy({env:i,cwd:a,execPath:s}):i},ux=(t,e,r={})=>{let a=lx.default._parse(t,e,r);return t=a.command,e=a.args,r=a.options,r={maxBuffer:OA,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:r.cwd||yo.default.cwd(),execPath:yo.default.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,verbose:nx,...r},r.env=IA(r),r.stdio=wy(r),yo.default.platform==="win32"&&cx.default.basename(t,".exe")==="cmd"&&e.unshift("/q"),{file:t,args:e,options:r,parsed:a}},xo=(t,e,r)=>typeof e!="string"&&!ox.Buffer.isBuffer(e)?r===void 0?void 0:"":t.stripFinalNewline?fp(e):e;function AA(t,e,r){let a=ux(t,e,r),s=Dp(t,e),i=jp(t,e);$p(i,a.options),Ty(a.options);let n;try{n=Yc.default.spawn(a.file,a.args,a.options)}catch(p){let m=new Yc.default.ChildProcess,f=Promise.reject(vo({error:p,stdout:"",stderr:"",all:"",command:s,escapedCommand:i,parsed:a,timedOut:!1,isCanceled:!1,killed:!1}));return kp(m,f),m}let o=Qy(n),l=Cy(n,a.options,o),c=Oy(n,a.options,l),u={isCanceled:!1};n.kill=Py.bind(null,n.kill.bind(n)),n.cancel=Ry.bind(null,n,u);let h=fy(async()=>{let[{error:p,exitCode:m,signal:f,timedOut:v},g,b,w]=await Jy(n,a.options,c),C=xo(a.options,g),T=xo(a.options,b),R=xo(a.options,w);if(p||m!==0||f!==null){let O=vo({error:p,exitCode:m,signal:f,stdout:C,stderr:T,all:R,command:s,escapedCommand:i,parsed:a,timedOut:v,isCanceled:u.isCanceled||(a.options.signal?a.options.signal.aborted:!1),killed:n.killed});if(!a.options.reject)return O;throw O}return{command:s,escapedCommand:i,exitCode:0,stdout:C,stderr:T,all:R,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return Wy(n,a.options),n.all=Ky(n,a.options),ky(n),kp(n,h),n}function bo(t,e,r){let a=ux(t,e,r),s=Dp(t,e),i=jp(t,e);$p(i,a.options);let n=Gy(a.options),o;try{o=Yc.default.spawnSync(a.file,a.args,{...a.options,input:n})}catch(u){throw vo({error:u,stdout:"",stderr:"",all:"",command:s,escapedCommand:i,parsed:a,timedOut:!1,isCanceled:!1,killed:!1})}let l=xo(a.options,o.stdout,o.error),c=xo(a.options,o.stderr,o.error);if(o.error||o.status!==0||o.signal!==null){let u=vo({stdout:l,stderr:c,error:o.error,signal:o.signal,exitCode:o.status,command:s,escapedCommand:i,parsed:a,timedOut:o.error&&o.error.code==="ETIMEDOUT",isCanceled:!1,killed:o.signal!==null});if(!a.options.reject)return u;throw u}return{command:s,escapedCommand:i,exitCode:0,stdout:l,stderr:c,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}}var kA=({input:t,inputFile:e,stdio:r})=>t===void 0&&e===void 0&&r===void 0?{stdin:"inherit"}:{},ix=(t={})=>({preferLocal:!0,...kA(t),...t});function dx(t){function e(r,...a){if(!Array.isArray(r))return dx({...t,...r});let[s,...i]=Np(r,a);return AA(s,i,ix(t))}return e.sync=(r,...a)=>{if(!Array.isArray(r))throw new TypeError("Please use $(options).sync`command` instead of $.sync(options)`command`.");let[s,...i]=Np(r,a);return bo(s,i,ix(t))},e}var CW=dx();var F1=Ee(tf(),1);var Xn=class t{constructor(e){this.returned=e}queue=[];readResolve;readReject;isDone=!1;hasError;started=!1;[Symbol.asyncIterator](){if(this.started)throw new Error("Stream can only be iterated once");return this.started=!0,this}next(){return this.queue.length>0?Promise.resolve({done:!1,value:this.queue.shift()}):this.isDone?Promise.resolve({done:!0,value:void 0}):this.hasError?Promise.reject(this.hasError):new Promise((e,r)=>{this.readResolve=e,this.readReject=r})}enqueue(e){if(this.readResolve){let r=this.readResolve;this.readResolve=void 0,this.readReject=void 0,r({done:!1,value:e})}else this.queue.push(e)}done(){if(this.isDone=!0,this.readResolve){let e=this.readResolve;this.readResolve=void 0,this.readReject=void 0,e({done:!0,value:void 0})}}error(e){if(this.hasError=e,this.readReject){let r=this.readReject;this.readResolve=void 0,this.readReject=void 0,r(e)}}return(){return this.isDone=!0,this.returned&&this.returned(),Promise.resolve({done:!0,value:void 0})}static from(e){let r=new t;for(let a of e)r.enqueue(a);return r.done(),r}};function e_(){return{clawd:{light:"/resources/clawd.svg",dark:"/resources/clawd.svg"},"welcome-art":{light:"/resources/welcome-art-light.svg",dark:"/resources/welcome-art-dark.svg"}}}function t_(){return{clawd:{light:"./resources/clawd.svg",dark:"./resources/clawd.svg"},"welcome-art":{light:"./resources/welcome-art-light.svg",dark:"./resources/welcome-art-dark.svg"}}}var n_=require("child_process");var $s=require("path"),dl=Ee(require("fs"),1);var r_=Ee(require("path"),1),a_=Ee(require("os"),1);function ei(){return process.env.CLAUDE_CONFIG_DIR?process.env.CLAUDE_CONFIG_DIR:r_.join(a_.homedir(),".claude")}var Tj=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function Oj(){return(0,$s.join)(ei(),"projects")}function Ij(t){return(0,$s.join)(Oj(),t.replace(/[^a-zA-Z0-9]/g,"-"))}var ti=class{constructor(e,r,a){this.sessionMessages=e;this.messages=r;this.summaries=a}async fetchSessions(){return this.getTranscripts().map(r=>{let a=r[r.length-1],s=r[0],i=jj(r);return{lastModified:new Date(a.timestamp).getTime(),messageCount:r.length,isSidechain:s.isSidechain,id:a.sessionId,summary:this.summaries.get(a.uuid)||i}})}getTranscripts(){let e=[...this.messages.values()],r=new Set(e.map(a=>a.parentUuid));return e.filter(a=>!r.has(a.uuid)).map(a=>this.getTranscript(a)).filter(a=>a.length)}async getSessionMessages(e){if(e.endsWith(".jsonl")){let l=[];for(let c of await s_(e))l.push(c);return l}let r=e,s=this.sessionMessages.get(r);if(!s)return[];let n=Array.from(this.messages.values()).filter(l=>s.has(l.uuid)).sort((l,c)=>new Date(c.timestamp).getTime()-new Date(l.timestamp).getTime())[0];return n?this.getTranscript(n).map(Dj).filter(l=>!!l):[]}getTranscript(e){let r=[],a=e;for(;a;)r.unshift(a),a=a.parentUuid?this.messages.get(a.parentUuid):void 0;return r}static load(e){return Aj(e)}};async function Aj(t){let e=Ij(t),r=await dl.default.promises.readdir(e),s=(await Promise.all(r.map(async c=>{let u=await dl.default.promises.stat((0,$s.join)(e,c));return{name:(0,$s.join)(e,c),stat:u}}))).filter(c=>c.stat.isFile()&&c.name.endsWith(".jsonl")),i=await Promise.all(s.sort((c,u)=>c.stat.mtime.getTime()-u.stat.mtime.getTime()).map(async c=>{let u=kj((0,$s.basename)(c.name,".jsonl"));if(!u)return{sessionId:u,sessionMessages:new Set};let d=new Map,h=new Map;try{for(let p of await s_(c.name))p.type==="user"||p.type==="assistant"||p.type==="attachment"||p.type==="system"?d.set(p.uuid,p):p.type==="summary"&&p.leafUuid&&h.set(p.leafUuid,p.summary)}catch{}return{sessionId:u,sessionMessages:d,summaries:h}})),n=new Map,o=new Map,l=new Map;for(let{sessionId:c,sessionMessages:u,summaries:d}of i)if(c){n.set(c,new Set(u.keys()));for(let[h,p]of u.entries())o.set(h,p);for(let[h,p]of d.entries())l.set(h,p)}return new ti(n,o,l)}function kj(t){return typeof t!="string"?null:Tj.test(t)?t:null}async function s_(t){try{let e=await dl.default.promises.readFile(t,"utf8");return e.trim()?e.split(`
`).filter(r=>r.trim()).map(r=>{try{return JSON.parse(r)}catch{return null}}).filter(r=>r!==null):[]}catch{return[]}}function Dj(t){if(!t.isMeta){if(t.type==="user")return{type:"user",message:t.message,session_id:t.uuid,parent_tool_use_id:null};if(t.type==="assistant")return{type:"assistant",message:t.message,session_id:t.uuid,parent_tool_use_id:null,uuid:t.message.id};if(t.type==="system")return;if(t.type==="attachment")return}}function jj(t){let e;for(let s of t)if(s.type==="user"&&!s.isMeta)e=s;else if(e)break;if(!e||e.type!=="user")return"No prompt";let r=e.message?.content,a="";return typeof r=="string"?a=r:Array.isArray(r)?a=r.findLast(i=>i.type==="text")?.text||"No prompt":a="No prompt",a=a.replace(/\n/g," ").trim(),a.length>45&&(a=a.slice(0,45)+"..."),a}var pl=class{constructor(e,r,a,s,i){this.cwd=e;this.logger=r;this.settings=a;this.openNewInTab=s;this.authManager=i;this.readFromClient()}channels=new Map;fromClientStream=new Xn;abortControllers=new Map;config;outstandingRequests=new Map;async fromClient(e){this.fromClientStream.enqueue(e)}async readFromClient(){for await(let e of this.fromClientStream)switch(e.type){case"launch_claude":await this.launchClaude(e.channelId,e.resume,e.cwd,e.model,e.permissionMode);break;case"close_channel":this.closeChannel(e.channelId,!1);break;case"interrupt_claude":this.interruptClaude(e.channelId);break;case"io_message":this.transportMessage(e.channelId,e.message,e.done);break;case"request":this.handleRequest(e);break;case"response":{let r=e.requestId,a=this.outstandingRequests.get(r);a?e.response.type==="error"?a.reject(new Error(e.response.error)):a.resolve(e.response):this.logger.warn(`No handler for response with requestId: ${r}`)}break;case"cancel_request":this.handleCancellation(e.targetRequestId);break;default:this.logger.error(`Unknown message: ${e}`)}}async launchClaude(e,r,a,s,i){if(this.logger.log(`Launching Claude on channel: ${e}`),this.channels.has(e))throw new Error(`Channel already exists: ${e}`);try{let n=new Xn;process.env.DEBUG="1";let o=this.spawnClaude(n,r,async(l,c,u)=>this.requestToolPermission(e,l,c,u.suggestions||[]),s||null,a,i);this.channels.set(e,{in:n,query:o}),(async()=>{try{for await(let l of o)this.send({type:"io_message",channelId:e,message:l,done:!1});this.closeChannel(e,!0)}catch(l){this.closeChannel(e,!0,String(l)),this.logger.error(`Error from Claude (on channel ${e}): ${l}`)}})()}catch(n){this.closeChannel(e,!0,String(n)),this.logger.error(`Error spawning Claude (on channel ${e}): ${n}`)}}async requestToolPermission(e,r,a,s){return(await this.sendRequest(e,{type:"tool_permission_request",toolName:r,inputs:a,suggestions:s})).result}sendRequest(e,r){let a=Gn();return new Promise((s,i)=>{this.outstandingRequests.set(a,{resolve:n=>{s(n)},reject:i}),this.send({type:"request",channelId:e,requestId:a,request:r})}).finally(()=>{this.outstandingRequests.delete(a)})}async interruptClaude(e){let r=this.channels.get(e);if(!r){this.logger.warn(`Channel not found: ${e}`);return}try{await r.query.interrupt(),this.logger.log(`Interrupted Claude for requestId: ${e}`)}catch(a){this.logger.error(`Failed to interrupt Claude: ${a}`)}}async closeChannel(e,r,a){this.logger.log(`Closing Claude on channel: ${e}`),r&&this.send({type:"close_channel",channelId:e,error:a});let s=this.channels.get(e);if(s){s.in.done();try{await s.query.return()}catch(i){this.logger.warn(`Error cleaning up channel ${e}: ${i}`)}this.channels.delete(e)}}transportMessage(e,r,a){let s=this.channels.get(e);if(!s)throw new Error(`Channel not found: ${e}`);r.type==="user"&&s.in.enqueue(r),a&&s.in.done()}async shutdown(){await this.closeAllChannels(),this.fromClientStream.done()}async closeAllChannels(){let e=Array.from(this.channels.keys()).map(r=>this.closeChannel(r,!1));await Promise.all(e),this.channels.clear()}async closeAllChannelsWithCredentialChange(){let e=Array.from(this.channels.keys()).map(r=>this.closeChannel(r,!0));await Promise.all(e),this.channels.clear()}loadConfig(){if(this.config)return this.config;this.logger.log("Loading config cache by launching Claude...");let e=(async()=>{let r=new Xn,a=this.spawnClaude(r,void 0,async()=>({behavior:"deny",message:"Config loading only"}),"default",this.cwd,"default");r.done();let s={slashCommands:await a.supportedCommands(),models:await a.supportedModels()};return a.return(),s})().catch(r=>{throw this.logger.error(`Failed to load config cache: ${r}`),this.config=void 0,r});return this.config=e,e}async getMcpServers(e){let r=e?this.channels.get(e):void 0;if(!r)throw new Error(`Channel not found: ${e}`);try{return{type:"get_mcp_servers_response",mcpServers:await r.query.mcpServerStatus()}}catch(a){return this.logger.error(`Error fetching MCP servers: ${a}`),{type:"get_mcp_servers_response",mcpServers:[]}}}async handleRequest(e){let r=new AbortController;try{this.abortControllers.set(e.requestId,r);let a=await this.processRequest(e,r.signal);this.send({type:"response",requestId:e.requestId,response:a})}catch(a){this.logger.error(`Error processing client request: ${a}`),this.send({type:"response",requestId:e.requestId,response:{type:"error",error:a instanceof Error?a.message:String(a)}})}finally{this.abortControllers.delete(e.requestId)}}async processRequest(e,r){switch(e.request.type){case"init":{let a=this.authManager?.getAuthStatus();return{type:"init_response",state:{defaultCwd:this.cwd,openNewInTab:this.openNewInTab,authStatus:a,modelSetting:await this.settings.getModel(),platform:this.getPlatform()}}}case"get_claude_state":{let a=await this.loadConfig();return{type:"get_claude_state_response",models:a.models,slashCommands:a.slashCommands}}case"get_mcp_servers":return await this.getMcpServers(e.channelId);case"list_sessions_request":return this.listSessions();case"open_file":return this.openFile(e.request.filePath,e.request.location),{type:"open_file_response"};case"get_session_request":return this.getSession(e.request.sessionId);case"exec":return this.execCommand(e.request.command,e.request.params);case"list_files_request":return{type:"list_files_response",files:await this.findFiles(e.request.pattern)};case"open_diff":return this.openDiff(e.request.originalFilePath,e.request.newFilePath,e.request.edits,e.request.supportMultiEdits||!1,r);case"open_content":return this.openContent(e.request.content,e.request.fileName,e.request.editable,r);case"get_asset_uris":return{type:"asset_uris_response",assetUris:this.getAssetUris()};case"open_url":return await this.openURL(e.request.url),{type:"open_url_response"};case"set_permission_mode":return this.setPermissionMode(e.channelId,e.request.mode);case"set_model":return this.setModel(e.channelId,e.request.model);case"get_auth_status":return{type:"get_auth_status_response",status:this.authManager?.getAuthStatus()};case"login":{if(!this.authManager)throw new Error("Authentication is not supported in this environment");let{method:a}=e.request,s=await this.authManager.login(a,async i=>{this.send({type:"request",channelId:"",requestId:Gn(),request:{type:"auth_url",url:i.manualRedirectUrl,method:a}});try{await this.openURL(i.automaticRedirectUrl)}catch(n){this.logger.warn(`Failed to open browser: ${n}`)}});return await this.closeAllChannelsWithCredentialChange(),{type:"login_response",auth:s}}case"submit_oauth_code":{if(!this.authManager)throw new Error("Authentication is not supported in this environment");let{code:a}=e.request;return this.authManager.handleManualAuthCode(a),{type:"submit_oauth_code_response"}}case"open_config_file":return this.openConfigFile(e.request.configType),{type:"open_config_file_response"};case"open_claude_in_terminal":return await this.openClaudeInTerminal(),{type:"open_claude_in_terminal_response"};default:}throw new Error("Unknown request type.")}async loadSessionsFromPath(e,r,a){try{return(await(await ti.load(e)).fetchSessions()).map(n=>({id:n.id,lastModified:n.lastModified,messageCount:n.messageCount,summary:n.summary,worktree:r,isCurrentWorkspace:a}))}catch(s){return this.logger.warn(`Failed to load sessions from ${e}: ${s}`),[]}}async listSessions(){let e=[],r=await this.loadSessionsFromPath(this.cwd,void 0,!0);return e.push(...r),{type:"list_sessions_response",sessions:e}}async getSession(e){return{type:"get_session_response",messages:await(await ti.load(this.cwd)).getSessionMessages(e)}}handleCancellation(e){let r=this.abortControllers.get(e);r&&r.abort()}async execCommand(e,r){let a="",s="",i=(0,n_.spawn)(e,r,{cwd:this.cwd,shell:!1});i.stdout.on("data",o=>{a+=o.toString()}),i.stderr.on("data",o=>{s+=o.toString()});let n=await new Promise(o=>{i.on("close",l=>{o(l??0)}),i.on("error",l=>{s+=l.message,o(1)})});return{type:"exec_response",stdout:a,stderr:s,exitCode:n}}getAssetUris(){return e_()}async setPermissionMode(e,r){let a=e?this.channels.get(e):void 0;if(!a)throw new Error(`Channel not found: ${e}`);try{return await a.query.setPermissionMode(r),{type:"set_permission_mode_response",success:!0}}catch(s){return this.logger.error(`Failed to set permission mode: ${s}`),{type:"set_permission_mode_response",success:!1}}}async setModel(e,r){let a=e?this.channels.get(e):void 0;if(!a)throw new Error(`Channel not found: ${e}`);try{return await a.query.setModel(r.value),await this.settings.setModel(r.value),{type:"set_model_response",success:!0}}catch(s){return this.logger.error(`Failed to set model: ${s}`),{type:"set_model_response",success:!1}}}getPlatform(){switch(process.platform){case"win32":return"windows";case"darwin":return"macos";default:return"linux"}}async pushStateUpdate(){let e=this.authManager?.getAuthStatus(),r={type:"request",channelId:"",requestId:Gn(),request:{type:"update_state",state:{defaultCwd:this.cwd,openNewInTab:this.openNewInTab,authStatus:e,modelSetting:await this.settings.getModel(),platform:this.getPlatform()}}};this.send(r)}};var ut=Ee(require("vscode"),1);var vr=Ee(require("vscode"),1),oi=require("fs"),F_=require("os"),nf=require("path"),M_=require("child_process");var Nj=typeof global=="object"&&global&&global.Object===Object&&global,i_=Nj;var $j=typeof self=="object"&&self&&self.Object===Object&&self,Lj=i_||$j||Function("return this")(),ri=Lj;var Fj=ri.Symbol,ai=Fj;var o_=Object.prototype,Mj=o_.hasOwnProperty,qj=o_.toString,To=ai?ai.toStringTag:void 0;function Uj(t){var e=Mj.call(t,To),r=t[To];try{t[To]=void 0;var a=!0}catch{}var s=qj.call(t);return a&&(e?t[To]=r:delete t[To]),s}var c_=Uj;var zj=Object.prototype,Bj=zj.toString;function Zj(t){return Bj.call(t)}var l_=Zj;var Vj="[object Null]",Hj="[object Undefined]",u_=ai?ai.toStringTag:void 0;function Gj(t){return t==null?t===void 0?Hj:Vj:u_&&u_ in Object(t)?c_(t):l_(t)}var d_=Gj;function Wj(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var fl=Wj;var Kj="[object AsyncFunction]",Jj="[object Function]",Qj="[object GeneratorFunction]",Yj="[object Proxy]";function Xj(t){if(!fl(t))return!1;var e=d_(t);return e==Jj||e==Qj||e==Kj||e==Yj}var p_=Xj;var eN=ri["__core-js_shared__"],ml=eN;var f_=function(){var t=/[^.]+$/.exec(ml&&ml.keys&&ml.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function tN(t){return!!f_&&f_ in t}var m_=tN;var rN=Function.prototype,aN=rN.toString;function sN(t){if(t!=null){try{return aN.call(t)}catch{}try{return t+""}catch{}}return""}var h_=sN;var nN=/[\\^$.*+?()[\]{}|]/g,iN=/^\[object .+?Constructor\]$/,oN=Function.prototype,cN=Object.prototype,lN=oN.toString,uN=cN.hasOwnProperty,dN=RegExp("^"+lN.call(uN).replace(nN,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function pN(t){if(!fl(t)||m_(t))return!1;var e=p_(t)?dN:iN;return e.test(h_(t))}var v_=pN;function fN(t,e){return t?.[e]}var g_=fN;function mN(t,e){var r=g_(t,e);return v_(r)?r:void 0}var hl=mN;function hN(t,e){return t===e||t!==t&&e!==e}var y_=hN;var vN=hl(Object,"create"),Da=vN;function gN(){this.__data__=Da?Da(null):{},this.size=0}var x_=gN;function yN(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var b_=yN;var xN="__lodash_hash_undefined__",bN=Object.prototype,_N=bN.hasOwnProperty;function wN(t){var e=this.__data__;if(Da){var r=e[t];return r===xN?void 0:r}return _N.call(e,t)?e[t]:void 0}var __=wN;var SN=Object.prototype,EN=SN.hasOwnProperty;function PN(t){var e=this.__data__;return Da?e[t]!==void 0:EN.call(e,t)}var w_=PN;var RN="__lodash_hash_undefined__";function CN(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Da&&e===void 0?RN:e,this}var S_=CN;function si(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var a=t[e];this.set(a[0],a[1])}}si.prototype.clear=x_;si.prototype.delete=b_;si.prototype.get=__;si.prototype.has=w_;si.prototype.set=S_;var rf=si;function TN(){this.__data__=[],this.size=0}var E_=TN;function ON(t,e){for(var r=t.length;r--;)if(y_(t[r][0],e))return r;return-1}var cs=ON;var IN=Array.prototype,AN=IN.splice;function kN(t){var e=this.__data__,r=cs(e,t);if(r<0)return!1;var a=e.length-1;return r==a?e.pop():AN.call(e,r,1),--this.size,!0}var P_=kN;function DN(t){var e=this.__data__,r=cs(e,t);return r<0?void 0:e[r][1]}var R_=DN;function jN(t){return cs(this.__data__,t)>-1}var C_=jN;function NN(t,e){var r=this.__data__,a=cs(r,t);return a<0?(++this.size,r.push([t,e])):r[a][1]=e,this}var T_=NN;function ni(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var a=t[e];this.set(a[0],a[1])}}ni.prototype.clear=E_;ni.prototype.delete=P_;ni.prototype.get=R_;ni.prototype.has=C_;ni.prototype.set=T_;var O_=ni;var $N=hl(ri,"Map"),I_=$N;function LN(){this.size=0,this.__data__={hash:new rf,map:new(I_||O_),string:new rf}}var A_=LN;function FN(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var k_=FN;function MN(t,e){var r=t.__data__;return k_(e)?r[typeof e=="string"?"string":"hash"]:r.map}var ls=MN;function qN(t){var e=ls(this,t).delete(t);return this.size-=e?1:0,e}var D_=qN;function UN(t){return ls(this,t).get(t)}var j_=UN;function zN(t){return ls(this,t).has(t)}var N_=zN;function BN(t,e){var r=ls(this,t),a=r.size;return r.set(t,e),this.size+=r.size==a?0:1,this}var $_=BN;function ii(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var a=t[e];this.set(a[0],a[1])}}ii.prototype.clear=A_;ii.prototype.delete=D_;ii.prototype.get=j_;ii.prototype.has=N_;ii.prototype.set=$_;var af=ii;var ZN="Expected a function";function sf(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(ZN);var r=function(){var a=arguments,s=e?e.apply(this,a):a[0],i=r.cache;if(i.has(s))return i.get(s);var n=t.apply(this,a);return r.cache=i.set(s,n)||i,n};return r.cache=new(sf.Cache||af),r}sf.Cache=af;var Oo=sf;function VN(t){let e=t.trim();return e?/[*?{}[\]]/.test(e)?e:`**/*${e.split("").map(a=>{if(/[a-zA-Z]/.test(a)){let s=a.toLowerCase(),i=a.toUpperCase();return`[${s}${i}]`}return a}).join("")}*`:"**/*"}var q_=`{${["**/node_modules/**","**/.git/**","**/dist/**","**/build/**","**/.next/**","**/.nuxt/**","**/.DS_Store","**/Thumbs.db","**/*.log","**/.env","**/.env.*","**/yarn-error.log","**/npm-debug.log*"].join(",")}}`;async function of(t){let e=[],r=t?VN(t):"**/*",a=await U_(),s=100,i;try{i=await vr.workspace.findFiles(r,a,s)}catch{i=await vr.workspace.findFiles(r,q_,s)}try{for(let n of i){let o=vr.workspace.asRelativePath(n),l=n.path.split("/").pop()||"";e.push({path:o,name:l,type:"file"})}e.sort((n,o)=>n.path.localeCompare(o.path))}catch{}return e}async function U_(){let t=[];try{let a=vr.workspace.getConfiguration("search"),s=vr.workspace.getConfiguration("files"),i=a.get("exclude")||{},n=s.get("exclude")||{};for(let[l,c]of Object.entries(i))c&&typeof l=="string"&&t.push(l);for(let[l,c]of Object.entries(n))c&&typeof l=="string"&&t.push(l);if(a.get("useIgnoreFiles",!0)){let l=vr.workspace.workspaceFolders;if(l)for(let c of l){let u=HN(c.uri.fsPath);t.push(...u)}}}catch{}let e=t.filter(a=>typeof a=="string"&&a.length>0);return e.length===0?q_:e.length===1?e[0]:`{${e.join(",")}}`}function HN(t){let e=[];try{let r=(0,nf.join)(t,".gitignore");if((0,oi.existsSync)(r)){let s=(0,oi.readFileSync)(r,"utf8");e.push(...L_(s))}let a=(0,nf.join)((0,F_.homedir)(),".config","git","ignore");if((0,oi.existsSync)(a)){let s=(0,oi.readFileSync)(a,"utf8");e.push(...L_(s))}}catch{}return e}function L_(t){let e=[];for(let r of t.split(`
`)){let a=r.trim();if(!a||a.startsWith("#")||a.startsWith("!"))continue;let s=a;s.endsWith("/")&&(s=s.slice(0,-1)+"/**"),s.startsWith("/")?s=s.slice(1):s="**/"+s,e.includes(s)||e.push(s)}return e}async function GN(t){try{let e=vr.workspace.getWorkspaceFolder(t);if(!e)return!1;let r=vr.workspace.asRelativePath(t,!1),a=await U_();return!!((await vr.workspace.findFiles(new vr.RelativePattern(e,r),a,1)).length===0||vr.workspace.getConfiguration("search").get("useIgnoreFiles",!0)&&await new Promise(l=>{(0,M_.execFile)("git",["check-ignore",t.fsPath],{cwd:e.uri.fsPath},(c,u)=>{l(!c&&!!u)})}))}catch{return!1}}var cf=Oo(GN,t=>t.fsPath);var Pf=Ee(require("vscode"),1),Xr=Ee(require("path"),1);function ja(t){return Array.isArray?Array.isArray(t):K_(t)==="[object Array]"}var WN=1/0;function KN(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-WN?"-0":e}function JN(t){return t==null?"":KN(t)}function ma(t){return typeof t=="string"}function G_(t){return typeof t=="number"}function QN(t){return t===!0||t===!1||YN(t)&&K_(t)=="[object Boolean]"}function W_(t){return typeof t=="object"}function YN(t){return W_(t)&&t!==null}function gr(t){return t!=null}function lf(t){return!t.trim().length}function K_(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}var XN="Incorrect 'index' type",e$=t=>`Invalid value for key ${t}`,t$=t=>`Pattern length exceeds max of ${t}.`,r$=t=>`Missing ${t} property in key`,a$=t=>`Property 'weight' in key '${t}' must be a positive integer`,z_=Object.prototype.hasOwnProperty,uf=class{constructor(e){this._keys=[],this._keyMap={};let r=0;e.forEach(a=>{let s=J_(a);this._keys.push(s),this._keyMap[s.id]=s,r+=s.weight}),this._keys.forEach(a=>{a.weight/=r})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}};function J_(t){let e=null,r=null,a=null,s=1,i=null;if(ma(t)||ja(t))a=t,e=B_(t),r=df(t);else{if(!z_.call(t,"name"))throw new Error(r$("name"));let n=t.name;if(a=n,z_.call(t,"weight")&&(s=t.weight,s<=0))throw new Error(a$(n));e=B_(n),r=df(n),i=t.getFn}return{path:e,id:r,weight:s,src:a,getFn:i}}function B_(t){return ja(t)?t:t.split(".")}function df(t){return ja(t)?t.join("."):t}function s$(t,e){let r=[],a=!1,s=(i,n,o)=>{if(gr(i))if(!n[o])r.push(i);else{let l=n[o],c=i[l];if(!gr(c))return;if(o===n.length-1&&(ma(c)||G_(c)||QN(c)))r.push(JN(c));else if(ja(c)){a=!0;for(let u=0,d=c.length;u<d;u+=1)s(c[u],n,o+1)}else n.length&&s(c,n,o+1)}};return s(t,ma(e)?e.split("."):e,0),a?r:r[0]}var n$={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},i$={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},o$={location:0,threshold:.6,distance:100},c$={useExtendedSearch:!1,getFn:s$,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1},$e={...i$,...n$,...o$,...c$},l$=/[^ ]+/g;function u$(t=1,e=3){let r=new Map,a=Math.pow(10,e);return{get(s){let i=s.match(l$).length;if(r.has(i))return r.get(i);let n=1/Math.pow(i,.5*t),o=parseFloat(Math.round(n*a)/a);return r.set(i,o),o},clear(){r.clear()}}}var Io=class{constructor({getFn:e=$e.getFn,fieldNormWeight:r=$e.fieldNormWeight}={}){this.norm=u$(r,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((r,a)=>{this._keysMap[r.id]=a})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,ma(this.docs[0])?this.docs.forEach((e,r)=>{this._addString(e,r)}):this.docs.forEach((e,r)=>{this._addObject(e,r)}),this.norm.clear())}add(e){let r=this.size();ma(e)?this._addString(e,r):this._addObject(e,r)}removeAt(e){this.records.splice(e,1);for(let r=e,a=this.size();r<a;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(e,r){return e[this._keysMap[r]]}size(){return this.records.length}_addString(e,r){if(!gr(e)||lf(e))return;let a={v:e,i:r,n:this.norm.get(e)};this.records.push(a)}_addObject(e,r){let a={i:r,$:{}};this.keys.forEach((s,i)=>{let n=s.getFn?s.getFn(e):this.getFn(e,s.path);if(gr(n)){if(ja(n)){let o=[],l=[{nestedArrIndex:-1,value:n}];for(;l.length;){let{nestedArrIndex:c,value:u}=l.pop();if(gr(u))if(ma(u)&&!lf(u)){let d={v:u,i:c,n:this.norm.get(u)};o.push(d)}else ja(u)&&u.forEach((d,h)=>{l.push({nestedArrIndex:h,value:d})})}a.$[i]=o}else if(ma(n)&&!lf(n)){let o={v:n,n:this.norm.get(n)};a.$[i]=o}}}),this.records.push(a)}toJSON(){return{keys:this.keys,records:this.records}}};function Q_(t,e,{getFn:r=$e.getFn,fieldNormWeight:a=$e.fieldNormWeight}={}){let s=new Io({getFn:r,fieldNormWeight:a});return s.setKeys(t.map(J_)),s.setSources(e),s.create(),s}function d$(t,{getFn:e=$e.getFn,fieldNormWeight:r=$e.fieldNormWeight}={}){let{keys:a,records:s}=t,i=new Io({getFn:e,fieldNormWeight:r});return i.setKeys(a),i.setIndexRecords(s),i}function vl(t,{errors:e=0,currentLocation:r=0,expectedLocation:a=0,distance:s=$e.distance,ignoreLocation:i=$e.ignoreLocation}={}){let n=e/t.length;if(i)return n;let o=Math.abs(a-r);return s?n+o/s:o?1:n}function p$(t=[],e=$e.minMatchCharLength){let r=[],a=-1,s=-1,i=0;for(let n=t.length;i<n;i+=1){let o=t[i];o&&a===-1?a=i:!o&&a!==-1&&(s=i-1,s-a+1>=e&&r.push([a,s]),a=-1)}return t[i-1]&&i-a>=e&&r.push([a,i-1]),r}var Ls=32;function f$(t,e,r,{location:a=$e.location,distance:s=$e.distance,threshold:i=$e.threshold,findAllMatches:n=$e.findAllMatches,minMatchCharLength:o=$e.minMatchCharLength,includeMatches:l=$e.includeMatches,ignoreLocation:c=$e.ignoreLocation}={}){if(e.length>Ls)throw new Error(t$(Ls));let u=e.length,d=t.length,h=Math.max(0,Math.min(a,d)),p=i,m=h,f=o>1||l,v=f?Array(d):[],g;for(;(g=t.indexOf(e,m))>-1;){let O=vl(e,{currentLocation:g,expectedLocation:h,distance:s,ignoreLocation:c});if(p=Math.min(O,p),m=g+u,f){let L=0;for(;L<u;)v[g+L]=1,L+=1}}m=-1;let b=[],w=1,C=u+d,T=1<<u-1;for(let O=0;O<u;O+=1){let L=0,N=C;for(;L<N;)vl(e,{errors:O,currentLocation:h+N,expectedLocation:h,distance:s,ignoreLocation:c})<=p?L=N:C=N,N=Math.floor((C-L)/2+L);C=N;let q=Math.max(1,h-N+1),k=n?d:Math.min(h+N,d)+u,A=Array(k+2);A[k+1]=(1<<O)-1;for(let $=k;$>=q;$-=1){let B=$-1,W=r[t.charAt(B)];if(f&&(v[B]=+!!W),A[$]=(A[$+1]<<1|1)&W,O&&(A[$]|=(b[$+1]|b[$])<<1|1|b[$+1]),A[$]&T&&(w=vl(e,{errors:O,currentLocation:B,expectedLocation:h,distance:s,ignoreLocation:c}),w<=p)){if(p=w,m=B,m<=h)break;q=Math.max(1,2*h-m)}}if(vl(e,{errors:O+1,currentLocation:h,expectedLocation:h,distance:s,ignoreLocation:c})>p)break;b=A}let R={isMatch:m>=0,score:Math.max(.001,w)};if(f){let O=p$(v,o);O.length?l&&(R.indices=O):R.isMatch=!1}return R}function m$(t){let e={};for(let r=0,a=t.length;r<a;r+=1){let s=t.charAt(r);e[s]=(e[s]||0)|1<<a-r-1}return e}var gl=class{constructor(e,{location:r=$e.location,threshold:a=$e.threshold,distance:s=$e.distance,includeMatches:i=$e.includeMatches,findAllMatches:n=$e.findAllMatches,minMatchCharLength:o=$e.minMatchCharLength,isCaseSensitive:l=$e.isCaseSensitive,ignoreLocation:c=$e.ignoreLocation}={}){if(this.options={location:r,threshold:a,distance:s,includeMatches:i,findAllMatches:n,minMatchCharLength:o,isCaseSensitive:l,ignoreLocation:c},this.pattern=l?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;let u=(h,p)=>{this.chunks.push({pattern:h,alphabet:m$(h),startIndex:p})},d=this.pattern.length;if(d>Ls){let h=0,p=d%Ls,m=d-p;for(;h<m;)u(this.pattern.substr(h,Ls),h),h+=Ls;if(p){let f=d-Ls;u(this.pattern.substr(f),f)}}else u(this.pattern,0)}searchIn(e){let{isCaseSensitive:r,includeMatches:a}=this.options;if(r||(e=e.toLowerCase()),this.pattern===e){let m={isMatch:!0,score:0};return a&&(m.indices=[[0,e.length-1]]),m}let{location:s,distance:i,threshold:n,findAllMatches:o,minMatchCharLength:l,ignoreLocation:c}=this.options,u=[],d=0,h=!1;this.chunks.forEach(({pattern:m,alphabet:f,startIndex:v})=>{let{isMatch:g,score:b,indices:w}=f$(e,m,f,{location:s+v,distance:i,threshold:n,findAllMatches:o,minMatchCharLength:l,includeMatches:a,ignoreLocation:c});g&&(h=!0),d+=b,g&&w&&(u=[...u,...w])});let p={isMatch:h,score:h?d/this.chunks.length:1};return h&&a&&(p.indices=u),p}},ha=class{constructor(e){this.pattern=e}static isMultiMatch(e){return Z_(e,this.multiRegex)}static isSingleMatch(e){return Z_(e,this.singleRegex)}search(){}};function Z_(t,e){let r=t.match(e);return r?r[1]:null}var pf=class extends ha{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){let r=e===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}},ff=class extends ha{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){let a=e.indexOf(this.pattern)===-1;return{isMatch:a,score:a?0:1,indices:[0,e.length-1]}}},mf=class extends ha{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){let r=e.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}},hf=class extends ha{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){let r=!e.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}},vf=class extends ha{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){let r=e.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},gf=class extends ha{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){let r=!e.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}},yl=class extends ha{constructor(e,{location:r=$e.location,threshold:a=$e.threshold,distance:s=$e.distance,includeMatches:i=$e.includeMatches,findAllMatches:n=$e.findAllMatches,minMatchCharLength:o=$e.minMatchCharLength,isCaseSensitive:l=$e.isCaseSensitive,ignoreLocation:c=$e.ignoreLocation}={}){super(e),this._bitapSearch=new gl(e,{location:r,threshold:a,distance:s,includeMatches:i,findAllMatches:n,minMatchCharLength:o,isCaseSensitive:l,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}},xl=class extends ha{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let r=0,a,s=[],i=this.pattern.length;for(;(a=e.indexOf(this.pattern,r))>-1;)r=a+i,s.push([a,r-1]);let n=!!s.length;return{isMatch:n,score:n?0:1,indices:s}}},yf=[pf,xl,mf,hf,gf,vf,ff,yl],V_=yf.length,h$=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,v$="|";function g$(t,e={}){return t.split(v$).map(r=>{let a=r.trim().split(h$).filter(i=>i&&!!i.trim()),s=[];for(let i=0,n=a.length;i<n;i+=1){let o=a[i],l=!1,c=-1;for(;!l&&++c<V_;){let u=yf[c],d=u.isMultiMatch(o);d&&(s.push(new u(d,e)),l=!0)}if(!l)for(c=-1;++c<V_;){let u=yf[c],d=u.isSingleMatch(o);if(d){s.push(new u(d,e));break}}}return s})}var y$=new Set([yl.type,xl.type]),xf=class{constructor(e,{isCaseSensitive:r=$e.isCaseSensitive,includeMatches:a=$e.includeMatches,minMatchCharLength:s=$e.minMatchCharLength,ignoreLocation:i=$e.ignoreLocation,findAllMatches:n=$e.findAllMatches,location:o=$e.location,threshold:l=$e.threshold,distance:c=$e.distance}={}){this.query=null,this.options={isCaseSensitive:r,includeMatches:a,minMatchCharLength:s,findAllMatches:n,ignoreLocation:i,location:o,threshold:l,distance:c},this.pattern=r?e:e.toLowerCase(),this.query=g$(this.pattern,this.options)}static condition(e,r){return r.useExtendedSearch}searchIn(e){let r=this.query;if(!r)return{isMatch:!1,score:1};let{includeMatches:a,isCaseSensitive:s}=this.options;e=s?e:e.toLowerCase();let i=0,n=[],o=0;for(let l=0,c=r.length;l<c;l+=1){let u=r[l];n.length=0,i=0;for(let d=0,h=u.length;d<h;d+=1){let p=u[d],{isMatch:m,indices:f,score:v}=p.search(e);if(m){if(i+=1,o+=v,a){let g=p.constructor.type;y$.has(g)?n=[...n,...f]:n.push(f)}}else{o=0,i=0,n.length=0;break}}if(i){let d={isMatch:!0,score:o/i};return a&&(d.indices=n),d}}return{isMatch:!1,score:1}}},bf=[];function x$(...t){bf.push(...t)}function _f(t,e){for(let r=0,a=bf.length;r<a;r+=1){let s=bf[r];if(s.condition(t,e))return new s(t,e)}return new gl(t,e)}var bl={AND:"$and",OR:"$or"},wf={PATH:"$path",PATTERN:"$val"},Sf=t=>!!(t[bl.AND]||t[bl.OR]),b$=t=>!!t[wf.PATH],_$=t=>!ja(t)&&W_(t)&&!Sf(t),H_=t=>({[bl.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function Y_(t,e,{auto:r=!0}={}){let a=s=>{let i=Object.keys(s),n=b$(s);if(!n&&i.length>1&&!Sf(s))return a(H_(s));if(_$(s)){let l=n?s[wf.PATH]:i[0],c=n?s[wf.PATTERN]:s[l];if(!ma(c))throw new Error(e$(l));let u={keyId:df(l),pattern:c};return r&&(u.searcher=_f(c,e)),u}let o={children:[],operator:i[0]};return i.forEach(l=>{let c=s[l];ja(c)&&c.forEach(u=>{o.children.push(a(u))})}),o};return Sf(t)||(t=H_(t)),a(t)}function w$(t,{ignoreFieldNorm:e=$e.ignoreFieldNorm}){t.forEach(r=>{let a=1;r.matches.forEach(({key:s,norm:i,score:n})=>{let o=s?s.weight:null;a*=Math.pow(n===0&&o?Number.EPSILON:n,(o||1)*(e?1:i))}),r.score=a})}function S$(t,e){let r=t.matches;e.matches=[],gr(r)&&r.forEach(a=>{if(!gr(a.indices)||!a.indices.length)return;let{indices:s,value:i}=a,n={indices:s,value:i};a.key&&(n.key=a.key.src),a.idx>-1&&(n.refIndex=a.idx),e.matches.push(n)})}function E$(t,e){e.score=t.score}function P$(t,e,{includeMatches:r=$e.includeMatches,includeScore:a=$e.includeScore}={}){let s=[];return r&&s.push(S$),a&&s.push(E$),t.map(i=>{let{idx:n}=i,o={item:e[n],refIndex:n};return s.length&&s.forEach(l=>{l(i,o)}),o})}var Na=class{constructor(e,r={},a){this.options={...$e,...r},this.options.useExtendedSearch,this._keyStore=new uf(this.options.keys),this.setCollection(e,a)}setCollection(e,r){if(this._docs=e,r&&!(r instanceof Io))throw new Error(XN);this._myIndex=r||Q_(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){gr(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){let r=[];for(let a=0,s=this._docs.length;a<s;a+=1){let i=this._docs[a];e(i,a)&&(this.removeAt(a),a-=1,s-=1,r.push(i))}return r}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:r=-1}={}){let{includeMatches:a,includeScore:s,shouldSort:i,sortFn:n,ignoreFieldNorm:o}=this.options,l=ma(e)?ma(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return w$(l,{ignoreFieldNorm:o}),i&&l.sort(n),G_(r)&&r>-1&&(l=l.slice(0,r)),P$(l,this._docs,{includeMatches:a,includeScore:s})}_searchStringList(e){let r=_f(e,this.options),{records:a}=this._myIndex,s=[];return a.forEach(({v:i,i:n,n:o})=>{if(!gr(i))return;let{isMatch:l,score:c,indices:u}=r.searchIn(i);l&&s.push({item:i,idx:n,matches:[{score:c,value:i,norm:o,indices:u}]})}),s}_searchLogical(e){let r=Y_(e,this.options),a=(o,l,c)=>{if(!o.children){let{keyId:d,searcher:h}=o,p=this._findMatches({key:this._keyStore.get(d),value:this._myIndex.getValueForItemAtKeyId(l,d),searcher:h});return p&&p.length?[{idx:c,item:l,matches:p}]:[]}let u=[];for(let d=0,h=o.children.length;d<h;d+=1){let p=o.children[d],m=a(p,l,c);if(m.length)u.push(...m);else if(o.operator===bl.AND)return[]}return u},s=this._myIndex.records,i={},n=[];return s.forEach(({$:o,i:l})=>{if(gr(o)){let c=a(r,o,l);c.length&&(i[l]||(i[l]={idx:l,item:o,matches:[]},n.push(i[l])),c.forEach(({matches:u})=>{i[l].matches.push(...u)}))}}),n}_searchObjectList(e){let r=_f(e,this.options),{keys:a,records:s}=this._myIndex,i=[];return s.forEach(({$:n,i:o})=>{if(!gr(n))return;let l=[];a.forEach((c,u)=>{l.push(...this._findMatches({key:c,value:n[u],searcher:r}))}),l.length&&i.push({idx:o,item:n,matches:l})}),i}_findMatches({key:e,value:r,searcher:a}){if(!gr(r))return[];let s=[];if(ja(r))r.forEach(({v:i,i:n,n:o})=>{if(!gr(i))return;let{isMatch:l,score:c,indices:u}=a.searchIn(i);l&&s.push({score:c,key:e,value:i,idx:n,norm:o,indices:u})});else{let{v:i,n}=r,{isMatch:o,score:l,indices:c}=a.searchIn(i);o&&s.push({score:l,key:e,value:i,norm:n,indices:c})}return s}};Na.version="7.0.0";Na.createIndex=Q_;Na.parseIndex=d$;Na.config=$e;Na.parseQuery=Y_;x$(xf);var _l=require("child_process");var Ef=100,R$=2e7,C$=1e4,T$=Oo(()=>{if(!process.env.USE_BUILTIN_RIPGREP||process.env.USE_BUILTIN_RIPGREP==="0"||process.env.USE_BUILTIN_RIPGREP==="false"){let s=process.platform==="win32"?"rg.exe":"rg";try{return(0,_l.execFileSync)(s,["--version"],{stdio:"ignore"}),{mode:"system",command:s,args:[]}}catch{}}let e=Xr.resolve(__dirname,"..","..","..",".."),r=Xr.resolve(e,"vendor","ripgrep");return{mode:"builtin",command:process.platform==="win32"?Xr.resolve(r,"x64-win32","rg.exe"):Xr.resolve(r,`${process.arch}-${process.platform}`,"rg"),args:[]}});function O$(){let t=T$();return{rgPath:t.command,rgArgs:t.args}}async function I$(t,e){return new Promise((r,a)=>{let{rgPath:s,rgArgs:i}=O$();(0,_l.execFile)(s,[...i,...t],{cwd:e,maxBuffer:R$,timeout:C$},(n,o)=>{if(!n){r(o.trim().split(`
`).filter(Boolean));return}if("code"in n&&n.code===1){r([]);return}let l=o&&o.trim().length>0,c="signal"in n&&n.signal==="SIGTERM"||"code"in n&&n.code==="ABORT_ERR",u="code"in n&&n.code==="ERR_CHILD_PROCESS_STDIO_MAXBUFFER";if((c||u)&&l){let d=o.trim().split(`
`).filter(Boolean);r(d.length>0?d.slice(0,-1):[]);return}a(n)})})}function A$(t,e){if(!e){let n=new Set;for(let o of t){let l=o.split(Xr.sep)[0];if(l&&(n.add(l),n.size>=Ef))break}return[...n].sort().map(o=>({path:o,filename:Xr.basename(o)}))}let r=t.map(n=>({path:n,filename:Xr.basename(n),testPenalty:n.includes("test")?1:0})),a=e.lastIndexOf(Xr.sep);a>2&&(r=r.filter(n=>n.path.substring(0,a).startsWith(e.substring(0,a))));let i=new Na(r,{includeScore:!0,threshold:.5,keys:[{name:"path",weight:1},{name:"filename",weight:2}]}).search(e,{limit:Ef});return i=i.sort((n,o)=>n.score===void 0||o.score===void 0?0:Math.abs(n.score-o.score)>.05?n.score-o.score:n.item.testPenalty-o.item.testPenalty),i.map(n=>({path:n.item.path,filename:n.item.filename})).slice(0,Ef)}async function X_(t,e,r){try{let a=["--files","--follow","--hidden"];try{let n=Pf.workspace.getConfiguration("search"),o=Pf.workspace.getConfiguration("files"),l=n.get("exclude")||{},c=o.get("exclude")||{};for(let[u,d]of Object.entries(l))d&&a.push("--glob",`!${u}`);for(let[u,d]of Object.entries(c))d&&!l[u]&&a.push("--glob",`!${u}`)}catch(n){r.warn("Failed to get VSCode exclude patterns",n)}let s=await I$(a,e);return A$(s,t||"").map(n=>({path:n.path,name:n.filename,type:"file"}))}catch(a){throw r.error("Ripgrep search failed",a),a}}var Tf=require("path"),f0=require("url"),m0=require("events"),v0=require("child_process"),g0=require("readline"),De=Ee(require("fs"),1),y0=require("fs/promises"),MM={},k$=Object.create,D$=Object.getPrototypeOf,Cf=Object.defineProperty,j$=Object.getOwnPropertyNames,N$=Object.prototype.hasOwnProperty,$$=(t,e,r)=>{r=t!=null?k$(D$(t)):{};let a=e||!t||!t.__esModule?Cf(r,"default",{value:t,enumerable:!0}):r;for(let s of j$(t))N$.call(a,s)||Cf(a,s,{get:()=>t[s],enumerable:!0});return a},Ne=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),L$=(t,e)=>{for(var r in e)Cf(t,r,{get:e[r],enumerable:!0,configurable:!0,set:a=>e[r]=()=>a})},F$=Ne((t,e)=>{(function(r,a){typeof t=="object"&&typeof e<"u"?a(t):typeof define=="function"&&define.amd?define(["exports"],a):a(r.URI=r.URI||{})})(t,function(r){function a(){for(var x=arguments.length,y=Array(x),P=0;P<x;P++)y[P]=arguments[P];if(y.length>1){y[0]=y[0].slice(0,-1);for(var M=y.length-1,Z=1;Z<M;++Z)y[Z]=y[Z].slice(1,-1);return y[M]=y[M].slice(1),y.join("")}else return y[0]}function s(x){return"(?:"+x+")"}function i(x){return x===void 0?"undefined":x===null?"null":Object.prototype.toString.call(x).split(" ").pop().split("]").shift().toLowerCase()}function n(x){return x.toUpperCase()}function o(x){return x!=null?x instanceof Array?x:typeof x.length!="number"||x.split||x.setInterval||x.call?[x]:Array.prototype.slice.call(x):[]}function l(x,y){var P=x;if(y)for(var M in y)P[M]=y[M];return P}function c(x){var y="[A-Za-z]",P="[\\x0D]",M="[0-9]",Z="[\\x22]",ee=a(M,"[A-Fa-f]"),le="[\\x0A]",Se="[\\x20]",ve=s(s("%[EFef]"+ee+"%"+ee+ee+"%"+ee+ee)+"|"+s("%[89A-Fa-f]"+ee+"%"+ee+ee)+"|"+s("%"+ee+ee)),Fe="[\\:\\/\\?\\#\\[\\]\\@]",we="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Ae=a(Fe,we),Pe=x?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",ke=x?"[\\uE000-\\uF8FF]":"[]",ge=a(y,M,"[\\-\\.\\_\\~]",Pe),pt=s(y+a(y,M,"[\\+\\-\\.]")+"*"),Ze=s(s(ve+"|"+a(ge,we,"[\\:]"))+"*"),Ct=s(s("25[0-5]")+"|"+s("2[0-4]"+M)+"|"+s("1"+M+M)+"|"+s("[1-9]"+M)+"|"+M),We=s(s("25[0-5]")+"|"+s("2[0-4]"+M)+"|"+s("1"+M+M)+"|"+s("0?[1-9]"+M)+"|0?0?"+M),ht=s(We+"\\."+We+"\\."+We+"\\."+We),Ke=s(ee+"{1,4}"),yt=s(s(Ke+"\\:"+Ke)+"|"+ht),Tt=s(s(Ke+"\\:")+"{6}"+yt),Ot=s("\\:\\:"+s(Ke+"\\:")+"{5}"+yt),dr=s(s(Ke)+"?\\:\\:"+s(Ke+"\\:")+"{4}"+yt),er=s(s(s(Ke+"\\:")+"{0,1}"+Ke)+"?\\:\\:"+s(Ke+"\\:")+"{3}"+yt),da=s(s(s(Ke+"\\:")+"{0,2}"+Ke)+"?\\:\\:"+s(Ke+"\\:")+"{2}"+yt),Kr=s(s(s(Ke+"\\:")+"{0,3}"+Ke)+"?\\:\\:"+Ke+"\\:"+yt),Jr=s(s(s(Ke+"\\:")+"{0,4}"+Ke)+"?\\:\\:"+yt),zt=s(s(s(Ke+"\\:")+"{0,5}"+Ke)+"?\\:\\:"+Ke),pr=s(s(s(Ke+"\\:")+"{0,6}"+Ke)+"?\\:\\:"),fr=s([Tt,Ot,dr,er,da,Kr,Jr,zt,pr].join("|")),tr=s(s(ge+"|"+ve)+"+"),fo=s(fr+"\\%25"+tr),Aa=s(fr+s("\\%25|\\%(?!"+ee+"{2})")+tr),jc=s("[vV]"+ee+"+\\."+a(ge,we,"[\\:]")+"+"),ks=s("\\["+s(Aa+"|"+fr+"|"+jc)+"\\]"),ss=s(s(ve+"|"+a(ge,we))+"*"),ns=s(ks+"|"+ht+"(?!"+ss+")|"+ss),Qr=s(M+"*"),Nc=s(s(Ze+"@")+"?"+ns+s("\\:"+Qr)+"?"),is=s(ve+"|"+a(ge,we,"[\\:\\@]")),rp=s(is+"*"),Ir=s(is+"+"),os=s(s(ve+"|"+a(ge,we,"[\\@]"))+"+"),mr=s(s("\\/"+rp)+"*"),Yr=s("\\/"+s(Ir+mr)+"?"),pa=s(os+mr),mo=s(Ir+mr),hr="(?!"+is+")",Hn=s(mr+"|"+Yr+"|"+pa+"|"+mo+"|"+hr),ka=s(s(is+"|"+a("[\\/\\?]",ke))+"*"),Ds=s(s(is+"|[\\/\\?]")+"*"),$c=s(s("\\/\\/"+Nc+mr)+"|"+Yr+"|"+mo+"|"+hr),ap=s(pt+"\\:"+$c+s("\\?"+ka)+"?"+s("\\#"+Ds)+"?"),yg=s(s("\\/\\/"+Nc+mr)+"|"+Yr+"|"+pa+"|"+hr),xg=s(yg+s("\\?"+ka)+"?"+s("\\#"+Ds)+"?"),Z1=s(ap+"|"+xg),V1=s(pt+"\\:"+$c+s("\\?"+ka)+"?"),H1="^("+pt+")\\:"+s(s("\\/\\/("+s("("+Ze+")@")+"?("+ns+")"+s("\\:("+Qr+")")+"?)")+"?("+mr+"|"+Yr+"|"+mo+"|"+hr+")")+s("\\?("+ka+")")+"?"+s("\\#("+Ds+")")+"?$",G1="^(){0}"+s(s("\\/\\/("+s("("+Ze+")@")+"?("+ns+")"+s("\\:("+Qr+")")+"?)")+"?("+mr+"|"+Yr+"|"+pa+"|"+hr+")")+s("\\?("+ka+")")+"?"+s("\\#("+Ds+")")+"?$",W1="^("+pt+")\\:"+s(s("\\/\\/("+s("("+Ze+")@")+"?("+ns+")"+s("\\:("+Qr+")")+"?)")+"?("+mr+"|"+Yr+"|"+mo+"|"+hr+")")+s("\\?("+ka+")")+"?$",K5="^"+s("\\#("+Ds+")")+"?$",J5="^"+s("("+Ze+")@")+"?("+ns+")"+s("\\:("+Qr+")")+"?$";return{NOT_SCHEME:new RegExp(a("[^]",y,M,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(a("[^\\%\\:]",ge,we),"g"),NOT_HOST:new RegExp(a("[^\\%\\[\\]\\:]",ge,we),"g"),NOT_PATH:new RegExp(a("[^\\%\\/\\:\\@]",ge,we),"g"),NOT_PATH_NOSCHEME:new RegExp(a("[^\\%\\/\\@]",ge,we),"g"),NOT_QUERY:new RegExp(a("[^\\%]",ge,we,"[\\:\\@\\/\\?]",ke),"g"),NOT_FRAGMENT:new RegExp(a("[^\\%]",ge,we,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(a("[^]",ge,we),"g"),UNRESERVED:new RegExp(ge,"g"),OTHER_CHARS:new RegExp(a("[^\\%]",ge,Ae),"g"),PCT_ENCODED:new RegExp(ve,"g"),IPV4ADDRESS:new RegExp("^("+ht+")$"),IPV6ADDRESS:new RegExp("^\\[?("+fr+")"+s(s("\\%25|\\%(?!"+ee+"{2})")+"("+tr+")")+"?\\]?$")}}var u=c(!1),d=c(!0),h=function(){function x(y,P){var M=[],Z=!0,ee=!1,le=void 0;try{for(var Se=y[Symbol.iterator](),ve;!(Z=(ve=Se.next()).done)&&(M.push(ve.value),!(P&&M.length===P));Z=!0);}catch(Fe){ee=!0,le=Fe}finally{try{!Z&&Se.return&&Se.return()}finally{if(ee)throw le}}return M}return function(y,P){if(Array.isArray(y))return y;if(Symbol.iterator in Object(y))return x(y,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(x){if(Array.isArray(x)){for(var y=0,P=Array(x.length);y<x.length;y++)P[y]=x[y];return P}else return Array.from(x)},m=2147483647,f=36,v=1,g=26,b=38,w=700,C=72,T=128,R="-",O=/^xn--/,L=/[^\0-\x7E]/,N=/[\x2E\u3002\uFF0E\uFF61]/g,q={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},k=f-v,A=Math.floor,D=String.fromCharCode;function $(x){throw new RangeError(q[x])}function B(x,y){for(var P=[],M=x.length;M--;)P[M]=y(x[M]);return P}function W(x,y){var P=x.split("@"),M="";P.length>1&&(M=P[0]+"@",x=P[1]),x=x.replace(N,".");var Z=x.split("."),ee=B(Z,y).join(".");return M+ee}function G(x){for(var y=[],P=0,M=x.length;P<M;){var Z=x.charCodeAt(P++);if(Z>=55296&&Z<=56319&&P<M){var ee=x.charCodeAt(P++);(ee&64512)==56320?y.push(((Z&1023)<<10)+(ee&1023)+65536):(y.push(Z),P--)}else y.push(Z)}return y}var K=function(y){return String.fromCodePoint.apply(String,p(y))},Q=function(y){return y-48<10?y-22:y-65<26?y-65:y-97<26?y-97:f},Y=function(y,P){return y+22+75*(y<26)-((P!=0)<<5)},ae=function(y,P,M){var Z=0;for(y=M?A(y/w):y>>1,y+=A(y/P);y>k*g>>1;Z+=f)y=A(y/k);return A(Z+(k+1)*y/(y+b))},ue=function(y){var P=[],M=y.length,Z=0,ee=T,le=C,Se=y.lastIndexOf(R);Se<0&&(Se=0);for(var ve=0;ve<Se;++ve)y.charCodeAt(ve)>=128&&$("not-basic"),P.push(y.charCodeAt(ve));for(var Fe=Se>0?Se+1:0;Fe<M;){for(var we=Z,Ae=1,Pe=f;;Pe+=f){Fe>=M&&$("invalid-input");var ke=Q(y.charCodeAt(Fe++));(ke>=f||ke>A((m-Z)/Ae))&&$("overflow"),Z+=ke*Ae;var ge=Pe<=le?v:Pe>=le+g?g:Pe-le;if(ke<ge)break;var pt=f-ge;Ae>A(m/pt)&&$("overflow"),Ae*=pt}var Ze=P.length+1;le=ae(Z-we,Ze,we==0),A(Z/Ze)>m-ee&&$("overflow"),ee+=A(Z/Ze),Z%=Ze,P.splice(Z++,0,ee)}return String.fromCodePoint.apply(String,P)},Qe=function(y){var P=[];y=G(y);var M=y.length,Z=T,ee=0,le=C,Se=!0,ve=!1,Fe=void 0;try{for(var we=y[Symbol.iterator](),Ae;!(Se=(Ae=we.next()).done);Se=!0){var Pe=Ae.value;Pe<128&&P.push(D(Pe))}}catch(Aa){ve=!0,Fe=Aa}finally{try{!Se&&we.return&&we.return()}finally{if(ve)throw Fe}}var ke=P.length,ge=ke;for(ke&&P.push(R);ge<M;){var pt=m,Ze=!0,Ct=!1,We=void 0;try{for(var ht=y[Symbol.iterator](),Ke;!(Ze=(Ke=ht.next()).done);Ze=!0){var yt=Ke.value;yt>=Z&&yt<pt&&(pt=yt)}}catch(Aa){Ct=!0,We=Aa}finally{try{!Ze&&ht.return&&ht.return()}finally{if(Ct)throw We}}var Tt=ge+1;pt-Z>A((m-ee)/Tt)&&$("overflow"),ee+=(pt-Z)*Tt,Z=pt;var Ot=!0,dr=!1,er=void 0;try{for(var da=y[Symbol.iterator](),Kr;!(Ot=(Kr=da.next()).done);Ot=!0){var Jr=Kr.value;if(Jr<Z&&++ee>m&&$("overflow"),Jr==Z){for(var zt=ee,pr=f;;pr+=f){var fr=pr<=le?v:pr>=le+g?g:pr-le;if(zt<fr)break;var tr=zt-fr,fo=f-fr;P.push(D(Y(fr+tr%fo,0))),zt=A(tr/fo)}P.push(D(Y(zt,0))),le=ae(ee,Tt,ge==ke),ee=0,++ge}}}catch(Aa){dr=!0,er=Aa}finally{try{!Ot&&da.return&&da.return()}finally{if(dr)throw er}}++ee,++Z}return P.join("")},ye=function(y){return W(y,function(P){return O.test(P)?ue(P.slice(4).toLowerCase()):P})},Re=function(y){return W(y,function(P){return L.test(P)?"xn--"+Qe(P):P})},Ie={version:"2.1.0",ucs2:{decode:G,encode:K},decode:ue,encode:Qe,toASCII:Re,toUnicode:ye},Ue={};function U(x){var y=x.charCodeAt(0),P=void 0;return y<16?P="%0"+y.toString(16).toUpperCase():y<128?P="%"+y.toString(16).toUpperCase():y<2048?P="%"+(y>>6|192).toString(16).toUpperCase()+"%"+(y&63|128).toString(16).toUpperCase():P="%"+(y>>12|224).toString(16).toUpperCase()+"%"+(y>>6&63|128).toString(16).toUpperCase()+"%"+(y&63|128).toString(16).toUpperCase(),P}function J(x){for(var y="",P=0,M=x.length;P<M;){var Z=parseInt(x.substr(P+1,2),16);if(Z<128)y+=String.fromCharCode(Z),P+=3;else if(Z>=194&&Z<224){if(M-P>=6){var ee=parseInt(x.substr(P+4,2),16);y+=String.fromCharCode((Z&31)<<6|ee&63)}else y+=x.substr(P,6);P+=6}else if(Z>=224){if(M-P>=9){var le=parseInt(x.substr(P+4,2),16),Se=parseInt(x.substr(P+7,2),16);y+=String.fromCharCode((Z&15)<<12|(le&63)<<6|Se&63)}else y+=x.substr(P,9);P+=9}else y+=x.substr(P,3),P+=3}return y}function ne(x,y){function P(M){var Z=J(M);return Z.match(y.UNRESERVED)?Z:M}return x.scheme&&(x.scheme=String(x.scheme).replace(y.PCT_ENCODED,P).toLowerCase().replace(y.NOT_SCHEME,"")),x.userinfo!==void 0&&(x.userinfo=String(x.userinfo).replace(y.PCT_ENCODED,P).replace(y.NOT_USERINFO,U).replace(y.PCT_ENCODED,n)),x.host!==void 0&&(x.host=String(x.host).replace(y.PCT_ENCODED,P).toLowerCase().replace(y.NOT_HOST,U).replace(y.PCT_ENCODED,n)),x.path!==void 0&&(x.path=String(x.path).replace(y.PCT_ENCODED,P).replace(x.scheme?y.NOT_PATH:y.NOT_PATH_NOSCHEME,U).replace(y.PCT_ENCODED,n)),x.query!==void 0&&(x.query=String(x.query).replace(y.PCT_ENCODED,P).replace(y.NOT_QUERY,U).replace(y.PCT_ENCODED,n)),x.fragment!==void 0&&(x.fragment=String(x.fragment).replace(y.PCT_ENCODED,P).replace(y.NOT_FRAGMENT,U).replace(y.PCT_ENCODED,n)),x}function he(x){return x.replace(/^0*(.*)/,"$1")||"0"}function X(x,y){var P=x.match(y.IPV4ADDRESS)||[],M=h(P,2),Z=M[1];return Z?Z.split(".").map(he).join("."):x}function te(x,y){var P=x.match(y.IPV6ADDRESS)||[],M=h(P,3),Z=M[1],ee=M[2];if(Z){for(var le=Z.toLowerCase().split("::").reverse(),Se=h(le,2),ve=Se[0],Fe=Se[1],we=Fe?Fe.split(":").map(he):[],Ae=ve.split(":").map(he),Pe=y.IPV4ADDRESS.test(Ae[Ae.length-1]),ke=Pe?7:8,ge=Ae.length-ke,pt=Array(ke),Ze=0;Ze<ke;++Ze)pt[Ze]=we[Ze]||Ae[ge+Ze]||"";Pe&&(pt[ke-1]=X(pt[ke-1],y));var Ct=pt.reduce(function(Tt,Ot,dr){if(!Ot||Ot==="0"){var er=Tt[Tt.length-1];er&&er.index+er.length===dr?er.length++:Tt.push({index:dr,length:1})}return Tt},[]),We=Ct.sort(function(Tt,Ot){return Ot.length-Tt.length})[0],ht=void 0;if(We&&We.length>1){var Ke=pt.slice(0,We.index),yt=pt.slice(We.index+We.length);ht=Ke.join(":")+"::"+yt.join(":")}else ht=pt.join(":");return ee&&(ht+="%"+ee),ht}else return x}var de=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Le="".match(/(){0}/)[1]===void 0;function _e(x){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P={},M=y.iri!==!1?d:u;y.reference==="suffix"&&(x=(y.scheme?y.scheme+":":"")+"//"+x);var Z=x.match(de);if(Z){Le?(P.scheme=Z[1],P.userinfo=Z[3],P.host=Z[4],P.port=parseInt(Z[5],10),P.path=Z[6]||"",P.query=Z[7],P.fragment=Z[8],isNaN(P.port)&&(P.port=Z[5])):(P.scheme=Z[1]||void 0,P.userinfo=x.indexOf("@")!==-1?Z[3]:void 0,P.host=x.indexOf("//")!==-1?Z[4]:void 0,P.port=parseInt(Z[5],10),P.path=Z[6]||"",P.query=x.indexOf("?")!==-1?Z[7]:void 0,P.fragment=x.indexOf("#")!==-1?Z[8]:void 0,isNaN(P.port)&&(P.port=x.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?Z[4]:void 0)),P.host&&(P.host=te(X(P.host,M),M)),P.scheme===void 0&&P.userinfo===void 0&&P.host===void 0&&P.port===void 0&&!P.path&&P.query===void 0?P.reference="same-document":P.scheme===void 0?P.reference="relative":P.fragment===void 0?P.reference="absolute":P.reference="uri",y.reference&&y.reference!=="suffix"&&y.reference!==P.reference&&(P.error=P.error||"URI is not a "+y.reference+" reference.");var ee=Ue[(y.scheme||P.scheme||"").toLowerCase()];if(!y.unicodeSupport&&(!ee||!ee.unicodeSupport)){if(P.host&&(y.domainHost||ee&&ee.domainHost))try{P.host=Ie.toASCII(P.host.replace(M.PCT_ENCODED,J).toLowerCase())}catch(le){P.error=P.error||"Host's domain name can not be converted to ASCII via punycode: "+le}ne(P,u)}else ne(P,M);ee&&ee.parse&&ee.parse(P,y)}else P.error=P.error||"URI can not be parsed.";return P}function it(x,y){var P=y.iri!==!1?d:u,M=[];return x.userinfo!==void 0&&(M.push(x.userinfo),M.push("@")),x.host!==void 0&&M.push(te(X(String(x.host),P),P).replace(P.IPV6ADDRESS,function(Z,ee,le){return"["+ee+(le?"%25"+le:"")+"]"})),(typeof x.port=="number"||typeof x.port=="string")&&(M.push(":"),M.push(String(x.port))),M.length?M.join(""):void 0}var ot=/^\.\.?\//,Ce=/^\/\.(\/|$)/,ft=/^\/\.\.(\/|$)/,Ye=/^\/?(?:.|\n)*?(?=\/|$)/;function dt(x){for(var y=[];x.length;)if(x.match(ot))x=x.replace(ot,"");else if(x.match(Ce))x=x.replace(Ce,"/");else if(x.match(ft))x=x.replace(ft,"/"),y.pop();else if(x==="."||x==="..")x="";else{var P=x.match(Ye);if(P){var M=P[0];x=x.slice(M.length),y.push(M)}else throw new Error("Unexpected dot segment condition")}return y.join("")}function at(x){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P=y.iri?d:u,M=[],Z=Ue[(y.scheme||x.scheme||"").toLowerCase()];if(Z&&Z.serialize&&Z.serialize(x,y),x.host&&!P.IPV6ADDRESS.test(x.host)){if(y.domainHost||Z&&Z.domainHost)try{x.host=y.iri?Ie.toUnicode(x.host):Ie.toASCII(x.host.replace(P.PCT_ENCODED,J).toLowerCase())}catch(Se){x.error=x.error||"Host's domain name can not be converted to "+(y.iri?"Unicode":"ASCII")+" via punycode: "+Se}}ne(x,P),y.reference!=="suffix"&&x.scheme&&(M.push(x.scheme),M.push(":"));var ee=it(x,y);if(ee!==void 0&&(y.reference!=="suffix"&&M.push("//"),M.push(ee),x.path&&x.path.charAt(0)!=="/"&&M.push("/")),x.path!==void 0){var le=x.path;!y.absolutePath&&(!Z||!Z.absolutePath)&&(le=dt(le)),ee===void 0&&(le=le.replace(/^\/\//,"/%2F")),M.push(le)}return x.query!==void 0&&(M.push("?"),M.push(x.query)),x.fragment!==void 0&&(M.push("#"),M.push(x.fragment)),M.join("")}function ct(x,y){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},M=arguments[3],Z={};return M||(x=_e(at(x,P),P),y=_e(at(y,P),P)),P=P||{},!P.tolerant&&y.scheme?(Z.scheme=y.scheme,Z.userinfo=y.userinfo,Z.host=y.host,Z.port=y.port,Z.path=dt(y.path||""),Z.query=y.query):(y.userinfo!==void 0||y.host!==void 0||y.port!==void 0?(Z.userinfo=y.userinfo,Z.host=y.host,Z.port=y.port,Z.path=dt(y.path||""),Z.query=y.query):(y.path?(y.path.charAt(0)==="/"?Z.path=dt(y.path):((x.userinfo!==void 0||x.host!==void 0||x.port!==void 0)&&!x.path?Z.path="/"+y.path:x.path?Z.path=x.path.slice(0,x.path.lastIndexOf("/")+1)+y.path:Z.path=y.path,Z.path=dt(Z.path)),Z.query=y.query):(Z.path=x.path,y.query!==void 0?Z.query=y.query:Z.query=x.query),Z.userinfo=x.userinfo,Z.host=x.host,Z.port=x.port),Z.scheme=x.scheme),Z.fragment=y.fragment,Z}function Lt(x,y,P){var M=l({scheme:"null"},P);return at(ct(_e(x,M),_e(y,M),M,!0),M)}function Ft(x,y){return typeof x=="string"?x=at(_e(x,y),y):i(x)==="object"&&(x=_e(at(x,y),y)),x}function Ut(x,y,P){return typeof x=="string"?x=at(_e(x,P),P):i(x)==="object"&&(x=at(x,P)),typeof y=="string"?y=at(_e(y,P),P):i(y)==="object"&&(y=at(y,P)),x===y}function Oa(x,y){return x&&x.toString().replace(!y||!y.iri?u.ESCAPE:d.ESCAPE,U)}function Xt(x,y){return x&&x.toString().replace(!y||!y.iri?u.PCT_ENCODED:d.PCT_ENCODED,J)}var ts={scheme:"http",domainHost:!0,parse:function(y,P){return y.host||(y.error=y.error||"HTTP URIs must have a host."),y},serialize:function(y,P){var M=String(y.scheme).toLowerCase()==="https";return(y.port===(M?443:80)||y.port==="")&&(y.port=void 0),y.path||(y.path="/"),y}},rs={scheme:"https",domainHost:ts.domainHost,parse:ts.parse,serialize:ts.serialize};function co(x){return typeof x.secure=="boolean"?x.secure:String(x.scheme).toLowerCase()==="wss"}var As={scheme:"ws",domainHost:!0,parse:function(y,P){var M=y;return M.secure=co(M),M.resourceName=(M.path||"/")+(M.query?"?"+M.query:""),M.path=void 0,M.query=void 0,M},serialize:function(y,P){if((y.port===(co(y)?443:80)||y.port==="")&&(y.port=void 0),typeof y.secure=="boolean"&&(y.scheme=y.secure?"wss":"ws",y.secure=void 0),y.resourceName){var M=y.resourceName.split("?"),Z=h(M,2),ee=Z[0],le=Z[1];y.path=ee&&ee!=="/"?ee:void 0,y.query=le,y.resourceName=void 0}return y.fragment=void 0,y}},Ic={scheme:"wss",domainHost:As.domainHost,parse:As.parse,serialize:As.serialize},Ac={},Tr=!0,kc="[A-Za-z0-9\\-\\.\\_\\~"+(Tr?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]",Or="[0-9A-Fa-f]",Kd=s(s("%[EFef]"+Or+"%"+Or+Or+"%"+Or+Or)+"|"+s("%[89A-Fa-f]"+Or+"%"+Or+Or)+"|"+s("%"+Or+Or)),Jd="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Qd="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Yd=a(Qd,'[\\"\\\\]'),as="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Xd=new RegExp(kc,"g"),Ia=new RegExp(Kd,"g"),ep=new RegExp(a("[^]",Jd,"[\\.]",'[\\"]',Yd),"g"),Vn=new RegExp(a("[^]",kc,as),"g"),Dc=Vn;function lo(x){var y=J(x);return y.match(Xd)?y:x}var uo={scheme:"mailto",parse:function(y,P){var M=y,Z=M.to=M.path?M.path.split(","):[];if(M.path=void 0,M.query){for(var ee=!1,le={},Se=M.query.split("&"),ve=0,Fe=Se.length;ve<Fe;++ve){var we=Se[ve].split("=");switch(we[0]){case"to":for(var Ae=we[1].split(","),Pe=0,ke=Ae.length;Pe<ke;++Pe)Z.push(Ae[Pe]);break;case"subject":M.subject=Xt(we[1],P);break;case"body":M.body=Xt(we[1],P);break;default:ee=!0,le[Xt(we[0],P)]=Xt(we[1],P);break}}ee&&(M.headers=le)}M.query=void 0;for(var ge=0,pt=Z.length;ge<pt;++ge){var Ze=Z[ge].split("@");if(Ze[0]=Xt(Ze[0]),P.unicodeSupport)Ze[1]=Xt(Ze[1],P).toLowerCase();else try{Ze[1]=Ie.toASCII(Xt(Ze[1],P).toLowerCase())}catch(Ct){M.error=M.error||"Email address's domain name can not be converted to ASCII via punycode: "+Ct}Z[ge]=Ze.join("@")}return M},serialize:function(y,P){var M=y,Z=o(y.to);if(Z){for(var ee=0,le=Z.length;ee<le;++ee){var Se=String(Z[ee]),ve=Se.lastIndexOf("@"),Fe=Se.slice(0,ve).replace(Ia,lo).replace(Ia,n).replace(ep,U),we=Se.slice(ve+1);try{we=P.iri?Ie.toUnicode(we):Ie.toASCII(Xt(we,P).toLowerCase())}catch(ge){M.error=M.error||"Email address's domain name can not be converted to "+(P.iri?"Unicode":"ASCII")+" via punycode: "+ge}Z[ee]=Fe+"@"+we}M.path=Z.join(",")}var Ae=y.headers=y.headers||{};y.subject&&(Ae.subject=y.subject),y.body&&(Ae.body=y.body);var Pe=[];for(var ke in Ae)Ae[ke]!==Ac[ke]&&Pe.push(ke.replace(Ia,lo).replace(Ia,n).replace(Vn,U)+"="+Ae[ke].replace(Ia,lo).replace(Ia,n).replace(Dc,U));return Pe.length&&(M.query=Pe.join("&")),M}},tp=/^([^\:]+)\:(.*)/,po={scheme:"urn",parse:function(y,P){var M=y.path&&y.path.match(tp),Z=y;if(M){var ee=P.scheme||Z.scheme||"urn",le=M[1].toLowerCase(),Se=M[2],ve=ee+":"+(P.nid||le),Fe=Ue[ve];Z.nid=le,Z.nss=Se,Z.path=void 0,Fe&&(Z=Fe.parse(Z,P))}else Z.error=Z.error||"URN can not be parsed.";return Z},serialize:function(y,P){var M=P.scheme||y.scheme||"urn",Z=y.nid,ee=M+":"+(P.nid||Z),le=Ue[ee];le&&(y=le.serialize(y,P));var Se=y,ve=y.nss;return Se.path=(Z||P.nid)+":"+ve,Se}},F=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,I={scheme:"urn:uuid",parse:function(y,P){var M=y;return M.uuid=M.nss,M.nss=void 0,!P.tolerant&&(!M.uuid||!M.uuid.match(F))&&(M.error=M.error||"UUID is not valid."),M},serialize:function(y,P){var M=y;return M.nss=(y.uuid||"").toLowerCase(),M}};Ue[ts.scheme]=ts,Ue[rs.scheme]=rs,Ue[As.scheme]=As,Ue[Ic.scheme]=Ic,Ue[uo.scheme]=uo,Ue[po.scheme]=po,Ue[I.scheme]=I,r.SCHEMES=Ue,r.pctEncChar=U,r.pctDecChars=J,r.parse=_e,r.removeDotSegments=dt,r.serialize=at,r.resolveComponents=ct,r.resolve=Lt,r.normalize=Ft,r.equal=Ut,r.escapeComponent=Oa,r.unescapeComponent=Xt,Object.defineProperty(r,"__esModule",{value:!0})})}),Ff=Ne((t,e)=>{e.exports=function r(a,s){if(a===s)return!0;if(a&&s&&typeof a=="object"&&typeof s=="object"){if(a.constructor!==s.constructor)return!1;var i,n,o;if(Array.isArray(a)){if(i=a.length,i!=s.length)return!1;for(n=i;n--!==0;)if(!r(a[n],s[n]))return!1;return!0}if(a.constructor===RegExp)return a.source===s.source&&a.flags===s.flags;if(a.valueOf!==Object.prototype.valueOf)return a.valueOf()===s.valueOf();if(a.toString!==Object.prototype.toString)return a.toString()===s.toString();if(o=Object.keys(a),i=o.length,i!==Object.keys(s).length)return!1;for(n=i;n--!==0;)if(!Object.prototype.hasOwnProperty.call(s,o[n]))return!1;for(n=i;n--!==0;){var l=o[n];if(!r(a[l],s[l]))return!1}return!0}return a!==a&&s!==s}}),M$=Ne((t,e)=>{e.exports=function(a){for(var s=0,i=a.length,n=0,o;n<i;)s++,o=a.charCodeAt(n++),o>=55296&&o<=56319&&n<i&&(o=a.charCodeAt(n),(o&64512)==56320&&n++);return s}}),vi=Ne((t,e)=>{e.exports={copy:r,checkDataType:a,checkDataTypes:s,coerceToTypes:n,toHash:o,getProperty:u,escapeQuotes:d,equal:Ff(),ucs2length:M$(),varOccurences:h,varReplace:p,schemaHasRules:m,schemaHasRulesExcept:f,schemaUnknownRules:v,toQuotedString:g,getPathExpr:b,getPath:w,getData:R,unescapeFragment:L,unescapeJsonPointer:k,escapeFragment:N,escapeJsonPointer:q};function r(A,D){D=D||{};for(var $ in A)D[$]=A[$];return D}function a(A,D,$,B){var W=B?" !== ":" === ",G=B?" || ":" && ",K=B?"!":"",Q=B?"":"!";switch(A){case"null":return D+W+"null";case"array":return K+"Array.isArray("+D+")";case"object":return"("+K+D+G+"typeof "+D+W+'"object"'+G+Q+"Array.isArray("+D+"))";case"integer":return"(typeof "+D+W+'"number"'+G+Q+"("+D+" % 1)"+G+D+W+D+($?G+K+"isFinite("+D+")":"")+")";case"number":return"(typeof "+D+W+'"'+A+'"'+($?G+K+"isFinite("+D+")":"")+")";default:return"typeof "+D+W+'"'+A+'"'}}function s(A,D,$){switch(A.length){case 1:return a(A[0],D,$,!0);default:var B="",W=o(A);W.array&&W.object&&(B=W.null?"(":"(!"+D+" || ",B+="typeof "+D+' !== "object")',delete W.null,delete W.array,delete W.object),W.number&&delete W.integer;for(var G in W)B+=(B?" && ":"")+a(G,D,$,!0);return B}}var i=o(["string","number","integer","boolean","null"]);function n(A,D){if(Array.isArray(D)){for(var $=[],B=0;B<D.length;B++){var W=D[B];(i[W]||A==="array"&&W==="array")&&($[$.length]=W)}if($.length)return $}else{if(i[D])return[D];if(A==="array"&&D==="array")return["array"]}}function o(A){for(var D={},$=0;$<A.length;$++)D[A[$]]=!0;return D}var l=/^[a-z$_][a-z$_0-9]*$/i,c=/'|\\/g;function u(A){return typeof A=="number"?"["+A+"]":l.test(A)?"."+A:"['"+d(A)+"']"}function d(A){return A.replace(c,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function h(A,D){D+="[^0-9]";var $=A.match(new RegExp(D,"g"));return $?$.length:0}function p(A,D,$){return D+="([^0-9])",$=$.replace(/\$/g,"$$$$"),A.replace(new RegExp(D,"g"),$+"$1")}function m(A,D){if(typeof A=="boolean")return!A;for(var $ in A)if(D[$])return!0}function f(A,D,$){if(typeof A=="boolean")return!A&&$!="not";for(var B in A)if(B!=$&&D[B])return!0}function v(A,D){if(typeof A!="boolean"){for(var $ in A)if(!D[$])return $}}function g(A){return"'"+d(A)+"'"}function b(A,D,$,B){var W=$?"'/' + "+D+(B?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):B?"'[' + "+D+" + ']'":"'[\\'' + "+D+" + '\\']'";return O(A,W)}function w(A,D,$){var B=g($?"/"+q(D):u(D));return O(A,B)}var C=/^\/(?:[^~]|~0|~1)*$/,T=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function R(A,D,$){var B,W,G,K;if(A==="")return"rootData";if(A[0]=="/"){if(!C.test(A))throw new Error("Invalid JSON-pointer: "+A);W=A,G="rootData"}else{if(K=A.match(T),!K)throw new Error("Invalid JSON-pointer: "+A);if(B=+K[1],W=K[2],W=="#"){if(B>=D)throw new Error("Cannot access property/index "+B+" levels up, current level is "+D);return $[D-B]}if(B>D)throw new Error("Cannot access data "+B+" levels up, current level is "+D);if(G="data"+(D-B||""),!W)return G}for(var Q=G,Y=W.split("/"),ae=0;ae<Y.length;ae++){var ue=Y[ae];ue&&(G+=u(k(ue)),Q+=" && "+G)}return Q}function O(A,D){return A=='""'?D:(A+" + "+D).replace(/([^\\])' \+ '/g,"$1")}function L(A){return k(decodeURIComponent(A))}function N(A){return encodeURIComponent(q(A))}function q(A){return A.replace(/~/g,"~0").replace(/\//g,"~1")}function k(A){return A.replace(/~1/g,"/").replace(/~0/g,"~")}}),l0=Ne((t,e)=>{var r=vi();e.exports=a;function a(s){r.copy(s,this)}}),q$=Ne((t,e)=>{var r=e.exports=function(i,n,o){typeof n=="function"&&(o=n,n={}),o=n.cb||o;var l=typeof o=="function"?o:o.pre||function(){},c=o.post||function(){};a(n,l,c,i,"",i)};r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function a(i,n,o,l,c,u,d,h,p,m){if(l&&typeof l=="object"&&!Array.isArray(l)){n(l,c,u,d,h,p,m);for(var f in l){var v=l[f];if(Array.isArray(v)){if(f in r.arrayKeywords)for(var g=0;g<v.length;g++)a(i,n,o,v[g],c+"/"+f+"/"+g,u,c,f,l,g)}else if(f in r.propsKeywords){if(v&&typeof v=="object")for(var b in v)a(i,n,o,v[b],c+"/"+f+"/"+s(b),u,c,f,l,b)}else(f in r.keywords||i.allKeys&&!(f in r.skipKeywords))&&a(i,n,o,v,c+"/"+f,u,c,f,l)}o(l,c,u,d,h,p,m)}}function s(i){return i.replace(/~/g,"~0").replace(/\//g,"~1")}}),Mf=Ne((t,e)=>{var r=F$(),a=Ff(),s=vi(),i=l0(),n=q$();e.exports=o,o.normalizeId=w,o.fullPath=v,o.url=C,o.ids=T,o.inlineRef=p,o.schema=l;function o(R,O,L){var N=this._refs[L];if(typeof N=="string")if(this._refs[N])N=this._refs[N];else return o.call(this,R,O,N);if(N=N||this._schemas[L],N instanceof i)return p(N.schema,this._opts.inlineRefs)?N.schema:N.validate||this._compile(N);var q=l.call(this,O,L),k,A,D;return q&&(k=q.schema,O=q.root,D=q.baseId),k instanceof i?A=k.validate||R.call(this,k.schema,O,void 0,D):k!==void 0&&(A=p(k,this._opts.inlineRefs)?k:R.call(this,k,O,void 0,D)),A}function l(R,O){var L=r.parse(O),N=g(L),q=v(this._getId(R.schema));if(Object.keys(R.schema).length===0||N!==q){var k=w(N),A=this._refs[k];if(typeof A=="string")return c.call(this,R,A,L);if(A instanceof i)A.validate||this._compile(A),R=A;else if(A=this._schemas[k],A instanceof i){if(A.validate||this._compile(A),k==w(O))return{schema:A,root:R,baseId:q};R=A}else return;if(!R.schema)return;q=v(this._getId(R.schema))}return d.call(this,L,q,R.schema,R)}function c(R,O,L){var N=l.call(this,R,O);if(N){var q=N.schema,k=N.baseId;R=N.root;var A=this._getId(q);return A&&(k=C(k,A)),d.call(this,L,k,q,R)}}var u=s.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function d(R,O,L,N){if(R.fragment=R.fragment||"",R.fragment.slice(0,1)=="/"){for(var q=R.fragment.split("/"),k=1;k<q.length;k++){var A=q[k];if(A){if(A=s.unescapeFragment(A),L=L[A],L===void 0)break;var D;if(!u[A]&&(D=this._getId(L),D&&(O=C(O,D)),L.$ref)){var $=C(O,L.$ref),B=l.call(this,N,$);B&&(L=B.schema,N=B.root,O=B.baseId)}}}if(L!==void 0&&L!==N.schema)return{schema:L,root:N,baseId:O}}}var h=s.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function p(R,O){if(O===!1)return!1;if(O===void 0||O===!0)return m(R);if(O)return f(R)<=O}function m(R){var O;if(Array.isArray(R)){for(var L=0;L<R.length;L++)if(O=R[L],typeof O=="object"&&!m(O))return!1}else for(var N in R)if(N=="$ref"||(O=R[N],typeof O=="object"&&!m(O)))return!1;return!0}function f(R){var O=0,L;if(Array.isArray(R)){for(var N=0;N<R.length;N++)if(L=R[N],typeof L=="object"&&(O+=f(L)),O==1/0)return 1/0}else for(var q in R){if(q=="$ref")return 1/0;if(h[q])O++;else if(L=R[q],typeof L=="object"&&(O+=f(L)+1),O==1/0)return 1/0}return O}function v(R,O){O!==!1&&(R=w(R));var L=r.parse(R);return g(L)}function g(R){return r.serialize(R).split("#")[0]+"#"}var b=/#\/?$/;function w(R){return R?R.replace(b,""):""}function C(R,O){return O=w(O),r.resolve(R,O)}function T(R){var O=w(this._getId(R)),L={"":O},N={"":v(O,!1)},q={},k=this;return n(R,{allKeys:!0},function(A,D,$,B,W,G,K){if(D!==""){var Q=k._getId(A),Y=L[B],ae=N[B]+"/"+W;if(K!==void 0&&(ae+="/"+(typeof K=="number"?K:s.escapeFragment(K))),typeof Q=="string"){Q=Y=w(Y?r.resolve(Y,Q):Q);var ue=k._refs[Q];if(typeof ue=="string"&&(ue=k._refs[ue]),ue&&ue.schema){if(!a(A,ue.schema))throw new Error('id "'+Q+'" resolves to more than one schema')}else if(Q!=w(ae))if(Q[0]=="#"){if(q[Q]&&!a(A,q[Q]))throw new Error('id "'+Q+'" resolves to more than one schema');q[Q]=A}else k._refs[Q]=ae}L[D]=Y,N[D]=ae}}),q}}),qf=Ne((t,e)=>{var r=Mf();e.exports={Validation:i(a),MissingRef:i(s)};function a(n){this.message="validation failed",this.errors=n,this.ajv=this.validation=!0}s.message=function(n,o){return"can't resolve reference "+o+" from id "+n};function s(n,o,l){this.message=l||s.message(n,o),this.missingRef=r.url(n,o),this.missingSchema=r.normalizeId(r.fullPath(this.missingRef))}function i(n){return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}}),u0=Ne((t,e)=>{e.exports=function(r,a){a||(a={}),typeof a=="function"&&(a={cmp:a});var s=typeof a.cycles=="boolean"?a.cycles:!1,i=a.cmp&&function(o){return function(l){return function(c,u){var d={key:c,value:l[c]},h={key:u,value:l[u]};return o(d,h)}}}(a.cmp),n=[];return function o(l){if(l&&l.toJSON&&typeof l.toJSON=="function"&&(l=l.toJSON()),l!==void 0){if(typeof l=="number")return isFinite(l)?""+l:"null";if(typeof l!="object")return JSON.stringify(l);var c,u;if(Array.isArray(l)){for(u="[",c=0;c<l.length;c++)c&&(u+=","),u+=o(l[c])||"null";return u+"]"}if(l===null)return"null";if(n.indexOf(l)!==-1){if(s)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var d=n.push(l)-1,h=Object.keys(l).sort(i&&i(l));for(u="",c=0;c<h.length;c++){var p=h[c],m=o(l[p]);m&&(u&&(u+=","),u+=JSON.stringify(p)+":"+m)}return n.splice(d,1),"{"+u+"}"}}(r)}}),d0=Ne((t,e)=>{e.exports=function(a,s,i){var n="",o=a.schema.$async===!0,l=a.util.schemaHasRulesExcept(a.schema,a.RULES.all,"$ref"),c=a.self._getId(a.schema);if(a.opts.strictKeywords){var u=a.util.schemaUnknownRules(a.schema,a.RULES.keywords);if(u){var d="unknown keyword: "+u;if(a.opts.strictKeywords==="log")a.logger.warn(d);else throw new Error(d)}}if(a.isTop&&(n+=" var validate = ",o&&(a.async=!0,n+="async "),n+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",c&&(a.opts.sourceCode||a.opts.processCode)&&(n+=" "+("/*# sourceURL="+c+" */")+" ")),typeof a.schema=="boolean"||!(l||a.schema.$ref)){var s="false schema",h=a.level,p=a.dataLevel,m=a.schema[s],f=a.schemaPath+a.util.getProperty(s),v=a.errSchemaPath+"/"+s,O=!a.opts.allErrors,q,g="data"+(p||""),R="valid"+h;if(a.schema===!1){a.isTop?O=!0:n+=" var "+R+" = false; ";var b=b||[];b.push(n),n="",a.createErrors!==!1?(n+=" { keyword: '"+(q||"false schema")+"' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(v)+" , params: {} ",a.opts.messages!==!1&&(n+=" , message: 'boolean schema is false' "),a.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+a.schemaPath+" , data: "+g+" "),n+=" } "):n+=" {} ";var w=n;n=b.pop(),!a.compositeRule&&O?a.async?n+=" throw new ValidationError(["+w+"]); ":n+=" validate.errors = ["+w+"]; return false; ":n+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else a.isTop?o?n+=" return data; ":n+=" validate.errors = null; return true; ":n+=" var "+R+" = true; ";return a.isTop&&(n+=" }; return validate; "),n}if(a.isTop){var C=a.isTop,h=a.level=0,p=a.dataLevel=0,g="data";if(a.rootId=a.resolve.fullPath(a.self._getId(a.root.schema)),a.baseId=a.baseId||a.rootId,delete a.isTop,a.dataPathArr=[""],a.schema.default!==void 0&&a.opts.useDefaults&&a.opts.strictDefaults){var T="default is ignored in the schema root";if(a.opts.strictDefaults==="log")a.logger.warn(T);else throw new Error(T)}n+=" var vErrors = null; ",n+=" var errors = 0;     ",n+=" if (rootData === undefined) rootData = data; "}else{var{level:h,dataLevel:p}=a,g="data"+(p||"");if(c&&(a.baseId=a.resolve.url(a.baseId,c)),o&&!a.async)throw new Error("async schema in sync schema");n+=" var errs_"+h+" = errors;"}var R="valid"+h,O=!a.opts.allErrors,L="",N="",q,k=a.schema.type,A=Array.isArray(k);if(k&&a.opts.nullable&&a.schema.nullable===!0&&(A?k.indexOf("null")==-1&&(k=k.concat("null")):k!="null"&&(k=[k,"null"],A=!0)),A&&k.length==1&&(k=k[0],A=!1),a.schema.$ref&&l){if(a.opts.extendRefs=="fail")throw new Error('$ref: validation keywords used in schema at path "'+a.errSchemaPath+'" (see option extendRefs)');a.opts.extendRefs!==!0&&(l=!1,a.logger.warn('$ref: keywords ignored in schema at path "'+a.errSchemaPath+'"'))}if(a.schema.$comment&&a.opts.$comment&&(n+=" "+a.RULES.all.$comment.code(a,"$comment")),k){if(a.opts.coerceTypes)var D=a.util.coerceToTypes(a.opts.coerceTypes,k);var $=a.RULES.types[k];if(D||A||$===!0||$&&!Ye($)){var f=a.schemaPath+".type",v=a.errSchemaPath+"/type",f=a.schemaPath+".type",v=a.errSchemaPath+"/type",B=A?"checkDataTypes":"checkDataType";if(n+=" if ("+a.util[B](k,g,a.opts.strictNumbers,!0)+") { ",D){var W="dataType"+h,G="coerced"+h;n+=" var "+W+" = typeof "+g+"; var "+G+" = undefined; ",a.opts.coerceTypes=="array"&&(n+=" if ("+W+" == 'object' && Array.isArray("+g+") && "+g+".length == 1) { "+g+" = "+g+"[0]; "+W+" = typeof "+g+"; if ("+a.util.checkDataType(a.schema.type,g,a.opts.strictNumbers)+") "+G+" = "+g+"; } "),n+=" if ("+G+" !== undefined) ; ";var K=D;if(K)for(var Q,Y=-1,ae=K.length-1;Y<ae;)Q=K[Y+=1],Q=="string"?n+=" else if ("+W+" == 'number' || "+W+" == 'boolean') "+G+" = '' + "+g+"; else if ("+g+" === null) "+G+" = ''; ":Q=="number"||Q=="integer"?(n+=" else if ("+W+" == 'boolean' || "+g+" === null || ("+W+" == 'string' && "+g+" && "+g+" == +"+g+" ",Q=="integer"&&(n+=" && !("+g+" % 1)"),n+=")) "+G+" = +"+g+"; "):Q=="boolean"?n+=" else if ("+g+" === 'false' || "+g+" === 0 || "+g+" === null) "+G+" = false; else if ("+g+" === 'true' || "+g+" === 1) "+G+" = true; ":Q=="null"?n+=" else if ("+g+" === '' || "+g+" === 0 || "+g+" === false) "+G+" = null; ":a.opts.coerceTypes=="array"&&Q=="array"&&(n+=" else if ("+W+" == 'string' || "+W+" == 'number' || "+W+" == 'boolean' || "+g+" == null) "+G+" = ["+g+"]; ");n+=" else {   ";var b=b||[];b.push(n),n="",a.createErrors!==!1?(n+=" { keyword: '"+(q||"type")+"' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(v)+" , params: { type: '",A?n+=""+k.join(","):n+=""+k,n+="' } ",a.opts.messages!==!1&&(n+=" , message: 'should be ",A?n+=""+k.join(","):n+=""+k,n+="' "),a.opts.verbose&&(n+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+g+" "),n+=" } "):n+=" {} ";var w=n;n=b.pop(),!a.compositeRule&&O?a.async?n+=" throw new ValidationError(["+w+"]); ":n+=" validate.errors = ["+w+"]; return false; ":n+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } if ("+G+" !== undefined) {  ";var ue=p?"data"+(p-1||""):"parentData",Qe=p?a.dataPathArr[p]:"parentDataProperty";n+=" "+g+" = "+G+"; ",p||(n+="if ("+ue+" !== undefined)"),n+=" "+ue+"["+Qe+"] = "+G+"; } "}else{var b=b||[];b.push(n),n="",a.createErrors!==!1?(n+=" { keyword: '"+(q||"type")+"' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(v)+" , params: { type: '",A?n+=""+k.join(","):n+=""+k,n+="' } ",a.opts.messages!==!1&&(n+=" , message: 'should be ",A?n+=""+k.join(","):n+=""+k,n+="' "),a.opts.verbose&&(n+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+g+" "),n+=" } "):n+=" {} ";var w=n;n=b.pop(),!a.compositeRule&&O?a.async?n+=" throw new ValidationError(["+w+"]); ":n+=" validate.errors = ["+w+"]; return false; ":n+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}n+=" } "}}if(a.schema.$ref&&!l)n+=" "+a.RULES.all.$ref.code(a,"$ref")+" ",O&&(n+=" } if (errors === ",C?n+="0":n+="errs_"+h,n+=") { ",N+="}");else{var ye=a.RULES;if(ye){for(var $,Re=-1,Ie=ye.length-1;Re<Ie;)if($=ye[Re+=1],Ye($)){if($.type&&(n+=" if ("+a.util.checkDataType($.type,g,a.opts.strictNumbers)+") { "),a.opts.useDefaults){if($.type=="object"&&a.schema.properties){var m=a.schema.properties,Ue=Object.keys(m),U=Ue;if(U)for(var J,ne=-1,he=U.length-1;ne<he;){J=U[ne+=1];var X=m[J];if(X.default!==void 0){var te=g+a.util.getProperty(J);if(a.compositeRule){if(a.opts.strictDefaults){var T="default is ignored for: "+te;if(a.opts.strictDefaults==="log")a.logger.warn(T);else throw new Error(T)}}else n+=" if ("+te+" === undefined ",a.opts.useDefaults=="empty"&&(n+=" || "+te+" === null || "+te+" === '' "),n+=" ) "+te+" = ",a.opts.useDefaults=="shared"?n+=" "+a.useDefault(X.default)+" ":n+=" "+JSON.stringify(X.default)+" ",n+="; "}}}else if($.type=="array"&&Array.isArray(a.schema.items)){var de=a.schema.items;if(de){for(var X,Y=-1,Le=de.length-1;Y<Le;)if(X=de[Y+=1],X.default!==void 0){var te=g+"["+Y+"]";if(a.compositeRule){if(a.opts.strictDefaults){var T="default is ignored for: "+te;if(a.opts.strictDefaults==="log")a.logger.warn(T);else throw new Error(T)}}else n+=" if ("+te+" === undefined ",a.opts.useDefaults=="empty"&&(n+=" || "+te+" === null || "+te+" === '' "),n+=" ) "+te+" = ",a.opts.useDefaults=="shared"?n+=" "+a.useDefault(X.default)+" ":n+=" "+JSON.stringify(X.default)+" ",n+="; "}}}}var _e=$.rules;if(_e){for(var it,ot=-1,Ce=_e.length-1;ot<Ce;)if(it=_e[ot+=1],dt(it)){var ft=it.code(a,it.keyword,$.type);ft&&(n+=" "+ft+" ",O&&(L+="}"))}}if(O&&(n+=" "+L+" ",L=""),$.type&&(n+=" } ",k&&k===$.type&&!D)){n+=" else { ";var f=a.schemaPath+".type",v=a.errSchemaPath+"/type",b=b||[];b.push(n),n="",a.createErrors!==!1?(n+=" { keyword: '"+(q||"type")+"' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(v)+" , params: { type: '",A?n+=""+k.join(","):n+=""+k,n+="' } ",a.opts.messages!==!1&&(n+=" , message: 'should be ",A?n+=""+k.join(","):n+=""+k,n+="' "),a.opts.verbose&&(n+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+g+" "),n+=" } "):n+=" {} ";var w=n;n=b.pop(),!a.compositeRule&&O?a.async?n+=" throw new ValidationError(["+w+"]); ":n+=" validate.errors = ["+w+"]; return false; ":n+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } "}O&&(n+=" if (errors === ",C?n+="0":n+="errs_"+h,n+=") { ",N+="}")}}}O&&(n+=" "+N+" "),C?(o?(n+=" if (errors === 0) return data;           ",n+=" else throw new ValidationError(vErrors); "):(n+=" validate.errors = vErrors; ",n+=" return errors === 0;       "),n+=" }; return validate;"):n+=" var "+R+" = errors === errs_"+h+";";function Ye(ct){for(var Lt=ct.rules,Ft=0;Ft<Lt.length;Ft++)if(dt(Lt[Ft]))return!0}function dt(ct){return a.schema[ct.keyword]!==void 0||ct.implements&&at(ct)}function at(ct){for(var Lt=ct.implements,Ft=0;Ft<Lt.length;Ft++)if(a.schema[Lt[Ft]]!==void 0)return!0}return n}}),U$=Ne((t,e)=>{var r=Mf(),a=vi(),s=qf(),i=u0(),n=d0(),o=a.ucs2length,l=Ff(),c=s.Validation;e.exports=u;function u(w,C,T,R){var O=this,L=this._opts,N=[void 0],q={},k=[],A={},D=[],$={},B=[];C=C||{schema:w,refVal:N,refs:q};var W=d.call(this,w,C,R),G=this._compilations[W.index];if(W.compiling)return G.callValidate=ue;var K=this._formats,Q=this.RULES;try{var Y=Qe(w,C,T,R);G.validate=Y;var ae=G.callValidate;return ae&&(ae.schema=Y.schema,ae.errors=null,ae.refs=Y.refs,ae.refVal=Y.refVal,ae.root=Y.root,ae.$async=Y.$async,L.sourceCode&&(ae.source=Y.source)),Y}finally{h.call(this,w,C,R)}function ue(){var X=G.validate,te=X.apply(this,arguments);return ue.errors=X.errors,te}function Qe(X,te,de,Le){var _e=!te||te&&te.schema==X;if(te.schema!=C.schema)return u.call(O,X,te,de,Le);var it=X.$async===!0,ot=n({isTop:!0,schema:X,isRoot:_e,baseId:Le,root:te,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:s.MissingRef,RULES:Q,validate:n,util:a,resolve:r,resolveRef:ye,usePattern:J,useDefault:ne,useCustomRule:he,opts:L,formats:K,logger:O.logger,self:O});ot=b(N,v)+b(k,m)+b(D,f)+b(B,g)+ot,L.processCode&&(ot=L.processCode(ot,X));var Ce;try{var ft=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",ot);Ce=ft(O,Q,K,C,N,D,B,l,o,c),N[0]=Ce}catch(Ye){throw O.logger.error("Error compiling schema, function code:",ot),Ye}return Ce.schema=X,Ce.errors=null,Ce.refs=q,Ce.refVal=N,Ce.root=_e?Ce:te,it&&(Ce.$async=!0),L.sourceCode===!0&&(Ce.source={code:ot,patterns:k,defaults:D}),Ce}function ye(X,te,de){te=r.url(X,te);var Le=q[te],_e,it;if(Le!==void 0)return _e=N[Le],it="refVal["+Le+"]",U(_e,it);if(!de&&C.refs){var ot=C.refs[te];if(ot!==void 0)return _e=C.refVal[ot],it=Re(te,_e),U(_e,it)}it=Re(te);var Ce=r.call(O,Qe,C,te);if(Ce===void 0){var ft=T&&T[te];ft&&(Ce=r.inlineRef(ft,L.inlineRefs)?ft:u.call(O,ft,C,T,X))}if(Ce===void 0)Ie(te);else return Ue(te,Ce),U(Ce,it)}function Re(X,te){var de=N.length;return N[de]=te,q[X]=de,"refVal"+de}function Ie(X){delete q[X]}function Ue(X,te){var de=q[X];N[de]=te}function U(X,te){return typeof X=="object"||typeof X=="boolean"?{code:te,schema:X,inline:!0}:{code:te,$async:X&&!!X.$async}}function J(X){var te=A[X];return te===void 0&&(te=A[X]=k.length,k[te]=X),"pattern"+te}function ne(X){switch(typeof X){case"boolean":case"number":return""+X;case"string":return a.toQuotedString(X);case"object":if(X===null)return"null";var te=i(X),de=$[te];return de===void 0&&(de=$[te]=D.length,D[de]=X),"default"+de}}function he(X,te,de,Le){if(O._opts.validateSchema!==!1){var _e=X.definition.dependencies;if(_e&&!_e.every(function(Lt){return Object.prototype.hasOwnProperty.call(de,Lt)}))throw new Error("parent schema must have all required keywords: "+_e.join(","));var it=X.definition.validateSchema;if(it){var ot=it(te);if(!ot){var Ce="keyword schema is invalid: "+O.errorsText(it.errors);if(O._opts.validateSchema=="log")O.logger.error(Ce);else throw new Error(Ce)}}}var ft=X.definition.compile,Ye=X.definition.inline,dt=X.definition.macro,at;if(ft)at=ft.call(O,te,de,Le);else if(dt)at=dt.call(O,te,de,Le),L.validateSchema!==!1&&O.validateSchema(at,!0);else if(Ye)at=Ye.call(O,Le,X.keyword,te,de);else if(at=X.definition.validate,!at)return;if(at===void 0)throw new Error('custom keyword "'+X.keyword+'"failed to compile');var ct=B.length;return B[ct]=at,{code:"customRule"+ct,validate:at}}}function d(w,C,T){var R=p.call(this,w,C,T);return R>=0?{index:R,compiling:!0}:(R=this._compilations.length,this._compilations[R]={schema:w,root:C,baseId:T},{index:R,compiling:!1})}function h(w,C,T){var R=p.call(this,w,C,T);R>=0&&this._compilations.splice(R,1)}function p(w,C,T){for(var R=0;R<this._compilations.length;R++){var O=this._compilations[R];if(O.schema==w&&O.root==C&&O.baseId==T)return R}return-1}function m(w,C){return"var pattern"+w+" = new RegExp("+a.toQuotedString(C[w])+");"}function f(w){return"var default"+w+" = defaults["+w+"];"}function v(w,C){return C[w]===void 0?"":"var refVal"+w+" = refVal["+w+"];"}function g(w){return"var customRule"+w+" = customRules["+w+"];"}function b(w,C){if(!w.length)return"";for(var T="",R=0;R<w.length;R++)T+=C(R,w);return T}}),z$=Ne((t,e)=>{var r=e.exports=function(){this._cache={}};r.prototype.put=function(s,i){this._cache[s]=i},r.prototype.get=function(s){return this._cache[s]},r.prototype.del=function(s){delete this._cache[s]},r.prototype.clear=function(){this._cache={}}}),B$=Ne((t,e)=>{var r=vi(),a=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,s=[0,31,28,31,30,31,30,31,31,30,31,30,31],i=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,n=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,o=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,l=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,c=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,u=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,d=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,h=/^(?:\/(?:[^~/]|~0|~1)*)*$/,p=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,m=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;e.exports=f;function f(N){return N=N=="full"?"full":"fast",r.copy(f[N])}f.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":c,url:u,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:n,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:L,uuid:d,"json-pointer":h,"json-pointer-uri-fragment":p,"relative-json-pointer":m},f.full={date:g,time:b,"date-time":C,uri:R,"uri-reference":l,"uri-template":c,url:u,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:n,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:L,uuid:d,"json-pointer":h,"json-pointer-uri-fragment":p,"relative-json-pointer":m};function v(N){return N%4===0&&(N%100!==0||N%400===0)}function g(N){var q=N.match(a);if(!q)return!1;var k=+q[1],A=+q[2],D=+q[3];return A>=1&&A<=12&&D>=1&&D<=(A==2&&v(k)?29:s[A])}function b(N,q){var k=N.match(i);if(!k)return!1;var A=k[1],D=k[2],$=k[3],B=k[5];return(A<=23&&D<=59&&$<=59||A==23&&D==59&&$==60)&&(!q||B)}var w=/t|\s/i;function C(N){var q=N.split(w);return q.length==2&&g(q[0])&&b(q[1],!0)}var T=/\/|:/;function R(N){return T.test(N)&&o.test(N)}var O=/[^\\]\\Z/;function L(N){if(O.test(N))return!1;try{return new RegExp(N),!0}catch{return!1}}}),Z$=Ne((t,e)=>{e.exports=function(a,s,i){var n=" ",o=a.level,l=a.dataLevel,c=a.schema[s],u=a.errSchemaPath+"/"+s,d=!a.opts.allErrors,h="data"+(l||""),p="valid"+o,m,f;if(c=="#"||c=="#/")a.isRoot?(m=a.async,f="validate"):(m=a.root.schema.$async===!0,f="root.refVal[0]");else{var v=a.resolveRef(a.baseId,c,a.isRoot);if(v===void 0){var g=a.MissingRefError.message(a.baseId,c);if(a.opts.missingRefs=="fail"){a.logger.error(g);var b=b||[];b.push(n),n="",a.createErrors!==!1?(n+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(u)+" , params: { ref: '"+a.util.escapeQuotes(c)+"' } ",a.opts.messages!==!1&&(n+=" , message: 'can\\'t resolve reference "+a.util.escapeQuotes(c)+"' "),a.opts.verbose&&(n+=" , schema: "+a.util.toQuotedString(c)+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+h+" "),n+=" } "):n+=" {} ";var w=n;n=b.pop(),!a.compositeRule&&d?a.async?n+=" throw new ValidationError(["+w+"]); ":n+=" validate.errors = ["+w+"]; return false; ":n+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",d&&(n+=" if (false) { ")}else if(a.opts.missingRefs=="ignore")a.logger.warn(g),d&&(n+=" if (true) { ");else throw new a.MissingRefError(a.baseId,c,g)}else if(v.inline){var C=a.util.copy(a);C.level++;var T="valid"+C.level;C.schema=v.schema,C.schemaPath="",C.errSchemaPath=c;var R=a.validate(C).replace(/validate\.schema/g,v.code);n+=" "+R+" ",d&&(n+=" if ("+T+") { ")}else m=v.$async===!0||a.async&&v.$async!==!1,f=v.code}if(f){var b=b||[];b.push(n),n="",a.opts.passContext?n+=" "+f+".call(this, ":n+=" "+f+"( ",n+=" "+h+", (dataPath || '')",a.errorPath!='""'&&(n+=" + "+a.errorPath);var O=l?"data"+(l-1||""):"parentData",L=l?a.dataPathArr[l]:"parentDataProperty";n+=" , "+O+" , "+L+", rootData)  ";var N=n;if(n=b.pop(),m){if(!a.async)throw new Error("async schema referenced by sync schema");d&&(n+=" var "+p+"; "),n+=" try { await "+N+"; ",d&&(n+=" "+p+" = true; "),n+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",d&&(n+=" "+p+" = false; "),n+=" } ",d&&(n+=" if ("+p+") { ")}else n+=" if (!"+N+") { if (vErrors === null) vErrors = "+f+".errors; else vErrors = vErrors.concat("+f+".errors); errors = vErrors.length; } ",d&&(n+=" else { ")}return n}}),V$=Ne((t,e)=>{e.exports=function(a,s,i){var n=" ",o=a.schema[s],l=a.schemaPath+a.util.getProperty(s),c=a.errSchemaPath+"/"+s,u=!a.opts.allErrors,d=a.util.copy(a),h="";d.level++;var p="valid"+d.level,m=d.baseId,f=!0,v=o;if(v)for(var g,b=-1,w=v.length-1;b<w;)g=v[b+=1],(a.opts.strictKeywords?typeof g=="object"&&Object.keys(g).length>0||g===!1:a.util.schemaHasRules(g,a.RULES.all))&&(f=!1,d.schema=g,d.schemaPath=l+"["+b+"]",d.errSchemaPath=c+"/"+b,n+="  "+a.validate(d)+" ",d.baseId=m,u&&(n+=" if ("+p+") { ",h+="}"));return u&&(f?n+=" if (true) { ":n+=" "+h.slice(0,-1)+" "),n}}),H$=Ne((t,e)=>{e.exports=function(a,s,i){var n=" ",o=a.level,l=a.dataLevel,c=a.schema[s],u=a.schemaPath+a.util.getProperty(s),d=a.errSchemaPath+"/"+s,h=!a.opts.allErrors,p="data"+(l||""),m="valid"+o,f="errs__"+o,v=a.util.copy(a),g="";v.level++;var b="valid"+v.level,w=c.every(function(q){return a.opts.strictKeywords?typeof q=="object"&&Object.keys(q).length>0||q===!1:a.util.schemaHasRules(q,a.RULES.all)});if(w){var C=v.baseId;n+=" var "+f+" = errors; var "+m+" = false;  ";var T=a.compositeRule;a.compositeRule=v.compositeRule=!0;var R=c;if(R)for(var O,L=-1,N=R.length-1;L<N;)O=R[L+=1],v.schema=O,v.schemaPath=u+"["+L+"]",v.errSchemaPath=d+"/"+L,n+="  "+a.validate(v)+" ",v.baseId=C,n+=" "+m+" = "+m+" || "+b+"; if (!"+m+") { ",g+="}";a.compositeRule=v.compositeRule=T,n+=" "+g+" if (!"+m+") {   var err =   ",a.createErrors!==!1?(n+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: {} ",a.opts.messages!==!1&&(n+=" , message: 'should match some schema in anyOf' "),a.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!a.compositeRule&&h&&(a.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+=" } else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } ",a.opts.allErrors&&(n+=" } ")}else h&&(n+=" if (true) { ");return n}}),G$=Ne((t,e)=>{e.exports=function(a,s,i){var n=" ",o=a.schema[s],l=a.errSchemaPath+"/"+s,c=!a.opts.allErrors,u=a.util.toQuotedString(o);return a.opts.$comment===!0?n+=" console.log("+u+");":typeof a.opts.$comment=="function"&&(n+=" self._opts.$comment("+u+", "+a.util.toQuotedString(l)+", validate.root.schema);"),n}}),W$=Ne((t,e)=>{e.exports=function(a,s,i){var n=" ",o=a.level,l=a.dataLevel,c=a.schema[s],u=a.schemaPath+a.util.getProperty(s),d=a.errSchemaPath+"/"+s,h=!a.opts.allErrors,p="data"+(l||""),m="valid"+o,f=a.opts.$data&&c&&c.$data,v;f?(n+=" var schema"+o+" = "+a.util.getData(c.$data,l,a.dataPathArr)+"; ",v="schema"+o):v=c,f||(n+=" var schema"+o+" = validate.schema"+u+";"),n+="var "+m+" = equal("+p+", schema"+o+"); if (!"+m+") {   ";var g=g||[];g.push(n),n="",a.createErrors!==!1?(n+=" { keyword: 'const' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { allowedValue: schema"+o+" } ",a.opts.messages!==!1&&(n+=" , message: 'should be equal to constant' "),a.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ";var b=n;return n=g.pop(),!a.compositeRule&&h?a.async?n+=" throw new ValidationError(["+b+"]); ":n+=" validate.errors = ["+b+"]; return false; ":n+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",h&&(n+=" else { "),n}}),K$=Ne((t,e)=>{e.exports=function(a,s,i){var n=" ",o=a.level,l=a.dataLevel,c=a.schema[s],u=a.schemaPath+a.util.getProperty(s),d=a.errSchemaPath+"/"+s,h=!a.opts.allErrors,p="data"+(l||""),m="valid"+o,f="errs__"+o,v=a.util.copy(a),g="";v.level++;var b="valid"+v.level,w="i"+o,C=v.dataLevel=a.dataLevel+1,T="data"+C,R=a.baseId,O=a.opts.strictKeywords?typeof c=="object"&&Object.keys(c).length>0||c===!1:a.util.schemaHasRules(c,a.RULES.all);if(n+="var "+f+" = errors;var "+m+";",O){var L=a.compositeRule;a.compositeRule=v.compositeRule=!0,v.schema=c,v.schemaPath=u,v.errSchemaPath=d,n+=" var "+b+" = false; for (var "+w+" = 0; "+w+" < "+p+".length; "+w+"++) { ",v.errorPath=a.util.getPathExpr(a.errorPath,w,a.opts.jsonPointers,!0);var N=p+"["+w+"]";v.dataPathArr[C]=w;var q=a.validate(v);v.baseId=R,a.util.varOccurences(q,T)<2?n+=" "+a.util.varReplace(q,T,N)+" ":n+=" var "+T+" = "+N+"; "+q+" ",n+=" if ("+b+") break; }  ",a.compositeRule=v.compositeRule=L,n+=" "+g+" if (!"+b+") {"}else n+=" if ("+p+".length == 0) {";var k=k||[];k.push(n),n="",a.createErrors!==!1?(n+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: {} ",a.opts.messages!==!1&&(n+=" , message: 'should contain a valid item' "),a.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ";var A=n;return n=k.pop(),!a.compositeRule&&h?a.async?n+=" throw new ValidationError(["+A+"]); ":n+=" validate.errors = ["+A+"]; return false; ":n+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { ",O&&(n+="  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } "),a.opts.allErrors&&(n+=" } "),n}}),J$=Ne((t,e)=>{e.exports=function(a,s,i){var n=" ",o=a.level,l=a.dataLevel,c=a.schema[s],u=a.schemaPath+a.util.getProperty(s),d=a.errSchemaPath+"/"+s,h=!a.opts.allErrors,p="data"+(l||""),m="errs__"+o,f=a.util.copy(a),v="";f.level++;var g="valid"+f.level,b={},w={},C=a.opts.ownProperties;for(L in c)if(L!="__proto__"){var T=c[L],R=Array.isArray(T)?w:b;R[L]=T}n+="var "+m+" = errors;";var O=a.errorPath;n+="var missing"+o+";";for(var L in w)if(R=w[L],R.length){if(n+=" if ( "+p+a.util.getProperty(L)+" !== undefined ",C&&(n+=" && Object.prototype.hasOwnProperty.call("+p+", '"+a.util.escapeQuotes(L)+"') "),h){n+=" && ( ";var N=R;if(N)for(var q,k=-1,A=N.length-1;k<A;){q=N[k+=1],k&&(n+=" || ");var D=a.util.getProperty(q),$=p+D;n+=" ( ( "+$+" === undefined ",C&&(n+=" || ! Object.prototype.hasOwnProperty.call("+p+", '"+a.util.escapeQuotes(q)+"') "),n+=") && (missing"+o+" = "+a.util.toQuotedString(a.opts.jsonPointers?q:D)+") ) "}n+=")) {  ";var B="missing"+o,W="' + "+B+" + '";a.opts._errorDataPathProperty&&(a.errorPath=a.opts.jsonPointers?a.util.getPathExpr(O,B,!0):O+" + "+B);var G=G||[];G.push(n),n="",a.createErrors!==!1?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { property: '"+a.util.escapeQuotes(L)+"', missingProperty: '"+W+"', depsCount: "+R.length+", deps: '"+a.util.escapeQuotes(R.length==1?R[0]:R.join(", "))+"' } ",a.opts.messages!==!1&&(n+=" , message: 'should have ",R.length==1?n+="property "+a.util.escapeQuotes(R[0]):n+="properties "+a.util.escapeQuotes(R.join(", ")),n+=" when property "+a.util.escapeQuotes(L)+" is present' "),a.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ";var K=n;n=G.pop(),!a.compositeRule&&h?a.async?n+=" throw new ValidationError(["+K+"]); ":n+=" validate.errors = ["+K+"]; return false; ":n+=" var err = "+K+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{n+=" ) { ";var Q=R;if(Q)for(var q,Y=-1,ae=Q.length-1;Y<ae;){q=Q[Y+=1];var D=a.util.getProperty(q),W=a.util.escapeQuotes(q),$=p+D;a.opts._errorDataPathProperty&&(a.errorPath=a.util.getPath(O,q,a.opts.jsonPointers)),n+=" if ( "+$+" === undefined ",C&&(n+=" || ! Object.prototype.hasOwnProperty.call("+p+", '"+a.util.escapeQuotes(q)+"') "),n+=") {  var err =   ",a.createErrors!==!1?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { property: '"+a.util.escapeQuotes(L)+"', missingProperty: '"+W+"', depsCount: "+R.length+", deps: '"+a.util.escapeQuotes(R.length==1?R[0]:R.join(", "))+"' } ",a.opts.messages!==!1&&(n+=" , message: 'should have ",R.length==1?n+="property "+a.util.escapeQuotes(R[0]):n+="properties "+a.util.escapeQuotes(R.join(", ")),n+=" when property "+a.util.escapeQuotes(L)+" is present' "),a.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}n+=" }   ",h&&(v+="}",n+=" else { ")}a.errorPath=O;var ue=f.baseId;for(var L in b){var T=b[L];(a.opts.strictKeywords?typeof T=="object"&&Object.keys(T).length>0||T===!1:a.util.schemaHasRules(T,a.RULES.all))&&(n+=" "+g+" = true; if ( "+p+a.util.getProperty(L)+" !== undefined ",C&&(n+=" && Object.prototype.hasOwnProperty.call("+p+", '"+a.util.escapeQuotes(L)+"') "),n+=") { ",f.schema=T,f.schemaPath=u+a.util.getProperty(L),f.errSchemaPath=d+"/"+a.util.escapeFragment(L),n+="  "+a.validate(f)+" ",f.baseId=ue,n+=" }  ",h&&(n+=" if ("+g+") { ",v+="}"))}return h&&(n+="   "+v+" if ("+m+" == errors) {"),n}}),Q$=Ne((t,e)=>{e.exports=function(a,s,i){var n=" ",o=a.level,l=a.dataLevel,c=a.schema[s],u=a.schemaPath+a.util.getProperty(s),d=a.errSchemaPath+"/"+s,h=!a.opts.allErrors,p="data"+(l||""),m="valid"+o,f=a.opts.$data&&c&&c.$data,v;f?(n+=" var schema"+o+" = "+a.util.getData(c.$data,l,a.dataPathArr)+"; ",v="schema"+o):v=c;var g="i"+o,b="schema"+o;f||(n+=" var "+b+" = validate.schema"+u+";"),n+="var "+m+";",f&&(n+=" if (schema"+o+" === undefined) "+m+" = true; else if (!Array.isArray(schema"+o+")) "+m+" = false; else {"),n+=""+m+" = false;for (var "+g+"=0; "+g+"<"+b+".length; "+g+"++) if (equal("+p+", "+b+"["+g+"])) { "+m+" = true; break; }",f&&(n+="  }  "),n+=" if (!"+m+") {   ";var w=w||[];w.push(n),n="",a.createErrors!==!1?(n+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { allowedValues: schema"+o+" } ",a.opts.messages!==!1&&(n+=" , message: 'should be equal to one of the allowed values' "),a.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ";var C=n;return n=w.pop(),!a.compositeRule&&h?a.async?n+=" throw new ValidationError(["+C+"]); ":n+=" validate.errors = ["+C+"]; return false; ":n+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",h&&(n+=" else { "),n}}),Y$=Ne((t,e)=>{e.exports=function(a,s,i){var n=" ",o=a.level,l=a.dataLevel,c=a.schema[s],u=a.schemaPath+a.util.getProperty(s),d=a.errSchemaPath+"/"+s,h=!a.opts.allErrors,p="data"+(l||"");if(a.opts.format===!1)return h&&(n+=" if (true) { "),n;var m=a.opts.$data&&c&&c.$data,f;m?(n+=" var schema"+o+" = "+a.util.getData(c.$data,l,a.dataPathArr)+"; ",f="schema"+o):f=c;var v=a.opts.unknownFormats,g=Array.isArray(v);if(m){var b="format"+o,w="isObject"+o,C="formatType"+o;n+=" var "+b+" = formats["+f+"]; var "+w+" = typeof "+b+" == 'object' && !("+b+" instanceof RegExp) && "+b+".validate; var "+C+" = "+w+" && "+b+".type || 'string'; if ("+w+") { ",a.async&&(n+=" var async"+o+" = "+b+".async; "),n+=" "+b+" = "+b+".validate; } if (  ",m&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'string') || "),n+=" (",v!="ignore"&&(n+=" ("+f+" && !"+b+" ",g&&(n+=" && self._opts.unknownFormats.indexOf("+f+") == -1 "),n+=") || "),n+=" ("+b+" && "+C+" == '"+i+"' && !(typeof "+b+" == 'function' ? ",a.async?n+=" (async"+o+" ? await "+b+"("+p+") : "+b+"("+p+")) ":n+=" "+b+"("+p+") ",n+=" : "+b+".test("+p+"))))) {"}else{var b=a.formats[c];if(!b){if(v=="ignore")return a.logger.warn('unknown format "'+c+'" ignored in schema at path "'+a.errSchemaPath+'"'),h&&(n+=" if (true) { "),n;if(g&&v.indexOf(c)>=0)return h&&(n+=" if (true) { "),n;throw new Error('unknown format "'+c+'" is used in schema at path "'+a.errSchemaPath+'"')}var w=typeof b=="object"&&!(b instanceof RegExp)&&b.validate,C=w&&b.type||"string";if(w){var T=b.async===!0;b=b.validate}if(C!=i)return h&&(n+=" if (true) { "),n;if(T){if(!a.async)throw new Error("async format in sync schema");var R="formats"+a.util.getProperty(c)+".validate";n+=" if (!(await "+R+"("+p+"))) { "}else{n+=" if (! ";var R="formats"+a.util.getProperty(c);w&&(R+=".validate"),typeof b=="function"?n+=" "+R+"("+p+") ":n+=" "+R+".test("+p+") ",n+=") { "}}var O=O||[];O.push(n),n="",a.createErrors!==!1?(n+=" { keyword: 'format' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { format:  ",m?n+=""+f:n+=""+a.util.toQuotedString(c),n+="  } ",a.opts.messages!==!1&&(n+=` , message: 'should match format "`,m?n+="' + "+f+" + '":n+=""+a.util.escapeQuotes(c),n+=`"' `),a.opts.verbose&&(n+=" , schema:  ",m?n+="validate.schema"+u:n+=""+a.util.toQuotedString(c),n+="         , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ";var L=n;return n=O.pop(),!a.compositeRule&&h?a.async?n+=" throw new ValidationError(["+L+"]); ":n+=" validate.errors = ["+L+"]; return false; ":n+=" var err = "+L+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",h&&(n+=" else { "),n}}),X$=Ne((t,e)=>{e.exports=function(a,s,i){var n=" ",o=a.level,l=a.dataLevel,c=a.schema[s],u=a.schemaPath+a.util.getProperty(s),d=a.errSchemaPath+"/"+s,h=!a.opts.allErrors,p="data"+(l||""),m="valid"+o,f="errs__"+o,v=a.util.copy(a);v.level++;var g="valid"+v.level,b=a.schema.then,w=a.schema.else,C=b!==void 0&&(a.opts.strictKeywords?typeof b=="object"&&Object.keys(b).length>0||b===!1:a.util.schemaHasRules(b,a.RULES.all)),T=w!==void 0&&(a.opts.strictKeywords?typeof w=="object"&&Object.keys(w).length>0||w===!1:a.util.schemaHasRules(w,a.RULES.all)),R=v.baseId;if(C||T){var O;v.createErrors=!1,v.schema=c,v.schemaPath=u,v.errSchemaPath=d,n+=" var "+f+" = errors; var "+m+" = true;  ";var L=a.compositeRule;a.compositeRule=v.compositeRule=!0,n+="  "+a.validate(v)+" ",v.baseId=R,v.createErrors=!0,n+="  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; }  ",a.compositeRule=v.compositeRule=L,C?(n+=" if ("+g+") {  ",v.schema=a.schema.then,v.schemaPath=a.schemaPath+".then",v.errSchemaPath=a.errSchemaPath+"/then",n+="  "+a.validate(v)+" ",v.baseId=R,n+=" "+m+" = "+g+"; ",C&&T?(O="ifClause"+o,n+=" var "+O+" = 'then'; "):O="'then'",n+=" } ",T&&(n+=" else { ")):n+=" if (!"+g+") { ",T&&(v.schema=a.schema.else,v.schemaPath=a.schemaPath+".else",v.errSchemaPath=a.errSchemaPath+"/else",n+="  "+a.validate(v)+" ",v.baseId=R,n+=" "+m+" = "+g+"; ",C&&T?(O="ifClause"+o,n+=" var "+O+" = 'else'; "):O="'else'",n+=" } "),n+=" if (!"+m+") {   var err =   ",a.createErrors!==!1?(n+=" { keyword: 'if' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { failingKeyword: "+O+" } ",a.opts.messages!==!1&&(n+=` , message: 'should match "' + `+O+` + '" schema' `),a.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!a.compositeRule&&h&&(a.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+=" }   ",h&&(n+=" else { ")}else h&&(n+=" if (true) { ");return n}}),eL=Ne((t,e)=>{e.exports=function(a,s,i){var n=" ",o=a.level,l=a.dataLevel,c=a.schema[s],u=a.schemaPath+a.util.getProperty(s),d=a.errSchemaPath+"/"+s,h=!a.opts.allErrors,p="data"+(l||""),m="valid"+o,f="errs__"+o,v=a.util.copy(a),g="";v.level++;var b="valid"+v.level,w="i"+o,C=v.dataLevel=a.dataLevel+1,T="data"+C,R=a.baseId;if(n+="var "+f+" = errors;var "+m+";",Array.isArray(c)){var O=a.schema.additionalItems;if(O===!1){n+=" "+m+" = "+p+".length <= "+c.length+"; ";var L=d;d=a.errSchemaPath+"/additionalItems",n+="  if (!"+m+") {   ";var N=N||[];N.push(n),n="",a.createErrors!==!1?(n+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { limit: "+c.length+" } ",a.opts.messages!==!1&&(n+=" , message: 'should NOT have more than "+c.length+" items' "),a.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ";var q=n;n=N.pop(),!a.compositeRule&&h?a.async?n+=" throw new ValidationError(["+q+"]); ":n+=" validate.errors = ["+q+"]; return false; ":n+=" var err = "+q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",d=L,h&&(g+="}",n+=" else { ")}var k=c;if(k){for(var A,D=-1,$=k.length-1;D<$;)if(A=k[D+=1],a.opts.strictKeywords?typeof A=="object"&&Object.keys(A).length>0||A===!1:a.util.schemaHasRules(A,a.RULES.all)){n+=" "+b+" = true; if ("+p+".length > "+D+") { ";var B=p+"["+D+"]";v.schema=A,v.schemaPath=u+"["+D+"]",v.errSchemaPath=d+"/"+D,v.errorPath=a.util.getPathExpr(a.errorPath,D,a.opts.jsonPointers,!0),v.dataPathArr[C]=D;var W=a.validate(v);v.baseId=R,a.util.varOccurences(W,T)<2?n+=" "+a.util.varReplace(W,T,B)+" ":n+=" var "+T+" = "+B+"; "+W+" ",n+=" }  ",h&&(n+=" if ("+b+") { ",g+="}")}}if(typeof O=="object"&&(a.opts.strictKeywords?typeof O=="object"&&Object.keys(O).length>0||O===!1:a.util.schemaHasRules(O,a.RULES.all))){v.schema=O,v.schemaPath=a.schemaPath+".additionalItems",v.errSchemaPath=a.errSchemaPath+"/additionalItems",n+=" "+b+" = true; if ("+p+".length > "+c.length+") {  for (var "+w+" = "+c.length+"; "+w+" < "+p+".length; "+w+"++) { ",v.errorPath=a.util.getPathExpr(a.errorPath,w,a.opts.jsonPointers,!0);var B=p+"["+w+"]";v.dataPathArr[C]=w;var W=a.validate(v);v.baseId=R,a.util.varOccurences(W,T)<2?n+=" "+a.util.varReplace(W,T,B)+" ":n+=" var "+T+" = "+B+"; "+W+" ",h&&(n+=" if (!"+b+") break; "),n+=" } }  ",h&&(n+=" if ("+b+") { ",g+="}")}}else if(a.opts.strictKeywords?typeof c=="object"&&Object.keys(c).length>0||c===!1:a.util.schemaHasRules(c,a.RULES.all)){v.schema=c,v.schemaPath=u,v.errSchemaPath=d,n+="  for (var "+w+" = 0; "+w+" < "+p+".length; "+w+"++) { ",v.errorPath=a.util.getPathExpr(a.errorPath,w,a.opts.jsonPointers,!0);var B=p+"["+w+"]";v.dataPathArr[C]=w;var W=a.validate(v);v.baseId=R,a.util.varOccurences(W,T)<2?n+=" "+a.util.varReplace(W,T,B)+" ":n+=" var "+T+" = "+B+"; "+W+" ",h&&(n+=" if (!"+b+") break; "),n+=" }"}return h&&(n+=" "+g+" if ("+f+" == errors) {"),n}}),e0=Ne((t,e)=>{e.exports=function(a,s,i){var n=" ",o=a.level,l=a.dataLevel,c=a.schema[s],u=a.schemaPath+a.util.getProperty(s),d=a.errSchemaPath+"/"+s,h=!a.opts.allErrors,R,p="data"+(l||""),m=a.opts.$data&&c&&c.$data,f;m?(n+=" var schema"+o+" = "+a.util.getData(c.$data,l,a.dataPathArr)+"; ",f="schema"+o):f=c;var v=s=="maximum",g=v?"exclusiveMaximum":"exclusiveMinimum",b=a.schema[g],w=a.opts.$data&&b&&b.$data,C=v?"<":">",T=v?">":"<",R=void 0;if(!(m||typeof c=="number"||c===void 0))throw new Error(s+" must be number");if(!(w||b===void 0||typeof b=="number"||typeof b=="boolean"))throw new Error(g+" must be number or boolean");if(w){var O=a.util.getData(b.$data,l,a.dataPathArr),L="exclusive"+o,N="exclType"+o,q="exclIsNumber"+o,k="op"+o,A="' + "+k+" + '";n+=" var schemaExcl"+o+" = "+O+"; ",O="schemaExcl"+o,n+=" var "+L+"; var "+N+" = typeof "+O+"; if ("+N+" != 'boolean' && "+N+" != 'undefined' && "+N+" != 'number') { ";var R=g,D=D||[];D.push(n),n="",a.createErrors!==!1?(n+=" { keyword: '"+(R||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: {} ",a.opts.messages!==!1&&(n+=" , message: '"+g+" should be boolean' "),a.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ";var $=n;n=D.pop(),!a.compositeRule&&h?a.async?n+=" throw new ValidationError(["+$+"]); ":n+=" validate.errors = ["+$+"]; return false; ":n+=" var err = "+$+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else if ( ",m&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),n+=" "+N+" == 'number' ? ( ("+L+" = "+f+" === undefined || "+O+" "+C+"= "+f+") ? "+p+" "+T+"= "+O+" : "+p+" "+T+" "+f+" ) : ( ("+L+" = "+O+" === true) ? "+p+" "+T+"= "+f+" : "+p+" "+T+" "+f+" ) || "+p+" !== "+p+") { var op"+o+" = "+L+" ? '"+C+"' : '"+C+"='; ",c===void 0&&(R=g,d=a.errSchemaPath+"/"+g,f=O,m=w)}else{var q=typeof b=="number",A=C;if(q&&m){var k="'"+A+"'";n+=" if ( ",m&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),n+=" ( "+f+" === undefined || "+b+" "+C+"= "+f+" ? "+p+" "+T+"= "+b+" : "+p+" "+T+" "+f+" ) || "+p+" !== "+p+") { "}else{q&&c===void 0?(L=!0,R=g,d=a.errSchemaPath+"/"+g,f=b,T+="="):(q&&(f=Math[v?"min":"max"](b,c)),b===(q?f:!0)?(L=!0,R=g,d=a.errSchemaPath+"/"+g,T+="="):(L=!1,A+="="));var k="'"+A+"'";n+=" if ( ",m&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),n+=" "+p+" "+T+" "+f+" || "+p+" !== "+p+") { "}}R=R||s;var D=D||[];D.push(n),n="",a.createErrors!==!1?(n+=" { keyword: '"+(R||"_limit")+"' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { comparison: "+k+", limit: "+f+", exclusive: "+L+" } ",a.opts.messages!==!1&&(n+=" , message: 'should be "+A+" ",m?n+="' + "+f:n+=""+f+"'"),a.opts.verbose&&(n+=" , schema:  ",m?n+="validate.schema"+u:n+=""+c,n+="         , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ";var $=n;return n=D.pop(),!a.compositeRule&&h?a.async?n+=" throw new ValidationError(["+$+"]); ":n+=" validate.errors = ["+$+"]; return false; ":n+=" var err = "+$+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",h&&(n+=" else { "),n}}),t0=Ne((t,e)=>{e.exports=function(a,s,i){var n=" ",o=a.level,l=a.dataLevel,c=a.schema[s],u=a.schemaPath+a.util.getProperty(s),d=a.errSchemaPath+"/"+s,h=!a.opts.allErrors,g,p="data"+(l||""),m=a.opts.$data&&c&&c.$data,f;if(m?(n+=" var schema"+o+" = "+a.util.getData(c.$data,l,a.dataPathArr)+"; ",f="schema"+o):f=c,!(m||typeof c=="number"))throw new Error(s+" must be number");var v=s=="maxItems"?">":"<";n+="if ( ",m&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),n+=" "+p+".length "+v+" "+f+") { ";var g=s,b=b||[];b.push(n),n="",a.createErrors!==!1?(n+=" { keyword: '"+(g||"_limitItems")+"' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { limit: "+f+" } ",a.opts.messages!==!1&&(n+=" , message: 'should NOT have ",s=="maxItems"?n+="more":n+="fewer",n+=" than ",m?n+="' + "+f+" + '":n+=""+c,n+=" items' "),a.opts.verbose&&(n+=" , schema:  ",m?n+="validate.schema"+u:n+=""+c,n+="         , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ";var w=n;return n=b.pop(),!a.compositeRule&&h?a.async?n+=" throw new ValidationError(["+w+"]); ":n+=" validate.errors = ["+w+"]; return false; ":n+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",h&&(n+=" else { "),n}}),r0=Ne((t,e)=>{e.exports=function(a,s,i){var n=" ",o=a.level,l=a.dataLevel,c=a.schema[s],u=a.schemaPath+a.util.getProperty(s),d=a.errSchemaPath+"/"+s,h=!a.opts.allErrors,g,p="data"+(l||""),m=a.opts.$data&&c&&c.$data,f;if(m?(n+=" var schema"+o+" = "+a.util.getData(c.$data,l,a.dataPathArr)+"; ",f="schema"+o):f=c,!(m||typeof c=="number"))throw new Error(s+" must be number");var v=s=="maxLength"?">":"<";n+="if ( ",m&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),a.opts.unicode===!1?n+=" "+p+".length ":n+=" ucs2length("+p+") ",n+=" "+v+" "+f+") { ";var g=s,b=b||[];b.push(n),n="",a.createErrors!==!1?(n+=" { keyword: '"+(g||"_limitLength")+"' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { limit: "+f+" } ",a.opts.messages!==!1&&(n+=" , message: 'should NOT be ",s=="maxLength"?n+="longer":n+="shorter",n+=" than ",m?n+="' + "+f+" + '":n+=""+c,n+=" characters' "),a.opts.verbose&&(n+=" , schema:  ",m?n+="validate.schema"+u:n+=""+c,n+="         , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ";var w=n;return n=b.pop(),!a.compositeRule&&h?a.async?n+=" throw new ValidationError(["+w+"]); ":n+=" validate.errors = ["+w+"]; return false; ":n+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",h&&(n+=" else { "),n}}),a0=Ne((t,e)=>{e.exports=function(a,s,i){var n=" ",o=a.level,l=a.dataLevel,c=a.schema[s],u=a.schemaPath+a.util.getProperty(s),d=a.errSchemaPath+"/"+s,h=!a.opts.allErrors,g,p="data"+(l||""),m=a.opts.$data&&c&&c.$data,f;if(m?(n+=" var schema"+o+" = "+a.util.getData(c.$data,l,a.dataPathArr)+"; ",f="schema"+o):f=c,!(m||typeof c=="number"))throw new Error(s+" must be number");var v=s=="maxProperties"?">":"<";n+="if ( ",m&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),n+=" Object.keys("+p+").length "+v+" "+f+") { ";var g=s,b=b||[];b.push(n),n="",a.createErrors!==!1?(n+=" { keyword: '"+(g||"_limitProperties")+"' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { limit: "+f+" } ",a.opts.messages!==!1&&(n+=" , message: 'should NOT have ",s=="maxProperties"?n+="more":n+="fewer",n+=" than ",m?n+="' + "+f+" + '":n+=""+c,n+=" properties' "),a.opts.verbose&&(n+=" , schema:  ",m?n+="validate.schema"+u:n+=""+c,n+="         , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ";var w=n;return n=b.pop(),!a.compositeRule&&h?a.async?n+=" throw new ValidationError(["+w+"]); ":n+=" validate.errors = ["+w+"]; return false; ":n+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",h&&(n+=" else { "),n}}),tL=Ne((t,e)=>{e.exports=function(a,s,i){var n=" ",o=a.level,l=a.dataLevel,c=a.schema[s],u=a.schemaPath+a.util.getProperty(s),d=a.errSchemaPath+"/"+s,h=!a.opts.allErrors,p="data"+(l||""),m=a.opts.$data&&c&&c.$data,f;if(m?(n+=" var schema"+o+" = "+a.util.getData(c.$data,l,a.dataPathArr)+"; ",f="schema"+o):f=c,!(m||typeof c=="number"))throw new Error(s+" must be number");n+="var division"+o+";if (",m&&(n+=" "+f+" !== undefined && ( typeof "+f+" != 'number' || "),n+=" (division"+o+" = "+p+" / "+f+", ",a.opts.multipleOfPrecision?n+=" Math.abs(Math.round(division"+o+") - division"+o+") > 1e-"+a.opts.multipleOfPrecision+" ":n+=" division"+o+" !== parseInt(division"+o+") ",n+=" ) ",m&&(n+="  )  "),n+=" ) {   ";var v=v||[];v.push(n),n="",a.createErrors!==!1?(n+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { multipleOf: "+f+" } ",a.opts.messages!==!1&&(n+=" , message: 'should be multiple of ",m?n+="' + "+f:n+=""+f+"'"),a.opts.verbose&&(n+=" , schema:  ",m?n+="validate.schema"+u:n+=""+c,n+="         , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ";var g=n;return n=v.pop(),!a.compositeRule&&h?a.async?n+=" throw new ValidationError(["+g+"]); ":n+=" validate.errors = ["+g+"]; return false; ":n+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",h&&(n+=" else { "),n}}),rL=Ne((t,e)=>{e.exports=function(a,s,i){var n=" ",o=a.level,l=a.dataLevel,c=a.schema[s],u=a.schemaPath+a.util.getProperty(s),d=a.errSchemaPath+"/"+s,h=!a.opts.allErrors,p="data"+(l||""),m="errs__"+o,f=a.util.copy(a);f.level++;var v="valid"+f.level;if(a.opts.strictKeywords?typeof c=="object"&&Object.keys(c).length>0||c===!1:a.util.schemaHasRules(c,a.RULES.all)){f.schema=c,f.schemaPath=u,f.errSchemaPath=d,n+=" var "+m+" = errors;  ";var g=a.compositeRule;a.compositeRule=f.compositeRule=!0,f.createErrors=!1;var b;f.opts.allErrors&&(b=f.opts.allErrors,f.opts.allErrors=!1),n+=" "+a.validate(f)+" ",f.createErrors=!0,b&&(f.opts.allErrors=b),a.compositeRule=f.compositeRule=g,n+=" if ("+v+") {   ";var w=w||[];w.push(n),n="",a.createErrors!==!1?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: {} ",a.opts.messages!==!1&&(n+=" , message: 'should NOT be valid' "),a.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ";var C=n;n=w.pop(),!a.compositeRule&&h?a.async?n+=" throw new ValidationError(["+C+"]); ":n+=" validate.errors = ["+C+"]; return false; ":n+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else {  errors = "+m+"; if (vErrors !== null) { if ("+m+") vErrors.length = "+m+"; else vErrors = null; } ",a.opts.allErrors&&(n+=" } ")}else n+="  var err =   ",a.createErrors!==!1?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: {} ",a.opts.messages!==!1&&(n+=" , message: 'should NOT be valid' "),a.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",h&&(n+=" if (false) { ");return n}}),aL=Ne((t,e)=>{e.exports=function(a,s,i){var n=" ",o=a.level,l=a.dataLevel,c=a.schema[s],u=a.schemaPath+a.util.getProperty(s),d=a.errSchemaPath+"/"+s,h=!a.opts.allErrors,p="data"+(l||""),m="valid"+o,f="errs__"+o,v=a.util.copy(a),g="";v.level++;var b="valid"+v.level,w=v.baseId,C="prevValid"+o,T="passingSchemas"+o;n+="var "+f+" = errors , "+C+" = false , "+m+" = false , "+T+" = null; ";var R=a.compositeRule;a.compositeRule=v.compositeRule=!0;var O=c;if(O)for(var L,N=-1,q=O.length-1;N<q;)L=O[N+=1],(a.opts.strictKeywords?typeof L=="object"&&Object.keys(L).length>0||L===!1:a.util.schemaHasRules(L,a.RULES.all))?(v.schema=L,v.schemaPath=u+"["+N+"]",v.errSchemaPath=d+"/"+N,n+="  "+a.validate(v)+" ",v.baseId=w):n+=" var "+b+" = true; ",N&&(n+=" if ("+b+" && "+C+") { "+m+" = false; "+T+" = ["+T+", "+N+"]; } else { ",g+="}"),n+=" if ("+b+") { "+m+" = "+C+" = true; "+T+" = "+N+"; }";return a.compositeRule=v.compositeRule=R,n+=""+g+"if (!"+m+") {   var err =   ",a.createErrors!==!1?(n+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { passingSchemas: "+T+" } ",a.opts.messages!==!1&&(n+=" , message: 'should match exactly one schema in oneOf' "),a.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!a.compositeRule&&h&&(a.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+="} else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; }",a.opts.allErrors&&(n+=" } "),n}}),sL=Ne((t,e)=>{e.exports=function(a,s,i){var n=" ",o=a.level,l=a.dataLevel,c=a.schema[s],u=a.schemaPath+a.util.getProperty(s),d=a.errSchemaPath+"/"+s,h=!a.opts.allErrors,p="data"+(l||""),m=a.opts.$data&&c&&c.$data,f;m?(n+=" var schema"+o+" = "+a.util.getData(c.$data,l,a.dataPathArr)+"; ",f="schema"+o):f=c;var v=m?"(new RegExp("+f+"))":a.usePattern(c);n+="if ( ",m&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'string') || "),n+=" !"+v+".test("+p+") ) {   ";var g=g||[];g.push(n),n="",a.createErrors!==!1?(n+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { pattern:  ",m?n+=""+f:n+=""+a.util.toQuotedString(c),n+="  } ",a.opts.messages!==!1&&(n+=` , message: 'should match pattern "`,m?n+="' + "+f+" + '":n+=""+a.util.escapeQuotes(c),n+=`"' `),a.opts.verbose&&(n+=" , schema:  ",m?n+="validate.schema"+u:n+=""+a.util.toQuotedString(c),n+="         , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ";var b=n;return n=g.pop(),!a.compositeRule&&h?a.async?n+=" throw new ValidationError(["+b+"]); ":n+=" validate.errors = ["+b+"]; return false; ":n+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",h&&(n+=" else { "),n}}),nL=Ne((t,e)=>{e.exports=function(a,s,i){var n=" ",o=a.level,l=a.dataLevel,c=a.schema[s],u=a.schemaPath+a.util.getProperty(s),d=a.errSchemaPath+"/"+s,h=!a.opts.allErrors,p="data"+(l||""),m="errs__"+o,f=a.util.copy(a),v="";f.level++;var g="valid"+f.level,b="key"+o,w="idx"+o,C=f.dataLevel=a.dataLevel+1,T="data"+C,R="dataProperties"+o,O=Object.keys(c||{}).filter(Y),L=a.schema.patternProperties||{},N=Object.keys(L).filter(Y),q=a.schema.additionalProperties,k=O.length||N.length,A=q===!1,D=typeof q=="object"&&Object.keys(q).length,$=a.opts.removeAdditional,B=A||D||$,W=a.opts.ownProperties,G=a.baseId,K=a.schema.required;if(K&&!(a.opts.$data&&K.$data)&&K.length<a.opts.loopRequired)var Q=a.util.toHash(K);function Y(Xt){return Xt!=="__proto__"}if(n+="var "+m+" = errors;var "+g+" = true;",W&&(n+=" var "+R+" = undefined;"),B){if(W?n+=" "+R+" = "+R+" || Object.keys("+p+"); for (var "+w+"=0; "+w+"<"+R+".length; "+w+"++) { var "+b+" = "+R+"["+w+"]; ":n+=" for (var "+b+" in "+p+") { ",k){if(n+=" var isAdditional"+o+" = !(false ",O.length)if(O.length>8)n+=" || validate.schema"+u+".hasOwnProperty("+b+") ";else{var ae=O;if(ae)for(var ue,Qe=-1,ye=ae.length-1;Qe<ye;)ue=ae[Qe+=1],n+=" || "+b+" == "+a.util.toQuotedString(ue)+" "}if(N.length){var Re=N;if(Re)for(var Ie,Ue=-1,U=Re.length-1;Ue<U;)Ie=Re[Ue+=1],n+=" || "+a.usePattern(Ie)+".test("+b+") "}n+=" ); if (isAdditional"+o+") { "}if($=="all")n+=" delete "+p+"["+b+"]; ";else{var J=a.errorPath,ne="' + "+b+" + '";if(a.opts._errorDataPathProperty&&(a.errorPath=a.util.getPathExpr(a.errorPath,b,a.opts.jsonPointers)),A)if($)n+=" delete "+p+"["+b+"]; ";else{n+=" "+g+" = false; ";var he=d;d=a.errSchemaPath+"/additionalProperties";var X=X||[];X.push(n),n="",a.createErrors!==!1?(n+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { additionalProperty: '"+ne+"' } ",a.opts.messages!==!1&&(n+=" , message: '",a.opts._errorDataPathProperty?n+="is an invalid additional property":n+="should NOT have additional properties",n+="' "),a.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ";var te=n;n=X.pop(),!a.compositeRule&&h?a.async?n+=" throw new ValidationError(["+te+"]); ":n+=" validate.errors = ["+te+"]; return false; ":n+=" var err = "+te+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",d=he,h&&(n+=" break; ")}else if(D)if($=="failing"){n+=" var "+m+" = errors;  ";var de=a.compositeRule;a.compositeRule=f.compositeRule=!0,f.schema=q,f.schemaPath=a.schemaPath+".additionalProperties",f.errSchemaPath=a.errSchemaPath+"/additionalProperties",f.errorPath=a.opts._errorDataPathProperty?a.errorPath:a.util.getPathExpr(a.errorPath,b,a.opts.jsonPointers);var Le=p+"["+b+"]";f.dataPathArr[C]=b;var _e=a.validate(f);f.baseId=G,a.util.varOccurences(_e,T)<2?n+=" "+a.util.varReplace(_e,T,Le)+" ":n+=" var "+T+" = "+Le+"; "+_e+" ",n+=" if (!"+g+") { errors = "+m+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+p+"["+b+"]; }  ",a.compositeRule=f.compositeRule=de}else{f.schema=q,f.schemaPath=a.schemaPath+".additionalProperties",f.errSchemaPath=a.errSchemaPath+"/additionalProperties",f.errorPath=a.opts._errorDataPathProperty?a.errorPath:a.util.getPathExpr(a.errorPath,b,a.opts.jsonPointers);var Le=p+"["+b+"]";f.dataPathArr[C]=b;var _e=a.validate(f);f.baseId=G,a.util.varOccurences(_e,T)<2?n+=" "+a.util.varReplace(_e,T,Le)+" ":n+=" var "+T+" = "+Le+"; "+_e+" ",h&&(n+=" if (!"+g+") break; ")}a.errorPath=J}k&&(n+=" } "),n+=" }  ",h&&(n+=" if ("+g+") { ",v+="}")}var it=a.opts.useDefaults&&!a.compositeRule;if(O.length){var ot=O;if(ot)for(var ue,Ce=-1,ft=ot.length-1;Ce<ft;){ue=ot[Ce+=1];var Ye=c[ue];if(a.opts.strictKeywords?typeof Ye=="object"&&Object.keys(Ye).length>0||Ye===!1:a.util.schemaHasRules(Ye,a.RULES.all)){var dt=a.util.getProperty(ue),Le=p+dt,at=it&&Ye.default!==void 0;f.schema=Ye,f.schemaPath=u+dt,f.errSchemaPath=d+"/"+a.util.escapeFragment(ue),f.errorPath=a.util.getPath(a.errorPath,ue,a.opts.jsonPointers),f.dataPathArr[C]=a.util.toQuotedString(ue);var _e=a.validate(f);if(f.baseId=G,a.util.varOccurences(_e,T)<2){_e=a.util.varReplace(_e,T,Le);var ct=Le}else{var ct=T;n+=" var "+T+" = "+Le+"; "}if(at)n+=" "+_e+" ";else{if(Q&&Q[ue]){n+=" if ( "+ct+" === undefined ",W&&(n+=" || ! Object.prototype.hasOwnProperty.call("+p+", '"+a.util.escapeQuotes(ue)+"') "),n+=") { "+g+" = false; ";var J=a.errorPath,he=d,Lt=a.util.escapeQuotes(ue);a.opts._errorDataPathProperty&&(a.errorPath=a.util.getPath(J,ue,a.opts.jsonPointers)),d=a.errSchemaPath+"/required";var X=X||[];X.push(n),n="",a.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { missingProperty: '"+Lt+"' } ",a.opts.messages!==!1&&(n+=" , message: '",a.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+Lt+"\\'",n+="' "),a.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ";var te=n;n=X.pop(),!a.compositeRule&&h?a.async?n+=" throw new ValidationError(["+te+"]); ":n+=" validate.errors = ["+te+"]; return false; ":n+=" var err = "+te+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",d=he,a.errorPath=J,n+=" } else { "}else h?(n+=" if ( "+ct+" === undefined ",W&&(n+=" || ! Object.prototype.hasOwnProperty.call("+p+", '"+a.util.escapeQuotes(ue)+"') "),n+=") { "+g+" = true; } else { "):(n+=" if ("+ct+" !== undefined ",W&&(n+=" &&   Object.prototype.hasOwnProperty.call("+p+", '"+a.util.escapeQuotes(ue)+"') "),n+=" ) { ");n+=" "+_e+" } "}}h&&(n+=" if ("+g+") { ",v+="}")}}if(N.length){var Ft=N;if(Ft)for(var Ie,Ut=-1,Oa=Ft.length-1;Ut<Oa;){Ie=Ft[Ut+=1];var Ye=L[Ie];if(a.opts.strictKeywords?typeof Ye=="object"&&Object.keys(Ye).length>0||Ye===!1:a.util.schemaHasRules(Ye,a.RULES.all)){f.schema=Ye,f.schemaPath=a.schemaPath+".patternProperties"+a.util.getProperty(Ie),f.errSchemaPath=a.errSchemaPath+"/patternProperties/"+a.util.escapeFragment(Ie),W?n+=" "+R+" = "+R+" || Object.keys("+p+"); for (var "+w+"=0; "+w+"<"+R+".length; "+w+"++) { var "+b+" = "+R+"["+w+"]; ":n+=" for (var "+b+" in "+p+") { ",n+=" if ("+a.usePattern(Ie)+".test("+b+")) { ",f.errorPath=a.util.getPathExpr(a.errorPath,b,a.opts.jsonPointers);var Le=p+"["+b+"]";f.dataPathArr[C]=b;var _e=a.validate(f);f.baseId=G,a.util.varOccurences(_e,T)<2?n+=" "+a.util.varReplace(_e,T,Le)+" ":n+=" var "+T+" = "+Le+"; "+_e+" ",h&&(n+=" if (!"+g+") break; "),n+=" } ",h&&(n+=" else "+g+" = true; "),n+=" }  ",h&&(n+=" if ("+g+") { ",v+="}")}}}return h&&(n+=" "+v+" if ("+m+" == errors) {"),n}}),iL=Ne((t,e)=>{e.exports=function(a,s,i){var n=" ",o=a.level,l=a.dataLevel,c=a.schema[s],u=a.schemaPath+a.util.getProperty(s),d=a.errSchemaPath+"/"+s,h=!a.opts.allErrors,p="data"+(l||""),m="errs__"+o,f=a.util.copy(a),v="";f.level++;var g="valid"+f.level;if(n+="var "+m+" = errors;",a.opts.strictKeywords?typeof c=="object"&&Object.keys(c).length>0||c===!1:a.util.schemaHasRules(c,a.RULES.all)){f.schema=c,f.schemaPath=u,f.errSchemaPath=d;var b="key"+o,w="idx"+o,C="i"+o,T="' + "+b+" + '",R=f.dataLevel=a.dataLevel+1,O="data"+R,L="dataProperties"+o,N=a.opts.ownProperties,q=a.baseId;N&&(n+=" var "+L+" = undefined; "),N?n+=" "+L+" = "+L+" || Object.keys("+p+"); for (var "+w+"=0; "+w+"<"+L+".length; "+w+"++) { var "+b+" = "+L+"["+w+"]; ":n+=" for (var "+b+" in "+p+") { ",n+=" var startErrs"+o+" = errors; ";var k=b,A=a.compositeRule;a.compositeRule=f.compositeRule=!0;var D=a.validate(f);f.baseId=q,a.util.varOccurences(D,O)<2?n+=" "+a.util.varReplace(D,O,k)+" ":n+=" var "+O+" = "+k+"; "+D+" ",a.compositeRule=f.compositeRule=A,n+=" if (!"+g+") { for (var "+C+"=startErrs"+o+"; "+C+"<errors; "+C+"++) { vErrors["+C+"].propertyName = "+b+"; }   var err =   ",a.createErrors!==!1?(n+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { propertyName: '"+T+"' } ",a.opts.messages!==!1&&(n+=" , message: 'property name \\'"+T+"\\' is invalid' "),a.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!a.compositeRule&&h&&(a.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),h&&(n+=" break; "),n+=" } }"}return h&&(n+=" "+v+" if ("+m+" == errors) {"),n}}),oL=Ne((t,e)=>{e.exports=function(a,s,i){var n=" ",o=a.level,l=a.dataLevel,c=a.schema[s],u=a.schemaPath+a.util.getProperty(s),d=a.errSchemaPath+"/"+s,h=!a.opts.allErrors,p="data"+(l||""),m="valid"+o,f=a.opts.$data&&c&&c.$data,v;f?(n+=" var schema"+o+" = "+a.util.getData(c.$data,l,a.dataPathArr)+"; ",v="schema"+o):v=c;var g="schema"+o;if(!f)if(c.length<a.opts.loopRequired&&a.schema.properties&&Object.keys(a.schema.properties).length){var b=[],w=c;if(w)for(var C,T=-1,R=w.length-1;T<R;){C=w[T+=1];var O=a.schema.properties[C];O&&(a.opts.strictKeywords?typeof O=="object"&&Object.keys(O).length>0||O===!1:a.util.schemaHasRules(O,a.RULES.all))||(b[b.length]=C)}}else var b=c;if(f||b.length){var L=a.errorPath,N=f||b.length>=a.opts.loopRequired,q=a.opts.ownProperties;if(h)if(n+=" var missing"+o+"; ",N){f||(n+=" var "+g+" = validate.schema"+u+"; ");var k="i"+o,A="schema"+o+"["+k+"]",D="' + "+A+" + '";a.opts._errorDataPathProperty&&(a.errorPath=a.util.getPathExpr(L,A,a.opts.jsonPointers)),n+=" var "+m+" = true; ",f&&(n+=" if (schema"+o+" === undefined) "+m+" = true; else if (!Array.isArray(schema"+o+")) "+m+" = false; else {"),n+=" for (var "+k+" = 0; "+k+" < "+g+".length; "+k+"++) { "+m+" = "+p+"["+g+"["+k+"]] !== undefined ",q&&(n+=" &&   Object.prototype.hasOwnProperty.call("+p+", "+g+"["+k+"]) "),n+="; if (!"+m+") break; } ",f&&(n+="  }  "),n+="  if (!"+m+") {   ";var $=$||[];$.push(n),n="",a.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { missingProperty: '"+D+"' } ",a.opts.messages!==!1&&(n+=" , message: '",a.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+D+"\\'",n+="' "),a.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ";var B=n;n=$.pop(),!a.compositeRule&&h?a.async?n+=" throw new ValidationError(["+B+"]); ":n+=" validate.errors = ["+B+"]; return false; ":n+=" var err = "+B+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else{n+=" if ( ";var W=b;if(W)for(var G,k=-1,K=W.length-1;k<K;){G=W[k+=1],k&&(n+=" || ");var Q=a.util.getProperty(G),Y=p+Q;n+=" ( ( "+Y+" === undefined ",q&&(n+=" || ! Object.prototype.hasOwnProperty.call("+p+", '"+a.util.escapeQuotes(G)+"') "),n+=") && (missing"+o+" = "+a.util.toQuotedString(a.opts.jsonPointers?G:Q)+") ) "}n+=") {  ";var A="missing"+o,D="' + "+A+" + '";a.opts._errorDataPathProperty&&(a.errorPath=a.opts.jsonPointers?a.util.getPathExpr(L,A,!0):L+" + "+A);var $=$||[];$.push(n),n="",a.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { missingProperty: '"+D+"' } ",a.opts.messages!==!1&&(n+=" , message: '",a.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+D+"\\'",n+="' "),a.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ";var B=n;n=$.pop(),!a.compositeRule&&h?a.async?n+=" throw new ValidationError(["+B+"]); ":n+=" validate.errors = ["+B+"]; return false; ":n+=" var err = "+B+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else if(N){f||(n+=" var "+g+" = validate.schema"+u+"; ");var k="i"+o,A="schema"+o+"["+k+"]",D="' + "+A+" + '";a.opts._errorDataPathProperty&&(a.errorPath=a.util.getPathExpr(L,A,a.opts.jsonPointers)),f&&(n+=" if ("+g+" && !Array.isArray("+g+")) {  var err =   ",a.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { missingProperty: '"+D+"' } ",a.opts.messages!==!1&&(n+=" , message: '",a.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+D+"\\'",n+="' "),a.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+g+" !== undefined) { "),n+=" for (var "+k+" = 0; "+k+" < "+g+".length; "+k+"++) { if ("+p+"["+g+"["+k+"]] === undefined ",q&&(n+=" || ! Object.prototype.hasOwnProperty.call("+p+", "+g+"["+k+"]) "),n+=") {  var err =   ",a.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { missingProperty: '"+D+"' } ",a.opts.messages!==!1&&(n+=" , message: '",a.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+D+"\\'",n+="' "),a.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",f&&(n+="  }  ")}else{var ae=b;if(ae)for(var G,ue=-1,Qe=ae.length-1;ue<Qe;){G=ae[ue+=1];var Q=a.util.getProperty(G),D=a.util.escapeQuotes(G),Y=p+Q;a.opts._errorDataPathProperty&&(a.errorPath=a.util.getPath(L,G,a.opts.jsonPointers)),n+=" if ( "+Y+" === undefined ",q&&(n+=" || ! Object.prototype.hasOwnProperty.call("+p+", '"+a.util.escapeQuotes(G)+"') "),n+=") {  var err =   ",a.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { missingProperty: '"+D+"' } ",a.opts.messages!==!1&&(n+=" , message: '",a.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+D+"\\'",n+="' "),a.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}a.errorPath=L}else h&&(n+=" if (true) {");return n}}),cL=Ne((t,e)=>{e.exports=function(a,s,i){var n=" ",o=a.level,l=a.dataLevel,c=a.schema[s],u=a.schemaPath+a.util.getProperty(s),d=a.errSchemaPath+"/"+s,h=!a.opts.allErrors,p="data"+(l||""),m="valid"+o,f=a.opts.$data&&c&&c.$data,v;if(f?(n+=" var schema"+o+" = "+a.util.getData(c.$data,l,a.dataPathArr)+"; ",v="schema"+o):v=c,(c||f)&&a.opts.uniqueItems!==!1){f&&(n+=" var "+m+"; if ("+v+" === false || "+v+" === undefined) "+m+" = true; else if (typeof "+v+" != 'boolean') "+m+" = false; else { "),n+=" var i = "+p+".length , "+m+" = true , j; if (i > 1) { ";var g=a.schema.items&&a.schema.items.type,b=Array.isArray(g);if(!g||g=="object"||g=="array"||b&&(g.indexOf("object")>=0||g.indexOf("array")>=0))n+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+p+"[i], "+p+"[j])) { "+m+" = false; break outer; } } } ";else{n+=" var itemIndices = {}, item; for (;i--;) { var item = "+p+"[i]; ";var w="checkDataType"+(b?"s":"");n+=" if ("+a.util[w](g,"item",a.opts.strictNumbers,!0)+") continue; ",b&&(n+=` if (typeof item == 'string') item = '"' + item; `),n+=" if (typeof itemIndices[item] == 'number') { "+m+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}n+=" } ",f&&(n+="  }  "),n+=" if (!"+m+") {   ";var C=C||[];C.push(n),n="",a.createErrors!==!1?(n+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { i: i, j: j } ",a.opts.messages!==!1&&(n+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),a.opts.verbose&&(n+=" , schema:  ",f?n+="validate.schema"+u:n+=""+c,n+="         , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ";var T=n;n=C.pop(),!a.compositeRule&&h?a.async?n+=" throw new ValidationError(["+T+"]); ":n+=" validate.errors = ["+T+"]; return false; ":n+=" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",h&&(n+=" else { ")}else h&&(n+=" if (true) { ");return n}}),lL=Ne((t,e)=>{e.exports={$ref:Z$(),allOf:V$(),anyOf:H$(),$comment:G$(),const:W$(),contains:K$(),dependencies:J$(),enum:Q$(),format:Y$(),if:X$(),items:eL(),maximum:e0(),minimum:e0(),maxItems:t0(),minItems:t0(),maxLength:r0(),minLength:r0(),maxProperties:a0(),minProperties:a0(),multipleOf:tL(),not:rL(),oneOf:aL(),pattern:sL(),properties:nL(),propertyNames:iL(),required:oL(),uniqueItems:cL(),validate:d0()}}),uL=Ne((t,e)=>{var r=lL(),a=vi().toHash;e.exports=function(){var i=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],n=["type","$comment"],o=["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"],l=["number","integer","string","array","object","boolean","null"];return i.all=a(n),i.types=a(l),i.forEach(function(c){c.rules=c.rules.map(function(u){var d;if(typeof u=="object"){var h=Object.keys(u)[0];d=u[h],u=h,d.forEach(function(m){n.push(m),i.all[m]=!0})}n.push(u);var p=i.all[u]={keyword:u,code:r[u],implements:d};return p}),i.all.$comment={keyword:"$comment",code:r.$comment},c.type&&(i.types[c.type]=c)}),i.keywords=a(n.concat(o)),i.custom={},i}}),dL=Ne((t,e)=>{var r=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];e.exports=function(a,s){for(var i=0;i<s.length;i++){a=JSON.parse(JSON.stringify(a));var n=s[i].split("/"),o=a,l;for(l=1;l<n.length;l++)o=o[n[l]];for(l=0;l<r.length;l++){var c=r[l],u=o[c];u&&(o[c]={anyOf:[u,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return a}}),pL=Ne((t,e)=>{var r=qf().MissingRef;e.exports=a;function a(s,i,n){var o=this;if(typeof this._opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");typeof i=="function"&&(n=i,i=void 0);var l=c(s).then(function(){var d=o._addSchema(s,void 0,i);return d.validate||u(d)});return n&&l.then(function(d){n(null,d)},n),l;function c(d){var h=d.$schema;return h&&!o.getSchema(h)?a.call(o,{$ref:h},!0):Promise.resolve()}function u(d){try{return o._compile(d)}catch(p){if(p instanceof r)return h(p);throw p}function h(p){var m=p.missingSchema;if(g(m))throw new Error("Schema "+m+" is loaded but "+p.missingRef+" cannot be resolved");var f=o._loadingSchemas[m];return f||(f=o._loadingSchemas[m]=o._opts.loadSchema(m),f.then(v,v)),f.then(function(b){if(!g(m))return c(b).then(function(){g(m)||o.addSchema(b,m,void 0,i)})}).then(function(){return u(d)});function v(){delete o._loadingSchemas[m]}function g(b){return o._refs[b]||o._schemas[b]}}}}}),fL=Ne((t,e)=>{e.exports=function(a,s,i){var n=" ",o=a.level,l=a.dataLevel,c=a.schema[s],u=a.schemaPath+a.util.getProperty(s),d=a.errSchemaPath+"/"+s,h=!a.opts.allErrors,p,m="data"+(l||""),f="valid"+o,v="errs__"+o,g=a.opts.$data&&c&&c.$data,b;g?(n+=" var schema"+o+" = "+a.util.getData(c.$data,l,a.dataPathArr)+"; ",b="schema"+o):b=c;var w=this,C="definition"+o,T=w.definition,R="",O,L,N,q,k;if(g&&T.$data){k="keywordValidate"+o;var A=T.validateSchema;n+=" var "+C+" = RULES.custom['"+s+"'].definition; var "+k+" = "+C+".validate;"}else{if(q=a.useCustomRule(w,c,a.schema,a),!q)return;b="validate.schema"+u,k=q.code,O=T.compile,L=T.inline,N=T.macro}var D=k+".errors",$="i"+o,B="ruleErr"+o,W=T.async;if(W&&!a.async)throw new Error("async keyword in sync schema");if(L||N||(n+=""+D+" = null;"),n+="var "+v+" = errors;var "+f+";",g&&T.$data&&(R+="}",n+=" if ("+b+" === undefined) { "+f+" = true; } else { ",A&&(R+="}",n+=" "+f+" = "+C+".validateSchema("+b+"); if ("+f+") { ")),L)T.statements?n+=" "+q.validate+" ":n+=" "+f+" = "+q.validate+"; ";else if(N){var G=a.util.copy(a),R="";G.level++;var K="valid"+G.level;G.schema=q.validate,G.schemaPath="";var Q=a.compositeRule;a.compositeRule=G.compositeRule=!0;var Y=a.validate(G).replace(/validate\.schema/g,k);a.compositeRule=G.compositeRule=Q,n+=" "+Y}else{var ae=ae||[];ae.push(n),n="",n+="  "+k+".call( ",a.opts.passContext?n+="this":n+="self",O||T.schema===!1?n+=" , "+m+" ":n+=" , "+b+" , "+m+" , validate.schema"+a.schemaPath+" ",n+=" , (dataPath || '')",a.errorPath!='""'&&(n+=" + "+a.errorPath);var ue=l?"data"+(l-1||""):"parentData",Qe=l?a.dataPathArr[l]:"parentDataProperty";n+=" , "+ue+" , "+Qe+" , rootData )  ";var ye=n;n=ae.pop(),T.errors===!1?(n+=" "+f+" = ",W&&(n+="await "),n+=""+ye+"; "):W?(D="customErrors"+o,n+=" var "+D+" = null; try { "+f+" = await "+ye+"; } catch (e) { "+f+" = false; if (e instanceof ValidationError) "+D+" = e.errors; else throw e; } "):n+=" "+D+" = null; "+f+" = "+ye+"; "}if(T.modifying&&(n+=" if ("+ue+") "+m+" = "+ue+"["+Qe+"];"),n+=""+R,T.valid)h&&(n+=" if (true) { ");else{n+=" if ( ",T.valid===void 0?(n+=" !",N?n+=""+K:n+=""+f):n+=" "+!T.valid+" ",n+=") { ",p=w.keyword;var ae=ae||[];ae.push(n),n="";var ae=ae||[];ae.push(n),n="",a.createErrors!==!1?(n+=" { keyword: '"+(p||"custom")+"' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { keyword: '"+w.keyword+"' } ",a.opts.messages!==!1&&(n+=` , message: 'should pass "`+w.keyword+`" keyword validation' `),a.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+m+" "),n+=" } "):n+=" {} ";var Re=n;n=ae.pop(),!a.compositeRule&&h?a.async?n+=" throw new ValidationError(["+Re+"]); ":n+=" validate.errors = ["+Re+"]; return false; ":n+=" var err = "+Re+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var Ie=n;n=ae.pop(),L?T.errors?T.errors!="full"&&(n+="  for (var "+$+"="+v+"; "+$+"<errors; "+$+"++) { var "+B+" = vErrors["+$+"]; if ("+B+".dataPath === undefined) "+B+".dataPath = (dataPath || '') + "+a.errorPath+"; if ("+B+".schemaPath === undefined) { "+B+'.schemaPath = "'+d+'"; } ',a.opts.verbose&&(n+=" "+B+".schema = "+b+"; "+B+".data = "+m+"; "),n+=" } "):T.errors===!1?n+=" "+Ie+" ":(n+=" if ("+v+" == errors) { "+Ie+" } else {  for (var "+$+"="+v+"; "+$+"<errors; "+$+"++) { var "+B+" = vErrors["+$+"]; if ("+B+".dataPath === undefined) "+B+".dataPath = (dataPath || '') + "+a.errorPath+"; if ("+B+".schemaPath === undefined) { "+B+'.schemaPath = "'+d+'"; } ',a.opts.verbose&&(n+=" "+B+".schema = "+b+"; "+B+".data = "+m+"; "),n+=" } } "):N?(n+="   var err =   ",a.createErrors!==!1?(n+=" { keyword: '"+(p||"custom")+"' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { keyword: '"+w.keyword+"' } ",a.opts.messages!==!1&&(n+=` , message: 'should pass "`+w.keyword+`" keyword validation' `),a.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+m+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!a.compositeRule&&h&&(a.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; ")):T.errors===!1?n+=" "+Ie+" ":(n+=" if (Array.isArray("+D+")) { if (vErrors === null) vErrors = "+D+"; else vErrors = vErrors.concat("+D+"); errors = vErrors.length;  for (var "+$+"="+v+"; "+$+"<errors; "+$+"++) { var "+B+" = vErrors["+$+"]; if ("+B+".dataPath === undefined) "+B+".dataPath = (dataPath || '') + "+a.errorPath+";  "+B+'.schemaPath = "'+d+'";  ',a.opts.verbose&&(n+=" "+B+".schema = "+b+"; "+B+".data = "+m+"; "),n+=" } } else { "+Ie+" } "),n+=" } ",h&&(n+=" else { ")}return n}}),p0=Ne((t,e)=>{e.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}}),mL=Ne((t,e)=>{var r=p0();e.exports={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:r.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:r.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}}),hL=Ne((t,e)=>{var r=/^[a-z_$][a-z0-9_$-]*$/i,a=fL(),s=mL();e.exports={add:i,get:n,remove:o,validate:l};function i(c,u){var d=this.RULES;if(d.keywords[c])throw new Error("Keyword "+c+" is already defined");if(!r.test(c))throw new Error("Keyword "+c+" is not a valid identifier");if(u){this.validateKeyword(u,!0);var h=u.type;if(Array.isArray(h))for(var p=0;p<h.length;p++)f(c,h[p],u);else f(c,h,u);var m=u.metaSchema;m&&(u.$data&&this._opts.$data&&(m={anyOf:[m,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),u.validateSchema=this.compile(m,!0))}d.keywords[c]=d.all[c]=!0;function f(v,g,b){for(var w,C=0;C<d.length;C++){var T=d[C];if(T.type==g){w=T;break}}w||(w={type:g,rules:[]},d.push(w));var R={keyword:v,definition:b,custom:!0,code:a,implements:b.implements};w.rules.push(R),d.custom[v]=R}return this}function n(c){var u=this.RULES.custom[c];return u?u.definition:this.RULES.keywords[c]||!1}function o(c){var u=this.RULES;delete u.keywords[c],delete u.all[c],delete u.custom[c];for(var d=0;d<u.length;d++)for(var h=u[d].rules,p=0;p<h.length;p++)if(h[p].keyword==c){h.splice(p,1);break}return this}function l(c,u){l.errors=null;var d=this._validateKeyword=this._validateKeyword||this.compile(s,!0);if(d(c))return!0;if(l.errors=d.errors,u)throw new Error("custom keyword definition is invalid: "+this.errorsText(d.errors));return!1}}),vL=Ne((t,e)=>{e.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}}),gL=Ne((t,e)=>{var r=U$(),a=Mf(),s=z$(),i=l0(),n=u0(),o=B$(),l=uL(),c=dL(),u=vi();e.exports=v,v.prototype.validate=g,v.prototype.compile=b,v.prototype.addSchema=w,v.prototype.addMetaSchema=C,v.prototype.validateSchema=T,v.prototype.getSchema=O,v.prototype.removeSchema=q,v.prototype.addFormat=Q,v.prototype.errorsText=K,v.prototype._addSchema=A,v.prototype._compile=D,v.prototype.compileAsync=pL();var d=hL();v.prototype.addKeyword=d.add,v.prototype.getKeyword=d.get,v.prototype.removeKeyword=d.remove,v.prototype.validateKeyword=d.validate;var h=qf();v.ValidationError=h.Validation,v.MissingRefError=h.MissingRef,v.$dataMetaSchema=c;var p="http://json-schema.org/draft-07/schema",m=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],f=["/properties"];function v(U){if(!(this instanceof v))return new v(U);U=this._opts=u.copy(U)||{},Ie(this),this._schemas={},this._refs={},this._fragments={},this._formats=o(U.format),this._cache=U.cache||new s,this._loadingSchemas={},this._compilations=[],this.RULES=l(),this._getId=$(U),U.loopRequired=U.loopRequired||1/0,U.errorDataPath=="property"&&(U._errorDataPathProperty=!0),U.serialize===void 0&&(U.serialize=n),this._metaOpts=Re(this),U.formats&&ue(this),U.keywords&&Qe(this),Y(this),typeof U.meta=="object"&&this.addMetaSchema(U.meta),U.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),ae(this)}function g(U,J){var ne;if(typeof U=="string"){if(ne=this.getSchema(U),!ne)throw new Error('no schema with key or ref "'+U+'"')}else{var he=this._addSchema(U);ne=he.validate||this._compile(he)}var X=ne(J);return ne.$async!==!0&&(this.errors=ne.errors),X}function b(U,J){var ne=this._addSchema(U,void 0,J);return ne.validate||this._compile(ne)}function w(U,J,ne,he){if(Array.isArray(U)){for(var X=0;X<U.length;X++)this.addSchema(U[X],void 0,ne,he);return this}var te=this._getId(U);if(te!==void 0&&typeof te!="string")throw new Error("schema id must be string");return J=a.normalizeId(J||te),ye(this,J),this._schemas[J]=this._addSchema(U,ne,he,!0),this}function C(U,J,ne){return this.addSchema(U,J,ne,!0),this}function T(U,J){var ne=U.$schema;if(ne!==void 0&&typeof ne!="string")throw new Error("$schema must be a string");if(ne=ne||this._opts.defaultMeta||R(this),!ne)return this.logger.warn("meta-schema not available"),this.errors=null,!0;var he=this.validate(ne,U);if(!he&&J){var X="schema is invalid: "+this.errorsText();if(this._opts.validateSchema=="log")this.logger.error(X);else throw new Error(X)}return he}function R(U){var J=U._opts.meta;return U._opts.defaultMeta=typeof J=="object"?U._getId(J)||J:U.getSchema(p)?p:void 0,U._opts.defaultMeta}function O(U){var J=N(this,U);switch(typeof J){case"object":return J.validate||this._compile(J);case"string":return this.getSchema(J);case"undefined":return L(this,U)}}function L(U,J){var ne=a.schema.call(U,{schema:{}},J);if(ne){var{schema:he,root:X,baseId:te}=ne,de=r.call(U,he,X,void 0,te);return U._fragments[J]=new i({ref:J,fragment:!0,schema:he,root:X,baseId:te,validate:de}),de}}function N(U,J){return J=a.normalizeId(J),U._schemas[J]||U._refs[J]||U._fragments[J]}function q(U){if(U instanceof RegExp)return k(this,this._schemas,U),k(this,this._refs,U),this;switch(typeof U){case"undefined":return k(this,this._schemas),k(this,this._refs),this._cache.clear(),this;case"string":var J=N(this,U);return J&&this._cache.del(J.cacheKey),delete this._schemas[U],delete this._refs[U],this;case"object":var ne=this._opts.serialize,he=ne?ne(U):U;this._cache.del(he);var X=this._getId(U);X&&(X=a.normalizeId(X),delete this._schemas[X],delete this._refs[X])}return this}function k(U,J,ne){for(var he in J){var X=J[he];!X.meta&&(!ne||ne.test(he))&&(U._cache.del(X.cacheKey),delete J[he])}}function A(U,J,ne,he){if(typeof U!="object"&&typeof U!="boolean")throw new Error("schema should be object or boolean");var X=this._opts.serialize,te=X?X(U):U,de=this._cache.get(te);if(de)return de;he=he||this._opts.addUsedSchema!==!1;var Le=a.normalizeId(this._getId(U));Le&&he&&ye(this,Le);var _e=this._opts.validateSchema!==!1&&!J,it;_e&&!(it=Le&&Le==a.normalizeId(U.$schema))&&this.validateSchema(U,!0);var ot=a.ids.call(this,U),Ce=new i({id:Le,schema:U,localRefs:ot,cacheKey:te,meta:ne});return Le[0]!="#"&&he&&(this._refs[Le]=Ce),this._cache.put(te,Ce),_e&&it&&this.validateSchema(U,!0),Ce}function D(U,J){if(U.compiling)return U.validate=X,X.schema=U.schema,X.errors=null,X.root=J||X,U.schema.$async===!0&&(X.$async=!0),X;U.compiling=!0;var ne;U.meta&&(ne=this._opts,this._opts=this._metaOpts);var he;try{he=r.call(this,U.schema,J,U.localRefs)}catch(te){throw delete U.validate,te}finally{U.compiling=!1,U.meta&&(this._opts=ne)}return U.validate=he,U.refs=he.refs,U.refVal=he.refVal,U.root=he.root,he;function X(){var te=U.validate,de=te.apply(this,arguments);return X.errors=te.errors,de}}function $(U){switch(U.schemaId){case"auto":return G;case"id":return B;default:return W}}function B(U){return U.$id&&this.logger.warn("schema $id ignored",U.$id),U.id}function W(U){return U.id&&this.logger.warn("schema id ignored",U.id),U.$id}function G(U){if(U.$id&&U.id&&U.$id!=U.id)throw new Error("schema $id is different from id");return U.$id||U.id}function K(U,J){if(U=U||this.errors,!U)return"No errors";J=J||{};for(var ne=J.separator===void 0?", ":J.separator,he=J.dataVar===void 0?"data":J.dataVar,X="",te=0;te<U.length;te++){var de=U[te];de&&(X+=he+de.dataPath+" "+de.message+ne)}return X.slice(0,-ne.length)}function Q(U,J){return typeof J=="string"&&(J=new RegExp(J)),this._formats[U]=J,this}function Y(U){var J;if(U._opts.$data&&(J=vL(),U.addMetaSchema(J,J.$id,!0)),U._opts.meta!==!1){var ne=p0();U._opts.$data&&(ne=c(ne,f)),U.addMetaSchema(ne,p,!0),U._refs["http://json-schema.org/schema"]=p}}function ae(U){var J=U._opts.schemas;if(J)if(Array.isArray(J))U.addSchema(J);else for(var ne in J)U.addSchema(J[ne],ne)}function ue(U){for(var J in U._opts.formats){var ne=U._opts.formats[J];U.addFormat(J,ne)}}function Qe(U){for(var J in U._opts.keywords){var ne=U._opts.keywords[J];U.addKeyword(J,ne)}}function ye(U,J){if(U._schemas[J]||U._refs[J])throw new Error('schema with key or id "'+J+'" already exists')}function Re(U){for(var J=u.copy(U._opts),ne=0;ne<m.length;ne++)delete J[m[ne]];return J}function Ie(U){var J=U._opts.logger;if(J===!1)U.logger={log:Ue,warn:Ue,error:Ue};else{if(J===void 0&&(J=console),!(typeof J=="object"&&J.log&&J.warn&&J.error))throw new Error("logger must implement log, warn and error methods");U.logger=J}}function Ue(){}}),yL=50;function h0(t=yL){let e=new AbortController;return(0,m0.setMaxListeners)(t,e.signal),e}var xL={cwd(){return process.cwd()},existsSync(t){return De.existsSync(t)},async stat(t){return(0,y0.stat)(t)},statSync(t){return De.statSync(t)},readFileSync(t,e){return De.readFileSync(t,{encoding:e.encoding})},readFileBytesSync(t){return De.readFileSync(t)},readSync(t,e){let r;try{r=De.openSync(t,"r");let a=Buffer.alloc(e.length),s=De.readSync(r,a,0,e.length,0);return{buffer:a,bytesRead:s}}finally{r&&De.closeSync(r)}},writeFileSync(t,e,r){if(!r.flush){let s={encoding:r.encoding};r.mode!==void 0&&(s.mode=r.mode),De.writeFileSync(t,e,s);return}let a;try{let s=r.mode!==void 0?r.mode:void 0;a=De.openSync(t,"w",s),De.writeFileSync(a,e,{encoding:r.encoding}),De.fsyncSync(a)}finally{a&&De.closeSync(a)}},appendFileSync(t,e){De.appendFileSync(t,e)},copyFileSync(t,e){De.copyFileSync(t,e)},unlinkSync(t){De.unlinkSync(t)},renameSync(t,e){De.renameSync(t,e)},linkSync(t,e){De.linkSync(t,e)},symlinkSync(t,e){De.symlinkSync(t,e)},readlinkSync(t){return De.readlinkSync(t)},realpathSync(t){return De.realpathSync(t)},mkdirSync(t){De.existsSync(t)||De.mkdirSync(t,{recursive:!0,mode:448})},readdirSync(t){return De.readdirSync(t,{withFileTypes:!0})},readdirStringSync(t){return De.readdirSync(t)},isDirEmptySync(t){return this.readdirSync(t).length===0},rmdirSync(t){De.rmdirSync(t)},rmSync(t,e){De.rmSync(t,e)},createWriteStream(t){return De.createWriteStream(t)}},bL=xL;function _L(){return bL}var Fs=class extends Error{};function x0(){return process.versions.bun!==void 0}var Of=class{options;child;childStdin;childStdout;ready=!1;abortController;exitError;exitListeners=[];processExitHandler;abortHandler;constructor(e){this.options=e,this.abortController=e.abortController||h0(),this.initialize()}initialize(){try{let{additionalDirectories:e=[],agents:r,cwd:a,executable:s=x0()?"bun":"node",executableArgs:i=[],extraArgs:n={},pathToClaudeCodeExecutable:o,env:l={...process.env},stderr:c,customSystemPrompt:u,appendSystemPrompt:d,maxThinkingTokens:h,maxTurns:p,model:m,fallbackModel:f,permissionMode:v,permissionPromptToolName:g,continueConversation:b,resume:w,settingSources:C,allowedTools:T=[],disallowedTools:R=[],mcpServers:O,strictMcpConfig:L,canUseTool:N,includePartialMessages:q}=this.options,k=["--output-format","stream-json","--verbose","--input-format","stream-json"];if(typeof u=="string"&&k.push("--system-prompt",u),d&&k.push("--append-system-prompt",d),h!==void 0&&k.push("--max-thinking-tokens",h.toString()),p&&k.push("--max-turns",p.toString()),m&&k.push("--model",m),l.DEBUG&&k.push("--debug-to-stderr"),N){if(g)throw new Error("canUseTool callback cannot be used with permissionPromptToolName. Please use one or the other.");k.push("--permission-prompt-tool","stdio")}else g&&k.push("--permission-prompt-tool",g);if(b&&k.push("--continue"),w&&k.push("--resume",w),T.length>0&&k.push("--allowedTools",T.join(",")),R.length>0&&k.push("--disallowedTools",R.join(",")),O&&Object.keys(O).length>0&&k.push("--mcp-config",JSON.stringify({mcpServers:O})),r&&Object.keys(r).length>0&&k.push("--agents",JSON.stringify(r)),C&&k.push("--setting-sources",C.join(",")),L&&k.push("--strict-mcp-config"),v&&k.push("--permission-mode",v),f){if(m&&f===m)throw new Error("Fallback model cannot be the same as the main model. Please specify a different model for fallbackModel option.");k.push("--fallback-model",f)}q&&k.push("--include-partial-messages");for(let K of e)k.push("--add-dir",K);this.options.forkSession&&k.push("--fork-session"),this.options.resumeSessionAt&&k.push("--resume-session-at",this.options.resumeSessionAt);for(let[K,Q]of Object.entries(n))Q===null?k.push(`--${K}`):k.push(`--${K}`,Q);if(l.CLAUDE_CODE_ENTRYPOINT||(l.CLAUDE_CODE_ENTRYPOINT="sdk-ts"),!_L().existsSync(o)){let K=s0(o)?`Claude Code native binary not found at ${o}. Please ensure Claude Code is installed via native installer or specify a valid path with options.pathToClaudeCodeExecutable.`:`Claude Code executable not found at ${o}. Is options.pathToClaudeCodeExecutable set?`;throw new ReferenceError(K)}let D=s0(o),$=D?o:s,B=D?k:[...i,o,...k];this.logForDebugging(D?`Spawning Claude Code native binary: ${o} ${k.join(" ")}`:`Spawning Claude Code process: ${s} ${[...i,o,...k].join(" ")}`);let W=l.DEBUG||c?"pipe":"ignore";this.child=(0,v0.spawn)($,B,{cwd:a,stdio:["pipe","pipe",W],signal:this.abortController.signal,env:l}),this.childStdin=this.child.stdin,this.childStdout=this.child.stdout,(l.DEBUG||c)&&this.child.stderr.on("data",K=>{this.logForDebugging(`Claude Code stderr: ${K.toString()}`),c&&c(K.toString())});let G=()=>{this.child&&!this.child.killed&&this.child.kill("SIGTERM")};this.processExitHandler=G,this.abortHandler=G,process.on("exit",this.processExitHandler),this.abortController.signal.addEventListener("abort",this.abortHandler),this.child.on("error",K=>{this.ready=!1,this.abortController.signal.aborted?this.exitError=new Fs("Claude Code process aborted by user"):(this.exitError=new Error(`Failed to spawn Claude Code process: ${K.message}`),this.logForDebugging(this.exitError.message))}),this.child.on("close",(K,Q)=>{if(this.ready=!1,this.abortController.signal.aborted)this.exitError=new Fs("Claude Code process aborted by user");else{let Y=this.getProcessExitError(K,Q);Y&&(this.exitError=Y,this.logForDebugging(Y.message))}}),this.ready=!0}catch(e){throw this.ready=!1,e}}getProcessExitError(e,r){if(e!==0&&e!==null)return new Error(`Claude Code process exited with code ${e}`);if(r)return new Error(`Claude Code process terminated by signal ${r}`)}logForDebugging(e){process.env.DEBUG&&process.stderr.write(`${e}
`),this.options.stderr&&this.options.stderr(e)}write(e){if(this.abortController.signal.aborted)throw new Fs("Operation aborted");if(!this.ready||!this.childStdin)throw new Error("ProcessTransport is not ready for writing");if(this.child?.killed||this.child?.exitCode!==null)throw new Error("Cannot write to terminated process");if(this.exitError)throw new Error(`Cannot write to process that exited with error: ${this.exitError.message}`);process.env.DEBUG_SDK&&process.stderr.write(`[ProcessTransport] Writing to stdin: ${e.substring(0,100)}
`);try{!this.childStdin.write(e)&&process.env.DEBUG_SDK&&console.warn("[ProcessTransport] Write buffer full, data queued")}catch(r){throw this.ready=!1,new Error(`Failed to write to process stdin: ${r.message}`)}}close(){this.childStdin&&(this.childStdin.end(),this.childStdin=void 0),this.processExitHandler&&(process.off("exit",this.processExitHandler),this.processExitHandler=void 0),this.abortHandler&&(this.abortController.signal.removeEventListener("abort",this.abortHandler),this.abortHandler=void 0);for(let{handler:e}of this.exitListeners)this.child?.off("exit",e);this.exitListeners=[],this.child&&!this.child.killed&&(this.child.kill("SIGTERM"),setTimeout(()=>{this.child&&!this.child.killed&&this.child.kill("SIGKILL")},5e3)),this.ready=!1}isReady(){return this.ready}async*readMessages(){if(!this.childStdout)throw new Error("ProcessTransport output stream not available");let e=(0,g0.createInterface)({input:this.childStdout});try{for await(let r of e)r.trim()&&(yield JSON.parse(r));await this.waitForExit()}catch(r){throw r}finally{e.close()}}endInput(){this.childStdin&&this.childStdin.end()}getInputStream(){return this.childStdin}onExit(e){if(!this.child)return()=>{};let r=(a,s)=>{let i=this.getProcessExitError(a,s);e(i)};return this.child.on("exit",r),this.exitListeners.push({callback:e,handler:r}),()=>{this.child&&this.child.off("exit",r);let a=this.exitListeners.findIndex(s=>s.handler===r);a!==-1&&this.exitListeners.splice(a,1)}}async waitForExit(){if(!this.child){if(this.exitError)throw this.exitError;return}if(this.child.exitCode!==null||this.child.killed){if(this.exitError)throw this.exitError;return}return new Promise((e,r)=>{let a=(i,n)=>{if(this.abortController.signal.aborted){r(new Fs("Operation aborted"));return}let o=this.getProcessExitError(i,n);o?r(o):e()};this.child.once("exit",a);let s=i=>{this.child.off("exit",a),r(i)};this.child.once("error",s),this.child.once("exit",()=>{this.child.off("error",s)})})}};function s0(t){return![".js",".mjs",".tsx",".ts",".jsx"].some(r=>t.endsWith(r))}var If=class{returned;queue=[];readResolve;readReject;isDone=!1;hasError;started=!1;constructor(e){this.returned=e}[Symbol.asyncIterator](){if(this.started)throw new Error("Stream can only be iterated once");return this.started=!0,this}next(){return this.queue.length>0?Promise.resolve({done:!1,value:this.queue.shift()}):this.isDone?Promise.resolve({done:!0,value:void 0}):this.hasError?Promise.reject(this.hasError):new Promise((e,r)=>{this.readResolve=e,this.readReject=r})}enqueue(e){if(this.readResolve){let r=this.readResolve;this.readResolve=void 0,this.readReject=void 0,r({done:!1,value:e})}else this.queue.push(e)}done(){if(this.isDone=!0,this.readResolve){let e=this.readResolve;this.readResolve=void 0,this.readReject=void 0,e({done:!0,value:void 0})}}error(e){if(this.hasError=e,this.readReject){let r=this.readReject;this.readResolve=void 0,this.readReject=void 0,r(e)}}return(){return this.isDone=!0,this.returned&&this.returned(),Promise.resolve({done:!0,value:void 0})}},Af=class{sendMcpMessage;isClosed=!1;constructor(e){this.sendMcpMessage=e}onclose;onerror;onmessage;async start(){}async send(e){if(this.isClosed)throw new Error("Transport is closed");this.sendMcpMessage(e)}async close(){this.isClosed||(this.isClosed=!0,this.onclose?.())}},kf=class{transport;isSingleUserTurn;canUseTool;hooks;abortController;pendingControlResponses=new Map;cleanupPerformed=!1;sdkMessages;inputStream=new If;initialization;cancelControllers=new Map;hookCallbacks=new Map;nextCallbackId=0;sdkMcpTransports=new Map;pendingMcpResponses=new Map;firstResultReceivedPromise;firstResultReceivedResolve;constructor(e,r,a,s,i,n=new Map){this.transport=e,this.isSingleUserTurn=r,this.canUseTool=a,this.hooks=s,this.abortController=i;for(let[o,l]of n){let c=new Af(u=>this.sendMcpServerMessageToCli(o,u));this.sdkMcpTransports.set(o,c),l.connect(c)}this.sdkMessages=this.readSdkMessages(),this.firstResultReceivedPromise=new Promise(o=>{this.firstResultReceivedResolve=o}),this.readMessages(),this.initialization=this.initialize(),this.initialization.catch(()=>{})}setError(e){this.inputStream.error(e)}cleanup(e){if(!this.cleanupPerformed){this.cleanupPerformed=!0;try{this.transport.close(),this.pendingControlResponses.clear(),this.pendingMcpResponses.clear(),e?this.inputStream.error(e):this.inputStream.done()}catch{}}}next(...[e]){return this.sdkMessages.next(e)}return(e){return this.sdkMessages.return(e)}throw(e){return this.sdkMessages.throw(e)}[Symbol.asyncIterator](){return this.sdkMessages}[Symbol.asyncDispose](){return this.sdkMessages[Symbol.asyncDispose]()}async readMessages(){try{for await(let e of this.transport.readMessages()){if(e.type==="control_response"){let r=this.pendingControlResponses.get(e.response.request_id);r&&r(e.response);continue}else if(e.type==="control_request"){this.handleControlRequest(e);continue}else if(e.type==="control_cancel_request"){this.handleControlCancelRequest(e);continue}else if(e.type==="keep_alive")continue;e.type==="result"&&(this.firstResultReceivedResolve&&this.firstResultReceivedResolve(),this.isSingleUserTurn&&this.transport.endInput()),this.inputStream.enqueue(e)}this.inputStream.done(),this.cleanup()}catch(e){this.inputStream.error(e),this.cleanup(e)}}async handleControlRequest(e){let r=new AbortController;this.cancelControllers.set(e.request_id,r);try{let a=await this.processControlRequest(e,r.signal),s={type:"control_response",response:{subtype:"success",request_id:e.request_id,response:a}};await Promise.resolve(this.transport.write(JSON.stringify(s)+`
`))}catch(a){let s={type:"control_response",response:{subtype:"error",request_id:e.request_id,error:a.message||String(a)}};await Promise.resolve(this.transport.write(JSON.stringify(s)+`
`))}finally{this.cancelControllers.delete(e.request_id)}}handleControlCancelRequest(e){let r=this.cancelControllers.get(e.request_id);r&&(r.abort(),this.cancelControllers.delete(e.request_id))}async processControlRequest(e,r){if(e.request.subtype==="can_use_tool"){if(!this.canUseTool)throw new Error("canUseTool callback is not provided.");return this.canUseTool(e.request.tool_name,e.request.input,{signal:r,suggestions:e.request.permission_suggestions})}else{if(e.request.subtype==="hook_callback")return await this.handleHookCallbacks(e.request.callback_id,e.request.input,e.request.tool_use_id,r);if(e.request.subtype==="mcp_message"){let a=e.request,s=this.sdkMcpTransports.get(a.server_name);if(!s)throw new Error(`SDK MCP server not found: ${a.server_name}`);return"method"in a.message&&"id"in a.message&&a.message.id!==null?{mcp_response:await this.handleMcpControlRequest(a.server_name,a,s)}:(s.onmessage&&s.onmessage(a.message),{mcp_response:{jsonrpc:"2.0",result:{},id:0}})}}throw new Error("Unsupported control request subtype: "+e.request.subtype)}async*readSdkMessages(){for await(let e of this.inputStream)yield e}async initialize(){let e;if(this.hooks){e={};for(let[i,n]of Object.entries(this.hooks))n.length>0&&(e[i]=n.map(o=>{let l=[];for(let c of o.hooks){let u=`hook_${this.nextCallbackId++}`;this.hookCallbacks.set(u,c),l.push(u)}return{matcher:o.matcher,hookCallbackIds:l}}))}let r=this.sdkMcpTransports.size>0?Array.from(this.sdkMcpTransports.keys()):void 0,a={subtype:"initialize",hooks:e,sdkMcpServers:r};return(await this.request(a)).response}async interrupt(){await this.request({subtype:"interrupt"})}async setPermissionMode(e){await this.request({subtype:"set_permission_mode",mode:e})}async setModel(e){await this.request({subtype:"set_model",model:e})}request(e){let r=Math.random().toString(36).substring(2,15),a={request_id:r,type:"control_request",request:e};return new Promise((s,i)=>{this.pendingControlResponses.set(r,n=>{n.subtype==="success"?s(n):i(new Error(n.error))}),Promise.resolve(this.transport.write(JSON.stringify(a)+`
`))})}async supportedCommands(){return(await this.initialization).commands}async supportedModels(){return(await this.initialization).models}async mcpServerStatus(){return(await this.request({subtype:"mcp_status"})).response.mcpServers}async streamInput(e){try{for await(let r of e){if(this.abortController?.signal.aborted)break;await Promise.resolve(this.transport.write(JSON.stringify(r)+`
`))}if(this.sdkMcpTransports.size>0&&this.firstResultReceivedPromise){let a;await Promise.race([this.firstResultReceivedPromise.then(()=>{a&&clearTimeout(a)}),new Promise(s=>{a=setTimeout(()=>{s()},1e4)})]),a&&clearTimeout(a)}this.transport.endInput()}catch(r){if(!(r instanceof Fs))throw r}}handleHookCallbacks(e,r,a,s){let i=this.hookCallbacks.get(e);if(!i)throw new Error(`No hook callback found for ID: ${e}`);return i(r,a,{signal:s})}sendMcpServerMessageToCli(e,r){if("id"in r&&r.id!==null&&r.id!==void 0){let a=`${e}:${r.id}`,s=this.pendingMcpResponses.get(a);if(s){s.resolve(r),this.pendingMcpResponses.delete(a);return}}throw new Error("No pending request found")}handleMcpControlRequest(e,r,a){let s="id"in r.message?r.message.id:null,i=`${e}:${s}`;return new Promise((n,o)=>{let l=null,c=()=>{l&&clearTimeout(l),this.pendingMcpResponses.delete(i)},u=h=>{c(),n(h)},d=h=>{c(),o(h)};if(this.pendingMcpResponses.set(i,{resolve:u,reject:d}),a.onmessage)a.onmessage(r.message);else{c(),o(new Error("No message handler registered"));return}l=setTimeout(()=>{this.pendingMcpResponses.has(i)&&(c(),o(new Error("Request timeout")))},3e4)})}};function wL({prompt:t,options:{abortController:e=h0(),additionalDirectories:r=[],agents:a,allowedTools:s=[],appendSystemPrompt:i,canUseTool:n,continue:o,customSystemPrompt:l,cwd:c,disallowedTools:u=[],env:d,executable:h=x0()?"bun":"node",executableArgs:p=[],extraArgs:m={},fallbackModel:f,forkSession:v,hooks:g,includePartialMessages:b,maxThinkingTokens:w,maxTurns:C,mcpServers:T,model:R,pathToClaudeCodeExecutable:O,permissionMode:L="default",permissionPromptToolName:N,resume:q,resumeSessionAt:k,settingSources:A,stderr:D,strictMcpConfig:$}={}}){if(d||(d={...process.env}),d.CLAUDE_CODE_ENTRYPOINT||(d.CLAUDE_CODE_ENTRYPOINT="sdk-ts"),!O)throw new Error("pathToClaudeCodeExecutable is required");let B={},W=new Map;if(T)for(let[Y,ae]of Object.entries(T))ae.type==="sdk"&&"instance"in ae?(W.set(Y,ae.instance),B[Y]={type:"sdk",name:Y}):B[Y]=ae;let G=typeof t=="string",K=new Of({abortController:e,additionalDirectories:r,agents:a,cwd:c,executable:h,executableArgs:p,extraArgs:m,pathToClaudeCodeExecutable:O,env:d,forkSession:v,stderr:D,customSystemPrompt:l,appendSystemPrompt:i,maxThinkingTokens:w,maxTurns:C,model:R,fallbackModel:f,permissionMode:L,permissionPromptToolName:N,continueConversation:o,resume:q,resumeSessionAt:k,settingSources:A,allowedTools:s,disallowedTools:u,mcpServers:B,strictMcpConfig:$,canUseTool:!!n,hooks:!!g,includePartialMessages:b}),Q=new kf(K,G,n,g,e,W);return typeof t=="string"?K.write(JSON.stringify({type:"user",session_id:"",message:{role:"user",content:[{type:"text",text:t}]},parent_tool_use_id:null})+`
`):Q.streamInput(t),Q}var S={};L$(S,{void:()=>iF,util:()=>st,unknown:()=>sF,union:()=>uF,undefined:()=>tF,tuple:()=>fF,transformer:()=>o0,symbol:()=>eF,string:()=>R0,strictObject:()=>lF,setErrorMap:()=>PL,set:()=>vF,record:()=>mF,quotelessJson:()=>SL,promise:()=>wF,preprocess:()=>PF,pipeline:()=>RF,ostring:()=>CF,optional:()=>SF,onumber:()=>TF,oboolean:()=>OF,objectUtil:()=>Df,object:()=>cF,number:()=>C0,nullable:()=>EF,null:()=>rF,never:()=>nF,nativeEnum:()=>_F,nan:()=>QL,map:()=>hF,makeIssue:()=>Sl,literal:()=>xF,lazy:()=>yF,late:()=>KL,isValid:()=>Ms,isDirty:()=>Nf,isAsync:()=>Ao,isAborted:()=>jf,intersection:()=>pF,instanceof:()=>JL,getParsedType:()=>La,getErrorMap:()=>wl,function:()=>gF,enum:()=>bF,effect:()=>o0,discriminatedUnion:()=>dF,defaultErrorMap:()=>ui,datetimeRegex:()=>S0,date:()=>XL,custom:()=>P0,coerce:()=>IF,boolean:()=>T0,bigint:()=>YL,array:()=>oF,any:()=>aF,addIssueToContext:()=>oe,ZodVoid:()=>pi,ZodUnknown:()=>Fa,ZodUnion:()=>Hs,ZodUndefined:()=>Zs,ZodType:()=>Be,ZodTuple:()=>va,ZodTransformer:()=>xr,ZodSymbol:()=>di,ZodString:()=>us,ZodSet:()=>mi,ZodSchema:()=>Be,ZodRecord:()=>Pl,ZodReadonly:()=>en,ZodPromise:()=>ps,ZodPipeline:()=>Do,ZodParsedType:()=>pe,ZodOptional:()=>Dr,ZodObject:()=>ar,ZodNumber:()=>qs,ZodNullable:()=>ga,ZodNull:()=>Vs,ZodNever:()=>ea,ZodNativeEnum:()=>Qs,ZodNaN:()=>hi,ZodMap:()=>fi,ZodLiteral:()=>Ks,ZodLazy:()=>Ws,ZodIssueCode:()=>re,ZodIntersection:()=>Gs,ZodFunction:()=>Rl,ZodFirstPartyTypeKind:()=>Oe,ZodError:()=>yr,ZodEnum:()=>Js,ZodEffects:()=>xr,ZodDiscriminatedUnion:()=>El,ZodDefault:()=>Ys,ZodDate:()=>Bs,ZodCatch:()=>Xs,ZodBranded:()=>ko,ZodBoolean:()=>zs,ZodBigInt:()=>Us,ZodArray:()=>Ma,ZodAny:()=>ds,Schema:()=>Be,ParseStatus:()=>Zt,OK:()=>Wt,NEVER:()=>AF,INVALID:()=>Te,EMPTY_PATH:()=>RL,DIRTY:()=>li,BRAND:()=>WL});var st;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{let i={};for(let n of s)i[n]=n;return i},t.getValidEnumValues=s=>{let i=t.objectKeys(s).filter(o=>typeof s[s[o]]!="number"),n={};for(let o of i)n[o]=s[o];return t.objectValues(n)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{let i=[];for(let n in s)Object.prototype.hasOwnProperty.call(s,n)&&i.push(n);return i},t.find=(s,i)=>{for(let n of s)if(i(n))return n},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function a(s,i=" | "){return s.map(n=>typeof n=="string"?`'${n}'`:n).join(i)}t.joinValues=a,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(st||(st={}));var Df;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Df||(Df={}));var pe=st.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),La=t=>{switch(typeof t){case"undefined":return pe.undefined;case"string":return pe.string;case"number":return Number.isNaN(t)?pe.nan:pe.number;case"boolean":return pe.boolean;case"function":return pe.function;case"bigint":return pe.bigint;case"symbol":return pe.symbol;case"object":return Array.isArray(t)?pe.array:t===null?pe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?pe.promise:typeof Map<"u"&&t instanceof Map?pe.map:typeof Set<"u"&&t instanceof Set?pe.set:typeof Date<"u"&&t instanceof Date?pe.date:pe.object;default:return pe.unknown}},re=st.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),SL=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),yr=class t extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){let r=e||function(i){return i.message},a={_errors:[]},s=i=>{for(let n of i.issues)if(n.code==="invalid_union")n.unionErrors.map(s);else if(n.code==="invalid_return_type")s(n.returnTypeError);else if(n.code==="invalid_arguments")s(n.argumentsError);else if(n.path.length===0)a._errors.push(r(n));else{let o=a,l=0;for(;l<n.path.length;){let c=n.path[l];l===n.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(r(n))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return s(this),a}static assert(e){if(!(e instanceof t))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,st.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){let r={},a=[];for(let s of this.issues)if(s.path.length>0){let i=s.path[0];r[i]=r[i]||[],r[i].push(e(s))}else a.push(e(s));return{formErrors:a,fieldErrors:r}}get formErrors(){return this.flatten()}};yr.create=t=>new yr(t);var EL=(t,e)=>{let r;switch(t.code){case re.invalid_type:t.received===pe.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case re.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,st.jsonStringifyReplacer)}`;break;case re.unrecognized_keys:r=`Unrecognized key(s) in object: ${st.joinValues(t.keys,", ")}`;break;case re.invalid_union:r="Invalid input";break;case re.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${st.joinValues(t.options)}`;break;case re.invalid_enum_value:r=`Invalid enum value. Expected ${st.joinValues(t.options)}, received '${t.received}'`;break;case re.invalid_arguments:r="Invalid function arguments";break;case re.invalid_return_type:r="Invalid function return type";break;case re.invalid_date:r="Invalid date";break;case re.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:st.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case re.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case re.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case re.custom:r="Invalid input";break;case re.invalid_intersection_types:r="Intersection results could not be merged";break;case re.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case re.not_finite:r="Number must be finite";break;default:r=e.defaultError,st.assertNever(t)}return{message:r}},ui=EL,b0=ui;function PL(t){b0=t}function wl(){return b0}var Sl=t=>{let{data:e,path:r,errorMaps:a,issueData:s}=t,i=[...r,...s.path||[]],n={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let o="",l=a.filter(c=>!!c).slice().reverse();for(let c of l)o=c(n,{data:e,defaultError:o}).message;return{...s,path:i,message:o}},RL=[];function oe(t,e){let r=wl(),a=Sl({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===ui?void 0:ui].filter(s=>!!s)});t.common.issues.push(a)}var Zt=class t{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){let a=[];for(let s of r){if(s.status==="aborted")return Te;s.status==="dirty"&&e.dirty(),a.push(s.value)}return{status:e.value,value:a}}static async mergeObjectAsync(e,r){let a=[];for(let s of r){let i=await s.key,n=await s.value;a.push({key:i,value:n})}return t.mergeObjectSync(e,a)}static mergeObjectSync(e,r){let a={};for(let s of r){let{key:i,value:n}=s;if(i.status==="aborted"||n.status==="aborted")return Te;i.status==="dirty"&&e.dirty(),n.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof n.value<"u"||s.alwaysSet)&&(a[i.value]=n.value)}return{status:e.value,value:a}}},Te=Object.freeze({status:"aborted"}),li=t=>({status:"dirty",value:t}),Wt=t=>({status:"valid",value:t}),jf=t=>t.status==="aborted",Nf=t=>t.status==="dirty",Ms=t=>t.status==="valid",Ao=t=>typeof Promise<"u"&&t instanceof Promise,xe;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(xe||(xe={}));var jr=class{constructor(e,r,a,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=a,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},n0=(t,e)=>{if(Ms(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new yr(t.common.issues);return this._error=r,this._error}}};function Ve(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:a,description:s}=t;if(e&&(r||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(n,o)=>{let{message:l}=t;return n.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??a??o.defaultError}:n.code!=="invalid_type"?{message:o.defaultError}:{message:l??r??o.defaultError}},description:s}}var Be=class{get description(){return this._def.description}_getType(e){return La(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:La(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Zt,ctx:{common:e.parent.common,data:e.data,parsedType:La(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let r=this._parse(e);if(Ao(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){let r=this._parse(e);return Promise.resolve(r)}parse(e,r){let a=this.safeParse(e,r);if(a.success)return a.data;throw a.error}safeParse(e,r){let a={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:La(e)},s=this._parseSync({data:e,path:a.path,parent:a});return n0(a,s)}"~validate"(e){let r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:La(e)};if(!this["~standard"].async)try{let a=this._parseSync({data:e,path:[],parent:r});return Ms(a)?{value:a.value}:{issues:r.common.issues}}catch(a){a?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(a=>Ms(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(e,r){let a=await this.safeParseAsync(e,r);if(a.success)return a.data;throw a.error}async safeParseAsync(e,r){let a={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:La(e)},s=this._parse({data:e,path:a.path,parent:a}),i=await(Ao(s)?s:Promise.resolve(s));return n0(a,i)}refine(e,r){let a=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{let n=e(s),o=()=>i.addIssue({code:re.custom,...a(s)});return typeof Promise<"u"&&n instanceof Promise?n.then(l=>l?!0:(o(),!1)):n?!0:(o(),!1)})}refinement(e,r){return this._refinement((a,s)=>e(a)?!0:(s.addIssue(typeof r=="function"?r(a,s):r),!1))}_refinement(e){return new xr({schema:this,typeName:Oe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Dr.create(this,this._def)}nullable(){return ga.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ma.create(this)}promise(){return ps.create(this,this._def)}or(e){return Hs.create([this,e],this._def)}and(e){return Gs.create(this,e,this._def)}transform(e){return new xr({...Ve(this._def),schema:this,typeName:Oe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let r=typeof e=="function"?e:()=>e;return new Ys({...Ve(this._def),innerType:this,defaultValue:r,typeName:Oe.ZodDefault})}brand(){return new ko({typeName:Oe.ZodBranded,type:this,...Ve(this._def)})}catch(e){let r=typeof e=="function"?e:()=>e;return new Xs({...Ve(this._def),innerType:this,catchValue:r,typeName:Oe.ZodCatch})}describe(e){let r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Do.create(this,e)}readonly(){return en.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},CL=/^c[^\s-]{8,}$/i,TL=/^[0-9a-z]+$/,OL=/^[0-9A-HJKMNP-TV-Z]{26}$/i,IL=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,AL=/^[a-z0-9_-]{21}$/i,kL=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,DL=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,jL=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,NL="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Rf,$L=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,LL=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,FL=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ML=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,qL=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,UL=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,_0="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",zL=new RegExp(`^${_0}$`);function w0(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);let r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function BL(t){return new RegExp(`^${w0(t)}$`)}function S0(t){let e=`${_0}T${w0(t)}`,r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function ZL(t,e){return!!((e==="v4"||!e)&&$L.test(t)||(e==="v6"||!e)&&FL.test(t))}function VL(t,e){if(!kL.test(t))return!1;try{let[r]=t.split(".");if(!r)return!1;let a=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(a));return!(typeof s!="object"||s===null||"typ"in s&&s?.typ!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function HL(t,e){return!!((e==="v4"||!e)&&LL.test(t)||(e==="v6"||!e)&&ML.test(t))}var us=class t extends Be{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==pe.string){let i=this._getOrReturnCtx(e);return oe(i,{code:re.invalid_type,expected:pe.string,received:i.parsedType}),Te}let a=new Zt,s;for(let i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),oe(s,{code:re.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),a.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),oe(s,{code:re.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),a.dirty());else if(i.kind==="length"){let n=e.data.length>i.value,o=e.data.length<i.value;(n||o)&&(s=this._getOrReturnCtx(e,s),n?oe(s,{code:re.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&oe(s,{code:re.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),a.dirty())}else if(i.kind==="email")jL.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"email",code:re.invalid_string,message:i.message}),a.dirty());else if(i.kind==="emoji")Rf||(Rf=new RegExp(NL,"u")),Rf.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"emoji",code:re.invalid_string,message:i.message}),a.dirty());else if(i.kind==="uuid")IL.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"uuid",code:re.invalid_string,message:i.message}),a.dirty());else if(i.kind==="nanoid")AL.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"nanoid",code:re.invalid_string,message:i.message}),a.dirty());else if(i.kind==="cuid")CL.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"cuid",code:re.invalid_string,message:i.message}),a.dirty());else if(i.kind==="cuid2")TL.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"cuid2",code:re.invalid_string,message:i.message}),a.dirty());else if(i.kind==="ulid")OL.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"ulid",code:re.invalid_string,message:i.message}),a.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),oe(s,{validation:"url",code:re.invalid_string,message:i.message}),a.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"regex",code:re.invalid_string,message:i.message}),a.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),oe(s,{code:re.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),a.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),oe(s,{code:re.invalid_string,validation:{startsWith:i.value},message:i.message}),a.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),oe(s,{code:re.invalid_string,validation:{endsWith:i.value},message:i.message}),a.dirty()):i.kind==="datetime"?S0(i).test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{code:re.invalid_string,validation:"datetime",message:i.message}),a.dirty()):i.kind==="date"?zL.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{code:re.invalid_string,validation:"date",message:i.message}),a.dirty()):i.kind==="time"?BL(i).test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{code:re.invalid_string,validation:"time",message:i.message}),a.dirty()):i.kind==="duration"?DL.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"duration",code:re.invalid_string,message:i.message}),a.dirty()):i.kind==="ip"?ZL(e.data,i.version)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"ip",code:re.invalid_string,message:i.message}),a.dirty()):i.kind==="jwt"?VL(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"jwt",code:re.invalid_string,message:i.message}),a.dirty()):i.kind==="cidr"?HL(e.data,i.version)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"cidr",code:re.invalid_string,message:i.message}),a.dirty()):i.kind==="base64"?qL.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"base64",code:re.invalid_string,message:i.message}),a.dirty()):i.kind==="base64url"?UL.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"base64url",code:re.invalid_string,message:i.message}),a.dirty()):st.assertNever(i);return{status:a.value,value:e.data}}_regex(e,r,a){return this.refinement(s=>e.test(s),{validation:r,code:re.invalid_string,...xe.errToObj(a)})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...xe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...xe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...xe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...xe.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...xe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...xe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...xe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...xe.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...xe.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...xe.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...xe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...xe.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...xe.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...xe.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...xe.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...xe.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...xe.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...xe.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...xe.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...xe.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...xe.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...xe.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...xe.errToObj(r)})}nonempty(e){return this.min(1,xe.errToObj(e))}trim(){return new t({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};us.create=t=>new us({checks:[],typeName:Oe.ZodString,coerce:t?.coerce??!1,...Ve(t)});function GL(t,e){let r=(t.toString().split(".")[1]||"").length,a=(e.toString().split(".")[1]||"").length,s=r>a?r:a,i=Number.parseInt(t.toFixed(s).replace(".","")),n=Number.parseInt(e.toFixed(s).replace(".",""));return i%n/10**s}var qs=class t extends Be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==pe.number){let i=this._getOrReturnCtx(e);return oe(i,{code:re.invalid_type,expected:pe.number,received:i.parsedType}),Te}let a,s=new Zt;for(let i of this._def.checks)i.kind==="int"?st.isInteger(e.data)||(a=this._getOrReturnCtx(e,a),oe(a,{code:re.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(a=this._getOrReturnCtx(e,a),oe(a,{code:re.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(a=this._getOrReturnCtx(e,a),oe(a,{code:re.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?GL(e.data,i.value)!==0&&(a=this._getOrReturnCtx(e,a),oe(a,{code:re.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(a=this._getOrReturnCtx(e,a),oe(a,{code:re.not_finite,message:i.message}),s.dirty()):st.assertNever(i);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,xe.toString(r))}gt(e,r){return this.setLimit("min",e,!1,xe.toString(r))}lte(e,r){return this.setLimit("max",e,!0,xe.toString(r))}lt(e,r){return this.setLimit("max",e,!1,xe.toString(r))}setLimit(e,r,a,s){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:a,message:xe.toString(s)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:xe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:xe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:xe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:xe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:xe.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:xe.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:xe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:xe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:xe.toString(e)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&st.isInteger(e.value))}get isFinite(){let e=null,r=null;for(let a of this._def.checks){if(a.kind==="finite"||a.kind==="int"||a.kind==="multipleOf")return!0;a.kind==="min"?(r===null||a.value>r)&&(r=a.value):a.kind==="max"&&(e===null||a.value<e)&&(e=a.value)}return Number.isFinite(r)&&Number.isFinite(e)}};qs.create=t=>new qs({checks:[],typeName:Oe.ZodNumber,coerce:t?.coerce||!1,...Ve(t)});var Us=class t extends Be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==pe.bigint)return this._getInvalidInput(e);let a,s=new Zt;for(let i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(a=this._getOrReturnCtx(e,a),oe(a,{code:re.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(a=this._getOrReturnCtx(e,a),oe(a,{code:re.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(a=this._getOrReturnCtx(e,a),oe(a,{code:re.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):st.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){let r=this._getOrReturnCtx(e);return oe(r,{code:re.invalid_type,expected:pe.bigint,received:r.parsedType}),Te}gte(e,r){return this.setLimit("min",e,!0,xe.toString(r))}gt(e,r){return this.setLimit("min",e,!1,xe.toString(r))}lte(e,r){return this.setLimit("max",e,!0,xe.toString(r))}lt(e,r){return this.setLimit("max",e,!1,xe.toString(r))}setLimit(e,r,a,s){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:a,message:xe.toString(s)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:xe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:xe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:xe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:xe.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:xe.toString(r)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};Us.create=t=>new Us({checks:[],typeName:Oe.ZodBigInt,coerce:t?.coerce??!1,...Ve(t)});var zs=class extends Be{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==pe.boolean){let a=this._getOrReturnCtx(e);return oe(a,{code:re.invalid_type,expected:pe.boolean,received:a.parsedType}),Te}return Wt(e.data)}};zs.create=t=>new zs({typeName:Oe.ZodBoolean,coerce:t?.coerce||!1,...Ve(t)});var Bs=class t extends Be{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==pe.date){let i=this._getOrReturnCtx(e);return oe(i,{code:re.invalid_type,expected:pe.date,received:i.parsedType}),Te}if(Number.isNaN(e.data.getTime())){let i=this._getOrReturnCtx(e);return oe(i,{code:re.invalid_date}),Te}let a=new Zt,s;for(let i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),oe(s,{code:re.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),a.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),oe(s,{code:re.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),a.dirty()):st.assertNever(i);return{status:a.value,value:new Date(e.data.getTime())}}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:xe.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:xe.toString(r)})}get minDate(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};Bs.create=t=>new Bs({checks:[],coerce:t?.coerce||!1,typeName:Oe.ZodDate,...Ve(t)});var di=class extends Be{_parse(e){if(this._getType(e)!==pe.symbol){let a=this._getOrReturnCtx(e);return oe(a,{code:re.invalid_type,expected:pe.symbol,received:a.parsedType}),Te}return Wt(e.data)}};di.create=t=>new di({typeName:Oe.ZodSymbol,...Ve(t)});var Zs=class extends Be{_parse(e){if(this._getType(e)!==pe.undefined){let a=this._getOrReturnCtx(e);return oe(a,{code:re.invalid_type,expected:pe.undefined,received:a.parsedType}),Te}return Wt(e.data)}};Zs.create=t=>new Zs({typeName:Oe.ZodUndefined,...Ve(t)});var Vs=class extends Be{_parse(e){if(this._getType(e)!==pe.null){let a=this._getOrReturnCtx(e);return oe(a,{code:re.invalid_type,expected:pe.null,received:a.parsedType}),Te}return Wt(e.data)}};Vs.create=t=>new Vs({typeName:Oe.ZodNull,...Ve(t)});var ds=class extends Be{constructor(){super(...arguments),this._any=!0}_parse(e){return Wt(e.data)}};ds.create=t=>new ds({typeName:Oe.ZodAny,...Ve(t)});var Fa=class extends Be{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Wt(e.data)}};Fa.create=t=>new Fa({typeName:Oe.ZodUnknown,...Ve(t)});var ea=class extends Be{_parse(e){let r=this._getOrReturnCtx(e);return oe(r,{code:re.invalid_type,expected:pe.never,received:r.parsedType}),Te}};ea.create=t=>new ea({typeName:Oe.ZodNever,...Ve(t)});var pi=class extends Be{_parse(e){if(this._getType(e)!==pe.undefined){let a=this._getOrReturnCtx(e);return oe(a,{code:re.invalid_type,expected:pe.void,received:a.parsedType}),Te}return Wt(e.data)}};pi.create=t=>new pi({typeName:Oe.ZodVoid,...Ve(t)});var Ma=class t extends Be{_parse(e){let{ctx:r,status:a}=this._processInputParams(e),s=this._def;if(r.parsedType!==pe.array)return oe(r,{code:re.invalid_type,expected:pe.array,received:r.parsedType}),Te;if(s.exactLength!==null){let n=r.data.length>s.exactLength.value,o=r.data.length<s.exactLength.value;(n||o)&&(oe(r,{code:n?re.too_big:re.too_small,minimum:o?s.exactLength.value:void 0,maximum:n?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),a.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(oe(r,{code:re.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),a.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(oe(r,{code:re.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),a.dirty()),r.common.async)return Promise.all([...r.data].map((n,o)=>s.type._parseAsync(new jr(r,n,r.path,o)))).then(n=>Zt.mergeArray(a,n));let i=[...r.data].map((n,o)=>s.type._parseSync(new jr(r,n,r.path,o)));return Zt.mergeArray(a,i)}get element(){return this._def.type}min(e,r){return new t({...this._def,minLength:{value:e,message:xe.toString(r)}})}max(e,r){return new t({...this._def,maxLength:{value:e,message:xe.toString(r)}})}length(e,r){return new t({...this._def,exactLength:{value:e,message:xe.toString(r)}})}nonempty(e){return this.min(1,e)}};Ma.create=(t,e)=>new Ma({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Oe.ZodArray,...Ve(e)});function ci(t){if(t instanceof ar){let e={};for(let r in t.shape){let a=t.shape[r];e[r]=Dr.create(ci(a))}return new ar({...t._def,shape:()=>e})}else return t instanceof Ma?new Ma({...t._def,type:ci(t.element)}):t instanceof Dr?Dr.create(ci(t.unwrap())):t instanceof ga?ga.create(ci(t.unwrap())):t instanceof va?va.create(t.items.map(e=>ci(e))):t}var ar=class t extends Be{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),r=st.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==pe.object){let c=this._getOrReturnCtx(e);return oe(c,{code:re.invalid_type,expected:pe.object,received:c.parsedType}),Te}let{status:a,ctx:s}=this._processInputParams(e),{shape:i,keys:n}=this._getCached(),o=[];if(!(this._def.catchall instanceof ea&&this._def.unknownKeys==="strip"))for(let c in s.data)n.includes(c)||o.push(c);let l=[];for(let c of n){let u=i[c],d=s.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new jr(s,d,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof ea){let c=this._def.unknownKeys;if(c==="passthrough")for(let u of o)l.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(c==="strict")o.length>0&&(oe(s,{code:re.unrecognized_keys,keys:o}),a.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let c=this._def.catchall;for(let u of o){let d=s.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new jr(s,d,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{let c=[];for(let u of l){let d=await u.key,h=await u.value;c.push({key:d,value:h,alwaysSet:u.alwaysSet})}return c}).then(c=>Zt.mergeObjectSync(a,c)):Zt.mergeObjectSync(a,l)}get shape(){return this._def.shape()}strict(e){return xe.errToObj,new t({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,a)=>{let s=this._def.errorMap?.(r,a).message??a.defaultError;return r.code==="unrecognized_keys"?{message:xe.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new t({...this._def,unknownKeys:"strip"})}passthrough(){return new t({...this._def,unknownKeys:"passthrough"})}extend(e){return new t({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Oe.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new t({...this._def,catchall:e})}pick(e){let r={};for(let a of st.objectKeys(e))e[a]&&this.shape[a]&&(r[a]=this.shape[a]);return new t({...this._def,shape:()=>r})}omit(e){let r={};for(let a of st.objectKeys(this.shape))e[a]||(r[a]=this.shape[a]);return new t({...this._def,shape:()=>r})}deepPartial(){return ci(this)}partial(e){let r={};for(let a of st.objectKeys(this.shape)){let s=this.shape[a];e&&!e[a]?r[a]=s:r[a]=s.optional()}return new t({...this._def,shape:()=>r})}required(e){let r={};for(let a of st.objectKeys(this.shape))if(e&&!e[a])r[a]=this.shape[a];else{let i=this.shape[a];for(;i instanceof Dr;)i=i._def.innerType;r[a]=i}return new t({...this._def,shape:()=>r})}keyof(){return E0(st.objectKeys(this.shape))}};ar.create=(t,e)=>new ar({shape:()=>t,unknownKeys:"strip",catchall:ea.create(),typeName:Oe.ZodObject,...Ve(e)});ar.strictCreate=(t,e)=>new ar({shape:()=>t,unknownKeys:"strict",catchall:ea.create(),typeName:Oe.ZodObject,...Ve(e)});ar.lazycreate=(t,e)=>new ar({shape:t,unknownKeys:"strip",catchall:ea.create(),typeName:Oe.ZodObject,...Ve(e)});var Hs=class extends Be{_parse(e){let{ctx:r}=this._processInputParams(e),a=this._def.options;function s(i){for(let o of i)if(o.result.status==="valid")return o.result;for(let o of i)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;let n=i.map(o=>new yr(o.ctx.common.issues));return oe(r,{code:re.invalid_union,unionErrors:n}),Te}if(r.common.async)return Promise.all(a.map(async i=>{let n={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:n}),ctx:n}})).then(s);{let i,n=[];for(let l of a){let c={...r,common:{...r.common,issues:[]},parent:null},u=l._parseSync({data:r.data,path:r.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:c}),c.common.issues.length&&n.push(c.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;let o=n.map(l=>new yr(l));return oe(r,{code:re.invalid_union,unionErrors:o}),Te}}get options(){return this._def.options}};Hs.create=(t,e)=>new Hs({options:t,typeName:Oe.ZodUnion,...Ve(e)});var $a=t=>t instanceof Ws?$a(t.schema):t instanceof xr?$a(t.innerType()):t instanceof Ks?[t.value]:t instanceof Js?t.options:t instanceof Qs?st.objectValues(t.enum):t instanceof Ys?$a(t._def.innerType):t instanceof Zs?[void 0]:t instanceof Vs?[null]:t instanceof Dr?[void 0,...$a(t.unwrap())]:t instanceof ga?[null,...$a(t.unwrap())]:t instanceof ko||t instanceof en?$a(t.unwrap()):t instanceof Xs?$a(t._def.innerType):[],El=class t extends Be{_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==pe.object)return oe(r,{code:re.invalid_type,expected:pe.object,received:r.parsedType}),Te;let a=this.discriminator,s=r.data[a],i=this.optionsMap.get(s);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(oe(r,{code:re.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[a]}),Te)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,a){let s=new Map;for(let i of r){let n=$a(i.shape[e]);if(!n.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let o of n){if(s.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);s.set(o,i)}}return new t({typeName:Oe.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:s,...Ve(a)})}};function $f(t,e){let r=La(t),a=La(e);if(t===e)return{valid:!0,data:t};if(r===pe.object&&a===pe.object){let s=st.objectKeys(e),i=st.objectKeys(t).filter(o=>s.indexOf(o)!==-1),n={...t,...e};for(let o of i){let l=$f(t[o],e[o]);if(!l.valid)return{valid:!1};n[o]=l.data}return{valid:!0,data:n}}else if(r===pe.array&&a===pe.array){if(t.length!==e.length)return{valid:!1};let s=[];for(let i=0;i<t.length;i++){let n=t[i],o=e[i],l=$f(n,o);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return r===pe.date&&a===pe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var Gs=class extends Be{_parse(e){let{status:r,ctx:a}=this._processInputParams(e),s=(i,n)=>{if(jf(i)||jf(n))return Te;let o=$f(i.value,n.value);return o.valid?((Nf(i)||Nf(n))&&r.dirty(),{status:r.value,value:o.data}):(oe(a,{code:re.invalid_intersection_types}),Te)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([i,n])=>s(i,n)):s(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}};Gs.create=(t,e,r)=>new Gs({left:t,right:e,typeName:Oe.ZodIntersection,...Ve(r)});var va=class t extends Be{_parse(e){let{status:r,ctx:a}=this._processInputParams(e);if(a.parsedType!==pe.array)return oe(a,{code:re.invalid_type,expected:pe.array,received:a.parsedType}),Te;if(a.data.length<this._def.items.length)return oe(a,{code:re.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Te;!this._def.rest&&a.data.length>this._def.items.length&&(oe(a,{code:re.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let i=[...a.data].map((n,o)=>{let l=this._def.items[o]||this._def.rest;return l?l._parse(new jr(a,n,a.path,o)):null}).filter(n=>!!n);return a.common.async?Promise.all(i).then(n=>Zt.mergeArray(r,n)):Zt.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new t({...this._def,rest:e})}};va.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new va({items:t,typeName:Oe.ZodTuple,rest:null,...Ve(e)})};var Pl=class t extends Be{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:a}=this._processInputParams(e);if(a.parsedType!==pe.object)return oe(a,{code:re.invalid_type,expected:pe.object,received:a.parsedType}),Te;let s=[],i=this._def.keyType,n=this._def.valueType;for(let o in a.data)s.push({key:i._parse(new jr(a,o,a.path,o)),value:n._parse(new jr(a,a.data[o],a.path,o)),alwaysSet:o in a.data});return a.common.async?Zt.mergeObjectAsync(r,s):Zt.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(e,r,a){return r instanceof Be?new t({keyType:e,valueType:r,typeName:Oe.ZodRecord,...Ve(a)}):new t({keyType:us.create(),valueType:e,typeName:Oe.ZodRecord,...Ve(r)})}},fi=class extends Be{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:a}=this._processInputParams(e);if(a.parsedType!==pe.map)return oe(a,{code:re.invalid_type,expected:pe.map,received:a.parsedType}),Te;let s=this._def.keyType,i=this._def.valueType,n=[...a.data.entries()].map(([o,l],c)=>({key:s._parse(new jr(a,o,a.path,[c,"key"])),value:i._parse(new jr(a,l,a.path,[c,"value"]))}));if(a.common.async){let o=new Map;return Promise.resolve().then(async()=>{for(let l of n){let c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return Te;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(c.value,u.value)}return{status:r.value,value:o}})}else{let o=new Map;for(let l of n){let c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return Te;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(c.value,u.value)}return{status:r.value,value:o}}}};fi.create=(t,e,r)=>new fi({valueType:e,keyType:t,typeName:Oe.ZodMap,...Ve(r)});var mi=class t extends Be{_parse(e){let{status:r,ctx:a}=this._processInputParams(e);if(a.parsedType!==pe.set)return oe(a,{code:re.invalid_type,expected:pe.set,received:a.parsedType}),Te;let s=this._def;s.minSize!==null&&a.data.size<s.minSize.value&&(oe(a,{code:re.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&a.data.size>s.maxSize.value&&(oe(a,{code:re.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());let i=this._def.valueType;function n(l){let c=new Set;for(let u of l){if(u.status==="aborted")return Te;u.status==="dirty"&&r.dirty(),c.add(u.value)}return{status:r.value,value:c}}let o=[...a.data.values()].map((l,c)=>i._parse(new jr(a,l,a.path,c)));return a.common.async?Promise.all(o).then(l=>n(l)):n(o)}min(e,r){return new t({...this._def,minSize:{value:e,message:xe.toString(r)}})}max(e,r){return new t({...this._def,maxSize:{value:e,message:xe.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};mi.create=(t,e)=>new mi({valueType:t,minSize:null,maxSize:null,typeName:Oe.ZodSet,...Ve(e)});var Rl=class t extends Be{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==pe.function)return oe(r,{code:re.invalid_type,expected:pe.function,received:r.parsedType}),Te;function a(o,l){return Sl({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,wl(),ui].filter(c=>!!c),issueData:{code:re.invalid_arguments,argumentsError:l}})}function s(o,l){return Sl({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,wl(),ui].filter(c=>!!c),issueData:{code:re.invalid_return_type,returnTypeError:l}})}let i={errorMap:r.common.contextualErrorMap},n=r.data;if(this._def.returns instanceof ps){let o=this;return Wt(async function(...l){let c=new yr([]),u=await o._def.args.parseAsync(l,i).catch(p=>{throw c.addIssue(a(l,p)),c}),d=await Reflect.apply(n,this,u);return await o._def.returns._def.type.parseAsync(d,i).catch(p=>{throw c.addIssue(s(d,p)),c})})}else{let o=this;return Wt(function(...l){let c=o._def.args.safeParse(l,i);if(!c.success)throw new yr([a(l,c.error)]);let u=Reflect.apply(n,this,c.data),d=o._def.returns.safeParse(u,i);if(!d.success)throw new yr([s(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new t({...this._def,args:va.create(e).rest(Fa.create())})}returns(e){return new t({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,a){return new t({args:e||va.create([]).rest(Fa.create()),returns:r||Fa.create(),typeName:Oe.ZodFunction,...Ve(a)})}},Ws=class extends Be{get schema(){return this._def.getter()}_parse(e){let{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};Ws.create=(t,e)=>new Ws({getter:t,typeName:Oe.ZodLazy,...Ve(e)});var Ks=class extends Be{_parse(e){if(e.data!==this._def.value){let r=this._getOrReturnCtx(e);return oe(r,{received:r.data,code:re.invalid_literal,expected:this._def.value}),Te}return{status:"valid",value:e.data}}get value(){return this._def.value}};Ks.create=(t,e)=>new Ks({value:t,typeName:Oe.ZodLiteral,...Ve(e)});function E0(t,e){return new Js({values:t,typeName:Oe.ZodEnum,...Ve(e)})}var Js=class t extends Be{_parse(e){if(typeof e.data!="string"){let r=this._getOrReturnCtx(e),a=this._def.values;return oe(r,{expected:st.joinValues(a),received:r.parsedType,code:re.invalid_type}),Te}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let r=this._getOrReturnCtx(e),a=this._def.values;return oe(r,{received:r.data,code:re.invalid_enum_value,options:a}),Te}return Wt(e.data)}get options(){return this._def.values}get enum(){let e={};for(let r of this._def.values)e[r]=r;return e}get Values(){let e={};for(let r of this._def.values)e[r]=r;return e}get Enum(){let e={};for(let r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return t.create(e,{...this._def,...r})}exclude(e,r=this._def){return t.create(this.options.filter(a=>!e.includes(a)),{...this._def,...r})}};Js.create=E0;var Qs=class extends Be{_parse(e){let r=st.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(e);if(a.parsedType!==pe.string&&a.parsedType!==pe.number){let s=st.objectValues(r);return oe(a,{expected:st.joinValues(s),received:a.parsedType,code:re.invalid_type}),Te}if(this._cache||(this._cache=new Set(st.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let s=st.objectValues(r);return oe(a,{received:a.data,code:re.invalid_enum_value,options:s}),Te}return Wt(e.data)}get enum(){return this._def.values}};Qs.create=(t,e)=>new Qs({values:t,typeName:Oe.ZodNativeEnum,...Ve(e)});var ps=class extends Be{unwrap(){return this._def.type}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==pe.promise&&r.common.async===!1)return oe(r,{code:re.invalid_type,expected:pe.promise,received:r.parsedType}),Te;let a=r.parsedType===pe.promise?r.data:Promise.resolve(r.data);return Wt(a.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}};ps.create=(t,e)=>new ps({type:t,typeName:Oe.ZodPromise,...Ve(e)});var xr=class extends Be{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Oe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:r,ctx:a}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:n=>{oe(a,n),n.fatal?r.abort():r.dirty()},get path(){return a.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){let n=s.transform(a.data,i);if(a.common.async)return Promise.resolve(n).then(async o=>{if(r.value==="aborted")return Te;let l=await this._def.schema._parseAsync({data:o,path:a.path,parent:a});return l.status==="aborted"?Te:l.status==="dirty"||r.value==="dirty"?li(l.value):l});{if(r.value==="aborted")return Te;let o=this._def.schema._parseSync({data:n,path:a.path,parent:a});return o.status==="aborted"?Te:o.status==="dirty"||r.value==="dirty"?li(o.value):o}}if(s.type==="refinement"){let n=o=>{let l=s.refinement(o,i);if(a.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(a.common.async===!1){let o=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return o.status==="aborted"?Te:(o.status==="dirty"&&r.dirty(),n(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(o=>o.status==="aborted"?Te:(o.status==="dirty"&&r.dirty(),n(o.value).then(()=>({status:r.value,value:o.value}))))}if(s.type==="transform")if(a.common.async===!1){let n=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!Ms(n))return Te;let o=s.transform(n.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(n=>Ms(n)?Promise.resolve(s.transform(n.value,i)).then(o=>({status:r.value,value:o})):Te);st.assertNever(s)}};xr.create=(t,e,r)=>new xr({schema:t,typeName:Oe.ZodEffects,effect:e,...Ve(r)});xr.createWithPreprocess=(t,e,r)=>new xr({schema:e,effect:{type:"preprocess",transform:t},typeName:Oe.ZodEffects,...Ve(r)});var Dr=class extends Be{_parse(e){return this._getType(e)===pe.undefined?Wt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Dr.create=(t,e)=>new Dr({innerType:t,typeName:Oe.ZodOptional,...Ve(e)});var ga=class extends Be{_parse(e){return this._getType(e)===pe.null?Wt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};ga.create=(t,e)=>new ga({innerType:t,typeName:Oe.ZodNullable,...Ve(e)});var Ys=class extends Be{_parse(e){let{ctx:r}=this._processInputParams(e),a=r.data;return r.parsedType===pe.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};Ys.create=(t,e)=>new Ys({innerType:t,typeName:Oe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ve(e)});var Xs=class extends Be{_parse(e){let{ctx:r}=this._processInputParams(e),a={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return Ao(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new yr(a.common.issues)},input:a.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new yr(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}};Xs.create=(t,e)=>new Xs({innerType:t,typeName:Oe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ve(e)});var hi=class extends Be{_parse(e){if(this._getType(e)!==pe.nan){let a=this._getOrReturnCtx(e);return oe(a,{code:re.invalid_type,expected:pe.nan,received:a.parsedType}),Te}return{status:"valid",value:e.data}}};hi.create=t=>new hi({typeName:Oe.ZodNaN,...Ve(t)});var WL=Symbol("zod_brand"),ko=class extends Be{_parse(e){let{ctx:r}=this._processInputParams(e),a=r.data;return this._def.type._parse({data:a,path:r.path,parent:r})}unwrap(){return this._def.type}},Do=class t extends Be{_parse(e){let{status:r,ctx:a}=this._processInputParams(e);if(a.common.async)return(async()=>{let i=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return i.status==="aborted"?Te:i.status==="dirty"?(r.dirty(),li(i.value)):this._def.out._parseAsync({data:i.value,path:a.path,parent:a})})();{let s=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return s.status==="aborted"?Te:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:a.path,parent:a})}}static create(e,r){return new t({in:e,out:r,typeName:Oe.ZodPipeline})}},en=class extends Be{_parse(e){let r=this._def.innerType._parse(e),a=s=>(Ms(s)&&(s.value=Object.freeze(s.value)),s);return Ao(r)?r.then(s=>a(s)):a(r)}unwrap(){return this._def.innerType}};en.create=(t,e)=>new en({innerType:t,typeName:Oe.ZodReadonly,...Ve(e)});function i0(t,e){let r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function P0(t,e={},r){return t?ds.create().superRefine((a,s)=>{let i=t(a);if(i instanceof Promise)return i.then(n=>{if(!n){let o=i0(e,a),l=o.fatal??r??!0;s.addIssue({code:"custom",...o,fatal:l})}});if(!i){let n=i0(e,a),o=n.fatal??r??!0;s.addIssue({code:"custom",...n,fatal:o})}}):ds.create()}var KL={object:ar.lazycreate},Oe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Oe||(Oe={}));var JL=(t,e={message:`Input not instance of ${t.name}`})=>P0(r=>r instanceof t,e),R0=us.create,C0=qs.create,QL=hi.create,YL=Us.create,T0=zs.create,XL=Bs.create,eF=di.create,tF=Zs.create,rF=Vs.create,aF=ds.create,sF=Fa.create,nF=ea.create,iF=pi.create,oF=Ma.create,cF=ar.create,lF=ar.strictCreate,uF=Hs.create,dF=El.create,pF=Gs.create,fF=va.create,mF=Pl.create,hF=fi.create,vF=mi.create,gF=Rl.create,yF=Ws.create,xF=Ks.create,bF=Js.create,_F=Qs.create,wF=ps.create,o0=xr.create,SF=Dr.create,EF=ga.create,PF=xr.createWithPreprocess,RF=Do.create,CF=()=>R0().optional(),TF=()=>C0().optional(),OF=()=>T0().optional(),IF={string:t=>us.create({...t,coerce:!0}),number:t=>qs.create({...t,coerce:!0}),boolean:t=>zs.create({...t,coerce:!0}),bigint:t=>Us.create({...t,coerce:!0}),date:t=>Bs.create({...t,coerce:!0})},AF=Te;var Tl="2.0",O0=S.union([S.string(),S.number().int()]),I0=S.string(),kF=S.object({progressToken:S.optional(O0)}).passthrough(),Nr=S.object({_meta:S.optional(kF)}).passthrough(),sr=S.object({method:S.string(),params:S.optional(Nr)}),jo=S.object({_meta:S.optional(S.object({}).passthrough())}).passthrough(),ya=S.object({method:S.string(),params:S.optional(jo)}),$r=S.object({_meta:S.optional(S.object({}).passthrough())}).passthrough(),Ol=S.union([S.string(),S.number().int()]),DF=S.object({jsonrpc:S.literal(Tl),id:Ol}).merge(sr).strict();var jF=S.object({jsonrpc:S.literal(Tl)}).merge(ya).strict();var NF=S.object({jsonrpc:S.literal(Tl),id:Ol,result:$r}).strict();var c0;(function(t){t[t.ConnectionClosed=-32e3]="ConnectionClosed",t[t.RequestTimeout=-32001]="RequestTimeout",t[t.ParseError=-32700]="ParseError",t[t.InvalidRequest=-32600]="InvalidRequest",t[t.MethodNotFound=-32601]="MethodNotFound",t[t.InvalidParams=-32602]="InvalidParams",t[t.InternalError=-32603]="InternalError"})(c0||(c0={}));var $F=S.object({jsonrpc:S.literal(Tl),id:Ol,error:S.object({code:S.number().int(),message:S.string(),data:S.optional(S.unknown())})}).strict();var _J=S.union([DF,jF,NF,$F]),A0=$r.strict(),k0=ya.extend({method:S.literal("notifications/cancelled"),params:jo.extend({requestId:Ol,reason:S.string().optional()})}),No=S.object({name:S.string(),title:S.optional(S.string())}).passthrough(),D0=No.extend({version:S.string()}),LF=S.object({experimental:S.optional(S.object({}).passthrough()),sampling:S.optional(S.object({}).passthrough()),elicitation:S.optional(S.object({}).passthrough()),roots:S.optional(S.object({listChanged:S.optional(S.boolean())}).passthrough())}).passthrough(),FF=sr.extend({method:S.literal("initialize"),params:Nr.extend({protocolVersion:S.string(),capabilities:LF,clientInfo:D0})}),MF=S.object({experimental:S.optional(S.object({}).passthrough()),logging:S.optional(S.object({}).passthrough()),completions:S.optional(S.object({}).passthrough()),prompts:S.optional(S.object({listChanged:S.optional(S.boolean())}).passthrough()),resources:S.optional(S.object({subscribe:S.optional(S.boolean()),listChanged:S.optional(S.boolean())}).passthrough()),tools:S.optional(S.object({listChanged:S.optional(S.boolean())}).passthrough())}).passthrough(),qF=$r.extend({protocolVersion:S.string(),capabilities:MF,serverInfo:D0,instructions:S.optional(S.string())}),UF=ya.extend({method:S.literal("notifications/initialized")}),j0=sr.extend({method:S.literal("ping")}),zF=S.object({progress:S.number(),total:S.optional(S.number()),message:S.optional(S.string())}).passthrough(),N0=ya.extend({method:S.literal("notifications/progress"),params:jo.merge(zF).extend({progressToken:O0})}),Il=sr.extend({params:Nr.extend({cursor:S.optional(I0)}).optional()}),Al=$r.extend({nextCursor:S.optional(I0)}),$0=S.object({uri:S.string(),mimeType:S.optional(S.string()),_meta:S.optional(S.object({}).passthrough())}).passthrough(),L0=$0.extend({text:S.string()}),Uf=S.string().refine(t=>{try{return atob(t),!0}catch{return!1}},{message:"Invalid Base64 string"}),F0=$0.extend({blob:Uf}),M0=No.extend({uri:S.string(),description:S.optional(S.string()),mimeType:S.optional(S.string()),_meta:S.optional(S.object({}).passthrough())}),BF=No.extend({uriTemplate:S.string(),description:S.optional(S.string()),mimeType:S.optional(S.string()),_meta:S.optional(S.object({}).passthrough())}),ZF=Il.extend({method:S.literal("resources/list")}),VF=Al.extend({resources:S.array(M0)}),HF=Il.extend({method:S.literal("resources/templates/list")}),GF=Al.extend({resourceTemplates:S.array(BF)}),WF=sr.extend({method:S.literal("resources/read"),params:Nr.extend({uri:S.string()})}),KF=$r.extend({contents:S.array(S.union([L0,F0]))}),JF=ya.extend({method:S.literal("notifications/resources/list_changed")}),QF=sr.extend({method:S.literal("resources/subscribe"),params:Nr.extend({uri:S.string()})}),YF=sr.extend({method:S.literal("resources/unsubscribe"),params:Nr.extend({uri:S.string()})}),XF=ya.extend({method:S.literal("notifications/resources/updated"),params:jo.extend({uri:S.string()})}),eM=S.object({name:S.string(),description:S.optional(S.string()),required:S.optional(S.boolean())}).passthrough(),tM=No.extend({description:S.optional(S.string()),arguments:S.optional(S.array(eM)),_meta:S.optional(S.object({}).passthrough())}),rM=Il.extend({method:S.literal("prompts/list")}),aM=Al.extend({prompts:S.array(tM)}),sM=sr.extend({method:S.literal("prompts/get"),params:Nr.extend({name:S.string(),arguments:S.optional(S.record(S.string()))})}),zf=S.object({type:S.literal("text"),text:S.string(),_meta:S.optional(S.object({}).passthrough())}).passthrough(),Bf=S.object({type:S.literal("image"),data:Uf,mimeType:S.string(),_meta:S.optional(S.object({}).passthrough())}).passthrough(),Zf=S.object({type:S.literal("audio"),data:Uf,mimeType:S.string(),_meta:S.optional(S.object({}).passthrough())}).passthrough(),nM=S.object({type:S.literal("resource"),resource:S.union([L0,F0]),_meta:S.optional(S.object({}).passthrough())}).passthrough(),iM=M0.extend({type:S.literal("resource_link")}),q0=S.union([zf,Bf,Zf,iM,nM]),oM=S.object({role:S.enum(["user","assistant"]),content:q0}).passthrough(),cM=$r.extend({description:S.optional(S.string()),messages:S.array(oM)}),lM=ya.extend({method:S.literal("notifications/prompts/list_changed")}),uM=S.object({title:S.optional(S.string()),readOnlyHint:S.optional(S.boolean()),destructiveHint:S.optional(S.boolean()),idempotentHint:S.optional(S.boolean()),openWorldHint:S.optional(S.boolean())}).passthrough(),dM=No.extend({description:S.optional(S.string()),inputSchema:S.object({type:S.literal("object"),properties:S.optional(S.object({}).passthrough()),required:S.optional(S.array(S.string()))}).passthrough(),outputSchema:S.optional(S.object({type:S.literal("object"),properties:S.optional(S.object({}).passthrough()),required:S.optional(S.array(S.string()))}).passthrough()),annotations:S.optional(uM),_meta:S.optional(S.object({}).passthrough())}),pM=Il.extend({method:S.literal("tools/list")}),fM=Al.extend({tools:S.array(dM)}),U0=$r.extend({content:S.array(q0).default([]),structuredContent:S.object({}).passthrough().optional(),isError:S.optional(S.boolean())}),wJ=U0.or($r.extend({toolResult:S.unknown()})),mM=sr.extend({method:S.literal("tools/call"),params:Nr.extend({name:S.string(),arguments:S.optional(S.record(S.unknown()))})}),hM=ya.extend({method:S.literal("notifications/tools/list_changed")}),z0=S.enum(["debug","info","notice","warning","error","critical","alert","emergency"]),vM=sr.extend({method:S.literal("logging/setLevel"),params:Nr.extend({level:z0})}),gM=ya.extend({method:S.literal("notifications/message"),params:jo.extend({level:z0,logger:S.optional(S.string()),data:S.unknown()})}),yM=S.object({name:S.string().optional()}).passthrough(),xM=S.object({hints:S.optional(S.array(yM)),costPriority:S.optional(S.number().min(0).max(1)),speedPriority:S.optional(S.number().min(0).max(1)),intelligencePriority:S.optional(S.number().min(0).max(1))}).passthrough(),bM=S.object({role:S.enum(["user","assistant"]),content:S.union([zf,Bf,Zf])}).passthrough(),_M=sr.extend({method:S.literal("sampling/createMessage"),params:Nr.extend({messages:S.array(bM),systemPrompt:S.optional(S.string()),includeContext:S.optional(S.enum(["none","thisServer","allServers"])),temperature:S.optional(S.number()),maxTokens:S.number().int(),stopSequences:S.optional(S.array(S.string())),metadata:S.optional(S.object({}).passthrough()),modelPreferences:S.optional(xM)})}),wM=$r.extend({model:S.string(),stopReason:S.optional(S.enum(["endTurn","stopSequence","maxTokens"]).or(S.string())),role:S.enum(["user","assistant"]),content:S.discriminatedUnion("type",[zf,Bf,Zf])}),SM=S.object({type:S.literal("boolean"),title:S.optional(S.string()),description:S.optional(S.string()),default:S.optional(S.boolean())}).passthrough(),EM=S.object({type:S.literal("string"),title:S.optional(S.string()),description:S.optional(S.string()),minLength:S.optional(S.number()),maxLength:S.optional(S.number()),format:S.optional(S.enum(["email","uri","date","date-time"]))}).passthrough(),PM=S.object({type:S.enum(["number","integer"]),title:S.optional(S.string()),description:S.optional(S.string()),minimum:S.optional(S.number()),maximum:S.optional(S.number())}).passthrough(),RM=S.object({type:S.literal("string"),title:S.optional(S.string()),description:S.optional(S.string()),enum:S.array(S.string()),enumNames:S.optional(S.array(S.string()))}).passthrough(),CM=S.union([SM,EM,PM,RM]),TM=sr.extend({method:S.literal("elicitation/create"),params:Nr.extend({message:S.string(),requestedSchema:S.object({type:S.literal("object"),properties:S.record(S.string(),CM),required:S.optional(S.array(S.string()))}).passthrough()})}),OM=$r.extend({action:S.enum(["accept","decline","cancel"]),content:S.optional(S.record(S.string(),S.unknown()))}),IM=S.object({type:S.literal("ref/resource"),uri:S.string()}).passthrough(),AM=S.object({type:S.literal("ref/prompt"),name:S.string()}).passthrough(),kM=sr.extend({method:S.literal("completion/complete"),params:Nr.extend({ref:S.union([AM,IM]),argument:S.object({name:S.string(),value:S.string()}).passthrough(),context:S.optional(S.object({arguments:S.optional(S.record(S.string(),S.string()))}))})}),DM=$r.extend({completion:S.object({values:S.array(S.string()).max(100),total:S.optional(S.number().int()),hasMore:S.optional(S.boolean())}).passthrough()}),jM=S.object({uri:S.string().startsWith("file://"),name:S.optional(S.string()),_meta:S.optional(S.object({}).passthrough())}).passthrough(),NM=sr.extend({method:S.literal("roots/list")}),$M=$r.extend({roots:S.array(jM)}),LM=ya.extend({method:S.literal("notifications/roots/list_changed")}),SJ=S.union([j0,FF,kM,vM,sM,rM,ZF,HF,WF,QF,YF,mM,pM]),EJ=S.union([k0,N0,UF,LM]),PJ=S.union([A0,wM,OM,$M]),RJ=S.union([j0,_M,TM,NM]),CJ=S.union([k0,N0,gM,XF,JF,hM,lM]),TJ=S.union([A0,qF,DM,cM,aM,VF,GF,KF,U0,fM]);var OJ=$$(gL(),1);var IJ=Symbol("Let zodToJsonSchema decide on which parser to use");var AJ=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");var Lf;(function(t){t.Completable="McpCompletable"})(Lf||(Lf={}));var Cl=class extends Be{_parse(e){let{ctx:r}=this._processInputParams(e),a=r.data;return this._def.type._parse({data:a,path:r.path,parent:r})}unwrap(){return this._def.type}};Cl.create=(t,e)=>new Cl({type:t,typeName:Lf.Completable,complete:e.complete,...FM(e)});function FM(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:a,description:s}=t;if(e&&(r||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(n,o)=>{var l,c;let{message:u}=t;return n.code==="invalid_enum_value"?{message:u??o.defaultError}:typeof o.data>"u"?{message:(l=u??a)!==null&&l!==void 0?l:o.defaultError}:n.code!=="invalid_type"?{message:o.defaultError}:{message:(c=u??r)!==null&&c!==void 0?c:o.defaultError}},description:s}}function B0({prompt:t,options:e}){console.warn("The Claude Code SDK is now the Claude Agent SDK! Please install and use @anthropic-ai/claude-agent-sdk instead. See https://docs.claude.com/en/docs/claude-code/sdk/migration-guide for migration instructions.");let r=e?.pathToClaudeCodeExecutable;if(!r){let a=(0,f0.fileURLToPath)(MM.url),s=(0,Tf.join)(a,"..");r=(0,Tf.join)(s,"cli.js")}return wL({prompt:t,options:{...e,pathToClaudeCodeExecutable:r}})}var ua=require("path");var fs=Ee(require("vscode"),1);var tn=Ee(require("vscode"),1);function gi(){return tn.window.tabGroups.all.flatMap(t=>t.tabs)}function yi(t,e){return new Promise((r,a)=>{let s,i=setInterval(()=>{let n=t();n&&(clearInterval(i),s&&clearTimeout(s),r(n))},100);e&&(s=setTimeout(()=>{clearInterval(i),a(new Error(`Timeout waiting after ${e}ms`))},e))})}async function rn(t,e){if(!t)return;let r=t.input;if(r instanceof tn.TabInputTextDiff)try{await(await tn.workspace.openTextDocument(r.modified)).save()}catch(a){e.error("Error saving modified file:",a)}try{await tn.window.tabGroups.close(t)}catch{}}async function Z0(t,e,r,a,s,i,n){let o=[],c=`${s||"Claude Code"} (${Math.random().toString(36).substring(2,8)})`,u=[],d;if(i){let m=`/temp/${c}`,v=r.createFile(m,a).uri;d=await fs.workspace.openTextDocument(v),t.info("Editable uri: ",v.toString());let g=new Promise(w=>{o.push(fs.workspace.onWillSaveTextDocument(C=>{if(C.document.uri.toString()===v.toString()){let T=C.document.getText();w(T)}}))});fs.workspace.getConfiguration("files").get("autoSave")==="off"?(t.info("files.autoSave is off, waiting for file save"),u.push(g)):t.info("files.autoSave is on, cannot save to exit");let b={preview:!1,preserveFocus:!0};await fs.window.showTextDocument(d,b)}else{let m=`/temp/readonly/${c}`,f=e.createFile(m,a);d=await fs.workspace.openTextDocument(f),await fs.window.showTextDocument(d,{preview:!1})}let h=await yi(()=>gi().find(m=>m.label===c),1e3);n?.addEventListener("abort",()=>{rn(h,t)});let p=yi(()=>!gi().some(m=>m.label===c)).then(()=>{if(t.info("Tab closed",c),i)return d.getText()});return u.push(p),await Promise.race(u).finally(()=>{o.forEach(m=>m.dispose())}).then(m=>(t.info("File save operation completed",m),m)).finally(()=>{rn(h,t)})}var _t=Ee(require("vscode"),1),sw=Ee(require("fs"),1);function ta(){}ta.prototype={diff:function(e,r){var a,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=s.callback;typeof s=="function"&&(i=s,s={});var n=this;function o(C){return C=n.postProcess(C,s),i?(setTimeout(function(){i(C)},0),!0):C}e=this.castInput(e,s),r=this.castInput(r,s),e=this.removeEmpty(this.tokenize(e,s)),r=this.removeEmpty(this.tokenize(r,s));var l=r.length,c=e.length,u=1,d=l+c;s.maxEditLength!=null&&(d=Math.min(d,s.maxEditLength));var h=(a=s.timeout)!==null&&a!==void 0?a:1/0,p=Date.now()+h,m=[{oldPos:-1,lastComponent:void 0}],f=this.extractCommon(m[0],r,e,0,s);if(m[0].oldPos+1>=c&&f+1>=l)return o(V0(n,m[0].lastComponent,r,e,n.useLongestToken));var v=-1/0,g=1/0;function b(){for(var C=Math.max(v,-u);C<=Math.min(g,u);C+=2){var T=void 0,R=m[C-1],O=m[C+1];R&&(m[C-1]=void 0);var L=!1;if(O){var N=O.oldPos-C;L=O&&0<=N&&N<l}var q=R&&R.oldPos+1<c;if(!L&&!q){m[C]=void 0;continue}if(!q||L&&R.oldPos<O.oldPos?T=n.addToPath(O,!0,!1,0,s):T=n.addToPath(R,!1,!0,1,s),f=n.extractCommon(T,r,e,C,s),T.oldPos+1>=c&&f+1>=l)return o(V0(n,T.lastComponent,r,e,n.useLongestToken));m[C]=T,T.oldPos+1>=c&&(g=Math.min(g,C-1)),f+1>=l&&(v=Math.max(v,C+1))}u++}if(i)(function C(){setTimeout(function(){if(u>d||Date.now()>p)return i();b()||C()},0)})();else for(;u<=d&&Date.now()<=p;){var w=b();if(w)return w}},addToPath:function(e,r,a,s,i){var n=e.lastComponent;return n&&!i.oneChangePerToken&&n.added===r&&n.removed===a?{oldPos:e.oldPos+s,lastComponent:{count:n.count+1,added:r,removed:a,previousComponent:n.previousComponent}}:{oldPos:e.oldPos+s,lastComponent:{count:1,added:r,removed:a,previousComponent:n}}},extractCommon:function(e,r,a,s,i){for(var n=r.length,o=a.length,l=e.oldPos,c=l-s,u=0;c+1<n&&l+1<o&&this.equals(a[l+1],r[c+1],i);)c++,l++,u++,i.oneChangePerToken&&(e.lastComponent={count:1,previousComponent:e.lastComponent,added:!1,removed:!1});return u&&!i.oneChangePerToken&&(e.lastComponent={count:u,previousComponent:e.lastComponent,added:!1,removed:!1}),e.oldPos=l,c},equals:function(e,r,a){return a.comparator?a.comparator(e,r):e===r||a.ignoreCase&&e.toLowerCase()===r.toLowerCase()},removeEmpty:function(e){for(var r=[],a=0;a<e.length;a++)e[a]&&r.push(e[a]);return r},castInput:function(e){return e},tokenize:function(e){return Array.from(e)},join:function(e){return e.join("")},postProcess:function(e){return e}};function V0(t,e,r,a,s){for(var i=[],n;e;)i.push(e),n=e.previousComponent,delete e.previousComponent,e=n;i.reverse();for(var o=0,l=i.length,c=0,u=0;o<l;o++){var d=i[o];if(d.removed)d.value=t.join(a.slice(u,u+d.count)),u+=d.count;else{if(!d.added&&s){var h=r.slice(c,c+d.count);h=h.map(function(p,m){var f=a[u+m];return f.length>p.length?f:p}),d.value=t.join(h)}else d.value=t.join(r.slice(c,c+d.count));c+=d.count,d.added||(u+=d.count)}}return i}var $J=new ta;function H0(t,e){var r;for(r=0;r<t.length&&r<e.length;r++)if(t[r]!=e[r])return t.slice(0,r);return t.slice(0,r)}function G0(t,e){var r;if(!t||!e||t[t.length-1]!=e[e.length-1])return"";for(r=0;r<t.length&&r<e.length;r++)if(t[t.length-(r+1)]!=e[e.length-(r+1)])return t.slice(-r);return t.slice(-r)}function Hf(t,e,r){if(t.slice(0,e.length)!=e)throw Error("string ".concat(JSON.stringify(t)," doesn't start with prefix ").concat(JSON.stringify(e),"; this is a bug"));return r+t.slice(e.length)}function Gf(t,e,r){if(!e)return t+r;if(t.slice(-e.length)!=e)throw Error("string ".concat(JSON.stringify(t)," doesn't end with suffix ").concat(JSON.stringify(e),"; this is a bug"));return t.slice(0,-e.length)+r}function $o(t,e){return Hf(t,e,"")}function kl(t,e){return Gf(t,e,"")}function W0(t,e){return e.slice(0,qM(t,e))}function qM(t,e){var r=0;t.length>e.length&&(r=t.length-e.length);var a=e.length;t.length<e.length&&(a=t.length);var s=Array(a),i=0;s[0]=0;for(var n=1;n<a;n++){for(e[n]==e[i]?s[n]=s[i]:s[n]=i;i>0&&e[n]!=e[i];)i=s[i];e[n]==e[i]&&i++}i=0;for(var o=r;o<t.length;o++){for(;i>0&&t[o]!=e[i];)i=s[i];t[o]==e[i]&&i++}return i}var Dl="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",UM=new RegExp("[".concat(Dl,"]+|\\s+|[^").concat(Dl,"]"),"ug"),jl=new ta;jl.equals=function(t,e,r){return r.ignoreCase&&(t=t.toLowerCase(),e=e.toLowerCase()),t.trim()===e.trim()};jl.tokenize=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r;if(e.intlSegmenter){if(e.intlSegmenter.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');r=Array.from(e.intlSegmenter.segment(t),function(i){return i.segment})}else r=t.match(UM)||[];var a=[],s=null;return r.forEach(function(i){/\s/.test(i)?s==null?a.push(i):a.push(a.pop()+i):/\s/.test(s)?a[a.length-1]==s?a.push(a.pop()+i):a.push(s+i):a.push(i),s=i}),a};jl.join=function(t){return t.map(function(e,r){return r==0?e:e.replace(/^\s+/,"")}).join("")};jl.postProcess=function(t,e){if(!t||e.oneChangePerToken)return t;var r=null,a=null,s=null;return t.forEach(function(i){i.added?a=i:i.removed?s=i:((a||s)&&K0(r,s,a,i),r=i,a=null,s=null)}),(a||s)&&K0(r,s,a,null),t};function K0(t,e,r,a){if(e&&r){var s=e.value.match(/^\s*/)[0],i=e.value.match(/\s*$/)[0],n=r.value.match(/^\s*/)[0],o=r.value.match(/\s*$/)[0];if(t){var l=H0(s,n);t.value=Gf(t.value,n,l),e.value=$o(e.value,l),r.value=$o(r.value,l)}if(a){var c=G0(i,o);a.value=Hf(a.value,o,c),e.value=kl(e.value,c),r.value=kl(r.value,c)}}else if(r)t&&(r.value=r.value.replace(/^\s*/,"")),a&&(a.value=a.value.replace(/^\s*/,""));else if(t&&a){var u=a.value.match(/^\s*/)[0],d=e.value.match(/^\s*/)[0],h=e.value.match(/\s*$/)[0],p=H0(u,d);e.value=$o(e.value,p);var m=G0($o(u,p),h);e.value=kl(e.value,m),a.value=Hf(a.value,u,m),t.value=Gf(t.value,u,u.slice(0,u.length-m.length))}else if(a){var f=a.value.match(/^\s*/)[0],v=e.value.match(/\s*$/)[0],g=W0(v,f);e.value=kl(e.value,g)}else if(t){var b=t.value.match(/\s*$/)[0],w=e.value.match(/^\s*/)[0],C=W0(b,w);e.value=$o(e.value,C)}}var zM=new ta;zM.tokenize=function(t){var e=new RegExp("(\\r?\\n)|[".concat(Dl,"]+|[^\\S\\n\\r]+|[^").concat(Dl,"]"),"ug");return t.match(e)||[]};var Nl=new ta;Nl.tokenize=function(t,e){e.stripTrailingCr&&(t=t.replace(/\r\n/g,`
`));var r=[],a=t.split(/(\n|\r\n)/);a[a.length-1]||a.pop();for(var s=0;s<a.length;s++){var i=a[s];s%2&&!e.newlineIsToken?r[r.length-1]+=i:r.push(i)}return r};Nl.equals=function(t,e,r){return r.ignoreWhitespace?((!r.newlineIsToken||!t.includes(`
`))&&(t=t.trim()),(!r.newlineIsToken||!e.includes(`
`))&&(e=e.trim())):r.ignoreNewlineAtEof&&!r.newlineIsToken&&(t.endsWith(`
`)&&(t=t.slice(0,-1)),e.endsWith(`
`)&&(e=e.slice(0,-1))),ta.prototype.equals.call(this,t,e,r)};function J0(t,e,r){return Nl.diff(t,e,r)}var BM=new ta;BM.tokenize=function(t){return t.split(/(\S.+?[.!?])(?=\s+|$)/)};var ZM=new ta;ZM.tokenize=function(t){return t.split(/([{}:;,]|\s+)/)};function Q0(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,a)}return r}function Y0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q0(Object(r),!0).forEach(function(a){GM(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q0(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function VM(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,e||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HM(t){var e=VM(t,"string");return typeof e=="symbol"?e:e+""}function Wf(t){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(t)}function GM(t,e,r){return e=HM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vf(t){return WM(t)||KM(t)||JM(t)||QM()}function WM(t){if(Array.isArray(t))return Kf(t)}function KM(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function JM(t,e){if(t){if(typeof t=="string")return Kf(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kf(t,e)}}function Kf(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,a=new Array(e);r<e;r++)a[r]=t[r];return a}function QM(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Lo=new ta;Lo.useLongestToken=!0;Lo.tokenize=Nl.tokenize;Lo.castInput=function(t,e){var r=e.undefinedReplacement,a=e.stringifyReplacer,s=a===void 0?function(i,n){return typeof n>"u"?r:n}:a;return typeof t=="string"?t:JSON.stringify(Jf(t,null,null,s),s,"  ")};Lo.equals=function(t,e,r){return ta.prototype.equals.call(Lo,t.replace(/,([\r\n])/g,"$1"),e.replace(/,([\r\n])/g,"$1"),r)};function Jf(t,e,r,a,s){e=e||[],r=r||[],a&&(t=a(s,t));var i;for(i=0;i<e.length;i+=1)if(e[i]===t)return r[i];var n;if(Object.prototype.toString.call(t)==="[object Array]"){for(e.push(t),n=new Array(t.length),r.push(n),i=0;i<t.length;i+=1)n[i]=Jf(t[i],e,r,a,s);return e.pop(),r.pop(),n}if(t&&t.toJSON&&(t=t.toJSON()),Wf(t)==="object"&&t!==null){e.push(t),n={},r.push(n);var o=[],l;for(l in t)Object.prototype.hasOwnProperty.call(t,l)&&o.push(l);for(o.sort(),i=0;i<o.length;i+=1)l=o[i],n[l]=Jf(t[l],e,r,a,l);e.pop(),r.pop()}else n=t;return n}var Qf=new ta;Qf.tokenize=function(t){return t.slice()};Qf.join=Qf.removeEmpty=function(t){return t};function X0(t,e,r,a,s,i,n){if(n||(n={}),typeof n=="function"&&(n={callback:n}),typeof n.context>"u"&&(n.context=4),n.newlineIsToken)throw new Error("newlineIsToken may not be used with patch-generation functions, only with diffing functions");if(n.callback){var o=n,l=o.callback;J0(r,a,Y0(Y0({},n),{},{callback:function(d){var h=c(d);l(h)}}))}else return c(J0(r,a,n));function c(u){if(!u)return;u.push({value:"",lines:[]});function d(L){return L.map(function(N){return" "+N})}for(var h=[],p=0,m=0,f=[],v=1,g=1,b=function(){var N=u[w],q=N.lines||YM(N.value);if(N.lines=q,N.added||N.removed){var k;if(!p){var A=u[w-1];p=v,m=g,A&&(f=n.context>0?d(A.lines.slice(-n.context)):[],p-=f.length,m-=f.length)}(k=f).push.apply(k,Vf(q.map(function(G){return(N.added?"+":"-")+G}))),N.added?g+=q.length:v+=q.length}else{if(p)if(q.length<=n.context*2&&w<u.length-2){var D;(D=f).push.apply(D,Vf(d(q)))}else{var $,B=Math.min(q.length,n.context);($=f).push.apply($,Vf(d(q.slice(0,B))));var W={oldStart:p,oldLines:v-p+B,newStart:m,newLines:g-m+B,lines:f};h.push(W),p=0,m=0,f=[]}v+=q.length,g+=q.length}},w=0;w<u.length;w++)b();for(var C=0,T=h;C<T.length;C++)for(var R=T[C],O=0;O<R.lines.length;O++)R.lines[O].endsWith(`
`)?R.lines[O]=R.lines[O].slice(0,-1):(R.lines.splice(O+1,0,"\\ No newline at end of file"),O++);return{oldFileName:t,newFileName:e,oldHeader:s,newHeader:i,hunks:h}}}function YM(t){var e=t.endsWith(`
`),r=t.split(`
`).map(function(a){return a+`
`});return e?r.pop():r.push(r.pop().slice(0,-1)),r}function tw(t,e){let r=t,a=[];if(!t&&e.length===1&&e[0]&&e[0].oldString===""&&e[0].newString==="")return"";for(let s of e){let i=s.oldString.replace(/\n+$/,"");for(let o of a)if(i!==""&&o.includes(i))throw new Error("Cannot edit file: old_string is a substring of a new_string from a previous edit.");let n=r;if(s.oldString===""?r=s.newString:r=XM(r,s.oldString,s.newString,s.replaceAll),r===n)throw new Error("String not found in file. Failed to apply edit.");a.push(s.newString)}if(r===t)throw new Error("Original and edited file match exactly. Failed to apply edit.");return r}function XM(t,e,r,a=!1){let s=a?(n,o,l)=>n.replaceAll(o,()=>l):(n,o,l)=>n.replace(o,()=>l);return r!==""?s(t,e,r):!e.endsWith(`
`)&&t.includes(e+`
`)?s(t,e+`
`,r):s(t,e,r)}function Yf(t,e,r,a){let i=aq({filePath:t,oldContent:e,newContent:r,singleHunk:a==="single"});return i.length===0?[]:eq(i)}function eq(t){return t.map(e=>{let r=[],a=[],s=[];for(let i of e.lines)i.startsWith(" ")?(r.push(i.slice(1)),a.push(i.slice(1)),s.push(i.slice(1))):i.startsWith("-")?a.push(i.slice(1)):i.startsWith("+")&&s.push(i.slice(1));return{oldString:a.join(`
`),newString:s.join(`
`),replaceAll:!1}})}var rw="<<:AMPERSAND_TOKEN:>>",aw="<<:DOLLAR_TOKEN:>>";function ew(t){return t.replaceAll("&",rw).replaceAll("$",aw)}function tq(t){return t.replaceAll(rw,"&").replaceAll(aw,"$")}var rq=3;function aq({filePath:t,oldContent:e,newContent:r,ignoreWhitespace:a=!1,singleHunk:s=!1}){return X0(t,t,ew(e),ew(r),void 0,void 0,{ignoreWhitespace:a,context:s?1e5:rq}).hunks.map(i=>({...i,lines:i.lines.map(tq)}))}async function nw(t,e,r,a,s,i,n,o,l){let c=a.split("/").pop()||a,u=s.split("/").pop()||s,h=`Claude\u2018s edit: ${c===u?c:`${c} \u2192 ${u}`} (${Math.random().toString(36).substring(2,8)})`;t.info("diff from",a,"to",s,"as",h),iw.push(h);let p=_t.Uri.file(a),m="";try{let W=await _t.workspace.openTextDocument(p);W.isDirty?(m=sw.readFileSync(a,"utf8"),p=e.createFile(a,m).uri):m=W.getText()}catch{t.info("leftTempFileProvider.createFile",a),p=e.createFile(a,"").uri}let f=tw(m,i),g=r.createFile(s,f).uri,b=await _t.workspace.openTextDocument(g);await sq(t)>0&&await new Promise(W=>setTimeout(W,200));let C=f,T=f,R;_t.workspace.onDidChangeTextDocument(W=>{W.document.uri.toString()===g.toString()&&(C=T,T=W.document.getText(),W.contentChanges.length>3&&W.reason!==_t.TextDocumentChangeReason.Undo&&W.reason!==_t.TextDocumentChangeReason.Redo&&(R={time:Date.now(),contents:C}))});let O=[],L=new Promise(W=>{O.push(_t.workspace.onWillSaveTextDocument(G=>{if(G.document.uri.toString()===g.toString()){let K=G.document.getText();R&&Date.now()-R.time<500&&(K=R.contents),W(K)}}))}),N=new Promise(W=>{O.push(o(G=>{G.activeTab&&G.activeTab.label===h&&W(G)}))}).then(W=>{if(W.accepted)return t.info("diff_accepted",h),Yf(s,m,b.getText(),n?"multiple":"single")}),q={preview:!1,preserveFocus:!0},k=await _t.commands.executeCommand("vscode.diff",p,g,h,q);t.info("diff result",k,h,p,g,q);let A=await yi(()=>gi().find(W=>W.label===h),1e3);l?.addEventListener("abort",()=>{rn(A,t)});let D=yi(()=>!gi().some(W=>W.label===h)).then(()=>{t.info("tab_closed",h)}),$=L.then(async W=>Yf(s,m,W,n?"multiple":"single")),B=[D,N];return _t.workspace.getConfiguration("files").get("autoSave")==="off"?(t.info("files.autoSave is off, waiting for file save"),B.push($)):t.info("files.autoSave is on, need explicit accept"),await Promise.race(B).finally(()=>{O.forEach(W=>W.dispose())}).then(W=>(t.info("diff operation completed",W),W)).finally(()=>{rn(A,t)})}var iw=[];async function sq(t){let e=0;t.info("Closing all diff tabs in the editor...");for(let r of _t.window.tabGroups.all)for(let a of r.tabs)a.input instanceof _t.TabInputTextDiff&&iw.includes(a.label)&&(await rn(a,t),e++);return t.info(`Closed ${e} diff tabs.`),e}function ow(t){let e=new _t.EventEmitter;return t.push(_t.commands.registerCommand("claude-vscode.acceptProposedDiff",async()=>{let r=_t.window.tabGroups.activeTabGroup.activeTab;e.fire({accepted:!0,activeTab:r})})),t.push(_t.commands.registerCommand("claude-vscode.rejectProposedDiff",async()=>{let r=_t.window.tabGroups.activeTabGroup.activeTab;e.fire({accepted:!1,activeTab:r})})),e.event}var av=Ee(rv(),1),hd=Ee(require("vscode"),1),md=class{constructor(e){this.logger=e}baselineDiagnostics=new Map;async captureBaseline(e){try{if(e.hook_event_name!=="PreToolUse")return{continue:!0};let r=this.extractFilePath(e);if(r&&typeof r=="string"){let a=(0,av.getDiagnostics)(r);this.baselineDiagnostics.set(r,a),this.logger.log(`[DiagnosticTracking] Captured baseline diagnostics for ${r}: ${a.length} files`)}}catch(r){this.logger.error(`[DiagnosticTracking] Error capturing baseline diagnostics: ${r}`)}return{continue:!0}}async findDiagnosticsProblems(e){try{if(e.hook_event_name!=="PostToolUse")return{continue:!0};let r=this.extractFilePath(e);if(r&&typeof r=="string"){let a=hd.Uri.file(r),s=hd.window.visibleTextEditors.some(o=>o.document.uri.toString()===a.toString()),i=this.baselineDiagnostics.get(r)||[],n=s?[750,750]:[1e3];for(let o=0;o<n.length;o++){await new Promise(u=>setTimeout(u,n[o]));let l=(0,av.getDiagnostics)(r),c=this.findNewDiagnostics(i,l);if(c.length>0){this.logger.log(`[DiagnosticTracking] Found ${c.length} new diagnostics for ${r} at ${o+1}s`);let u=this.formatDiagnosticsSummary(c);return this.baselineDiagnostics.delete(r),{continue:!0,hookSpecificOutput:{hookEventName:"PostToolUse",additionalContext:`<ide_diagnostics>${u}</ide_diagnostics>`}}}}this.logger.log(`[DiagnosticTracking] No new diagnostics found for ${r}`),this.baselineDiagnostics.delete(r)}}catch(r){this.logger.error(`[DiagnosticTracking] Error tracking post-tool diagnostics: ${r}`)}return{continue:!0}}extractFilePath(e){if((e.hook_event_name==="PreToolUse"||e.hook_event_name==="PostToolUse")&&(e.tool_name==="Edit"||e.tool_name==="MultiEdit"||e.tool_name==="Write"))return e.tool_input?.file_path}findNewDiagnostics(e,r){let a=[];for(let s of r){let i=e.find(n=>n.uri===s.uri);if(!i)a.push(s);else{let n=i.linesInFile!==void 0&&s.linesInFile!==void 0?Math.abs(i.linesInFile-s.linesInFile):0,o=s.diagnostics.filter(l=>!i.diagnostics.some(c=>this.areDiagnosticsEqual(l,c,n)));o.length>0&&a.push({uri:s.uri,linesInFile:s.linesInFile,diagnostics:o})}}return a}areDiagnosticsEqual(e,r,a){let s=Math.abs((e.range?.start?.line??0)-(r.range?.start?.line??0)),i=Math.abs((e.range?.end?.line??0)-(r.range?.end?.line??0));return e.message===r.message&&e.severity===r.severity&&e.source===r.source&&e.code===r.code&&s<=a&&i<=a&&e.range?.start?.character===r.range?.start?.character&&e.range?.end?.character===r.range?.end?.character}formatDiagnosticsSummary(e){let r=e.flatMap(a=>a.diagnostics.map(s=>({filePath:this.normalizeFileUri(a.uri),line:s.range?.start?.line!==void 0?s.range.start.line+1:0,column:s.range?.start?.character!==void 0?s.range.start.character+1:0,message:s.message,code:s.code||"",severity:s.severity||""})));return JSON.stringify(r,null,2)}normalizeFileUri(e){let r=["file://","_claude_fs_right:","_claude_fs_left:"];for(let a of r)if(e.startsWith(a))return e.slice(a.length);return e}};var zn=Ee(require("path"),1),Pt=Ee(require("fs"),1),Bn=require("child_process"),Zn=Ee(Xh(),1);var Ec=Ee(require("crypto"),1),$1=Ee(require("http"),1);function ic(t,e){return function(){return t.apply(e,arguments)}}var{toString:FZ}=Object.prototype,{getPrototypeOf:nv}=Object,gd=(t=>e=>{let r=FZ.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),oa=t=>(t=t.toLowerCase(),e=>gd(e)===t),yd=t=>e=>typeof e===t,{isArray:Bi}=Array,oc=yd("undefined");function MZ(t){return t!==null&&!oc(t)&&t.constructor!==null&&!oc(t.constructor)&&Pr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}var nC=oa("ArrayBuffer");function qZ(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&nC(t.buffer),e}var UZ=yd("string"),Pr=yd("function"),iC=yd("number"),xd=t=>t!==null&&typeof t=="object",zZ=t=>t===!0||t===!1,vd=t=>{if(gd(t)!=="object")return!1;let e=nv(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},BZ=oa("Date"),ZZ=oa("File"),VZ=oa("Blob"),HZ=oa("FileList"),GZ=t=>xd(t)&&Pr(t.pipe),WZ=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Pr(t.append)&&((e=gd(t))==="formdata"||e==="object"&&Pr(t.toString)&&t.toString()==="[object FormData]"))},KZ=oa("URLSearchParams"),[JZ,QZ,YZ,XZ]=["ReadableStream","Request","Response","Headers"].map(oa),eV=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function cc(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let a,s;if(typeof t!="object"&&(t=[t]),Bi(t))for(a=0,s=t.length;a<s;a++)e.call(null,t[a],a,t);else{let i=r?Object.getOwnPropertyNames(t):Object.keys(t),n=i.length,o;for(a=0;a<n;a++)o=i[a],e.call(null,t[o],o,t)}}function oC(t,e){e=e.toLowerCase();let r=Object.keys(t),a=r.length,s;for(;a-- >0;)if(s=r[a],e===s.toLowerCase())return s;return null}var Dn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,cC=t=>!oc(t)&&t!==Dn;function sv(){let{caseless:t}=cC(this)&&this||{},e={},r=(a,s)=>{let i=t&&oC(e,s)||s;vd(e[i])&&vd(a)?e[i]=sv(e[i],a):vd(a)?e[i]=sv({},a):Bi(a)?e[i]=a.slice():e[i]=a};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&cc(arguments[a],r);return e}var tV=(t,e,r,{allOwnKeys:a}={})=>(cc(e,(s,i)=>{r&&Pr(s)?t[i]=ic(s,r):t[i]=s},{allOwnKeys:a}),t),rV=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),aV=(t,e,r,a)=>{t.prototype=Object.create(e.prototype,a),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},sV=(t,e,r,a)=>{let s,i,n,o={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)n=s[i],(!a||a(n,t,e))&&!o[n]&&(e[n]=t[n],o[n]=!0);t=r!==!1&&nv(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},nV=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;let a=t.indexOf(e,r);return a!==-1&&a===r},iV=t=>{if(!t)return null;if(Bi(t))return t;let e=t.length;if(!iC(e))return null;let r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},oV=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&nv(Uint8Array)),cV=(t,e)=>{let a=(t&&t[Symbol.iterator]).call(t),s;for(;(s=a.next())&&!s.done;){let i=s.value;e.call(t,i[0],i[1])}},lV=(t,e)=>{let r,a=[];for(;(r=t.exec(e))!==null;)a.push(r);return a},uV=oa("HTMLFormElement"),dV=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,s){return a.toUpperCase()+s}),sC=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),pV=oa("RegExp"),lC=(t,e)=>{let r=Object.getOwnPropertyDescriptors(t),a={};cc(r,(s,i)=>{let n;(n=e(s,i,t))!==!1&&(a[i]=n||s)}),Object.defineProperties(t,a)},fV=t=>{lC(t,(e,r)=>{if(Pr(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;let a=t[r];if(Pr(a)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},mV=(t,e)=>{let r={},a=s=>{s.forEach(i=>{r[i]=!0})};return Bi(t)?a(t):a(String(t).split(e)),r},hV=()=>{},vV=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function gV(t){return!!(t&&Pr(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}var yV=t=>{let e=new Array(10),r=(a,s)=>{if(xd(a)){if(e.indexOf(a)>=0)return;if(!("toJSON"in a)){e[s]=a;let i=Bi(a)?[]:{};return cc(a,(n,o)=>{let l=r(n,s+1);!oc(l)&&(i[o]=l)}),e[s]=void 0,i}}return a};return r(t,0)},xV=oa("AsyncFunction"),bV=t=>t&&(xd(t)||Pr(t))&&Pr(t.then)&&Pr(t.catch),uC=((t,e)=>t?setImmediate:e?((r,a)=>(Dn.addEventListener("message",({source:s,data:i})=>{s===Dn&&i===r&&a.length&&a.shift()()},!1),s=>{a.push(s),Dn.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Pr(Dn.postMessage)),_V=typeof queueMicrotask<"u"?queueMicrotask.bind(Dn):typeof process<"u"&&process.nextTick||uC,z={isArray:Bi,isArrayBuffer:nC,isBuffer:MZ,isFormData:WZ,isArrayBufferView:qZ,isString:UZ,isNumber:iC,isBoolean:zZ,isObject:xd,isPlainObject:vd,isReadableStream:JZ,isRequest:QZ,isResponse:YZ,isHeaders:XZ,isUndefined:oc,isDate:BZ,isFile:ZZ,isBlob:VZ,isRegExp:pV,isFunction:Pr,isStream:GZ,isURLSearchParams:KZ,isTypedArray:oV,isFileList:HZ,forEach:cc,merge:sv,extend:tV,trim:eV,stripBOM:rV,inherits:aV,toFlatObject:sV,kindOf:gd,kindOfTest:oa,endsWith:nV,toArray:iV,forEachEntry:cV,matchAll:lV,isHTMLForm:uV,hasOwnProperty:sC,hasOwnProp:sC,reduceDescriptors:lC,freezeMethods:fV,toObjectSet:mV,toCamelCase:dV,noop:hV,toFiniteNumber:vV,findKey:oC,global:Dn,isContextDefined:cC,isSpecCompliantForm:gV,toJSONObject:yV,isAsyncFn:xV,isThenable:bV,setImmediate:uC,asap:_V};function Zi(t,e,r,a,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),a&&(this.request=a),s&&(this.response=s,this.status=s.status?s.status:null)}z.inherits(Zi,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:z.toJSONObject(this.config),code:this.code,status:this.status}}});var dC=Zi.prototype,pC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{pC[t]={value:t}});Object.defineProperties(Zi,pC);Object.defineProperty(dC,"isAxiosError",{value:!0});Zi.from=(t,e,r,a,s,i)=>{let n=Object.create(dC);return z.toFlatObject(t,n,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),Zi.call(n,t.message,e,r,a,s),n.cause=t,n.name=t.name,i&&Object.assign(n,i),n};var ce=Zi;var vO=Ee(hO(),1),Od=vO.default;function Rv(t){return z.isPlainObject(t)||z.isArray(t)}function yO(t){return z.endsWith(t,"[]")?t.slice(0,-2):t}function gO(t,e,r){return t?t.concat(e).map(function(s,i){return s=yO(s),!r&&i?"["+s+"]":s}).join(r?".":""):e}function n6(t){return z.isArray(t)&&!t.some(Rv)}var i6=z.toFlatObject(z,{},null,function(e){return/^is[A-Z]/.test(e)});function o6(t,e,r){if(!z.isObject(t))throw new TypeError("target must be an object");e=e||new(Od||FormData),r=z.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(f,v){return!z.isUndefined(v[f])});let a=r.metaTokens,s=r.visitor||u,i=r.dots,n=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&z.isSpecCompliantForm(e);if(!z.isFunction(s))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(z.isDate(m))return m.toISOString();if(!l&&z.isBlob(m))throw new ce("Blob is not supported. Use a Buffer instead.");return z.isArrayBuffer(m)||z.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,f,v){let g=m;if(m&&!v&&typeof m=="object"){if(z.endsWith(f,"{}"))f=a?f:f.slice(0,-2),m=JSON.stringify(m);else if(z.isArray(m)&&n6(m)||(z.isFileList(m)||z.endsWith(f,"[]"))&&(g=z.toArray(m)))return f=yO(f),g.forEach(function(w,C){!(z.isUndefined(w)||w===null)&&e.append(n===!0?gO([f],C,i):n===null?f:f+"[]",c(w))}),!1}return Rv(m)?!0:(e.append(gO(v,f,i),c(m)),!1)}let d=[],h=Object.assign(i6,{defaultVisitor:u,convertValue:c,isVisitable:Rv});function p(m,f){if(!z.isUndefined(m)){if(d.indexOf(m)!==-1)throw Error("Circular reference detected in "+f.join("."));d.push(m),z.forEach(m,function(g,b){(!(z.isUndefined(g)||g===null)&&s.call(e,g,z.isString(b)?b.trim():b,f,h))===!0&&p(g,f?f.concat(b):[b])}),d.pop()}}if(!z.isObject(t))throw new TypeError("data must be an object");return p(t),e}var Os=o6;function xO(t){let e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(a){return e[a]})}function bO(t,e){this._pairs=[],t&&Os(t,this,e)}var _O=bO.prototype;_O.append=function(e,r){this._pairs.push([e,r])};_O.toString=function(e){let r=e?function(a){return e.call(this,a,xO)}:xO;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};var wO=bO;function c6(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Nn(t,e,r){if(!e)return t;let a=r&&r.encode||c6;z.isFunction(r)&&(r={serialize:r});let s=r&&r.serialize,i;if(s?i=s(e,r):i=z.isURLSearchParams(e)?e.toString():new wO(e,r).toString(a),i){let n=t.indexOf("#");n!==-1&&(t=t.slice(0,n)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}var Cv=class{constructor(){this.handlers=[]}use(e,r,a){return this.handlers.push({fulfilled:e,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){z.forEach(this.handlers,function(a){a!==null&&e(a)})}},Tv=Cv;var Ki={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var RO=Ee(require("crypto"),1);var SO=Ee(require("url"),1),EO=SO.default.URLSearchParams;var Ov="abcdefghijklmnopqrstuvwxyz",PO="0123456789",CO={DIGIT:PO,ALPHA:Ov,ALPHA_DIGIT:Ov+Ov.toUpperCase()+PO},l6=(t=16,e=CO.ALPHA_DIGIT)=>{let r="",{length:a}=e,s=new Uint32Array(t);RO.default.randomFillSync(s);for(let i=0;i<t;i++)r+=e[s[i]%a];return r},TO={isNode:!0,classes:{URLSearchParams:EO,FormData:Od,Blob:typeof Blob<"u"&&Blob||null},ALPHABET:CO,generateString:l6,protocols:["http","https","file","data"]};var kv={};bg(kv,{hasBrowserEnv:()=>Av,hasStandardBrowserEnv:()=>u6,hasStandardBrowserWebWorkerEnv:()=>d6,navigator:()=>Iv,origin:()=>p6});var Av=typeof window<"u"&&typeof document<"u",Iv=typeof navigator=="object"&&navigator||void 0,u6=Av&&(!Iv||["ReactNative","NativeScript","NS"].indexOf(Iv.product)<0),d6=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",p6=Av&&window.location.href||"http://localhost";var lt={...kv,...TO};function Dv(t,e){return Os(t,new lt.classes.URLSearchParams,Object.assign({visitor:function(r,a,s,i){return lt.isNode&&z.isBuffer(r)?(this.append(a,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function f6(t){return z.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function m6(t){let e={},r=Object.keys(t),a,s=r.length,i;for(a=0;a<s;a++)i=r[a],e[i]=t[i];return e}function h6(t){function e(r,a,s,i){let n=r[i++];if(n==="__proto__")return!0;let o=Number.isFinite(+n),l=i>=r.length;return n=!n&&z.isArray(s)?s.length:n,l?(z.hasOwnProp(s,n)?s[n]=[s[n],a]:s[n]=a,!o):((!s[n]||!z.isObject(s[n]))&&(s[n]=[]),e(r,a,s[n],i)&&z.isArray(s[n])&&(s[n]=m6(s[n])),!o)}if(z.isFormData(t)&&z.isFunction(t.entries)){let r={};return z.forEachEntry(t,(a,s)=>{e(f6(a),s,r,0)}),r}return null}var Id=h6;function v6(t,e,r){if(z.isString(t))try{return(e||JSON.parse)(t),z.trim(t)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(t)}var jv={transitional:Ki,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){let a=r.getContentType()||"",s=a.indexOf("application/json")>-1,i=z.isObject(e);if(i&&z.isHTMLForm(e)&&(e=new FormData(e)),z.isFormData(e))return s?JSON.stringify(Id(e)):e;if(z.isArrayBuffer(e)||z.isBuffer(e)||z.isStream(e)||z.isFile(e)||z.isBlob(e)||z.isReadableStream(e))return e;if(z.isArrayBufferView(e))return e.buffer;if(z.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return Dv(e,this.formSerializer).toString();if((o=z.isFileList(e))||a.indexOf("multipart/form-data")>-1){let l=this.env&&this.env.FormData;return Os(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),v6(e)):e}],transformResponse:[function(e){let r=this.transitional||jv.transitional,a=r&&r.forcedJSONParsing,s=this.responseType==="json";if(z.isResponse(e)||z.isReadableStream(e))return e;if(e&&z.isString(e)&&(a&&!this.responseType||s)){let n=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(o){if(n)throw o.name==="SyntaxError"?ce.from(o,ce.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:lt.classes.FormData,Blob:lt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};z.forEach(["delete","get","head","post","put","patch"],t=>{jv.headers[t]={}});var Ji=jv;var g6=z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),OO=t=>{let e={},r,a,s;return t&&t.split(`
`).forEach(function(n){s=n.indexOf(":"),r=n.substring(0,s).trim().toLowerCase(),a=n.substring(s+1).trim(),!(!r||e[r]&&g6[r])&&(r==="set-cookie"?e[r]?e[r].push(a):e[r]=[a]:e[r]=e[r]?e[r]+", "+a:a)}),e};var IO=Symbol("internals");function fc(t){return t&&String(t).trim().toLowerCase()}function Ad(t){return t===!1||t==null?t:z.isArray(t)?t.map(Ad):String(t)}function y6(t){let e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,a;for(;a=r.exec(t);)e[a[1]]=a[2];return e}var x6=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Nv(t,e,r,a,s){if(z.isFunction(a))return a.call(this,e,r);if(s&&(e=r),!!z.isString(e)){if(z.isString(a))return e.indexOf(a)!==-1;if(z.isRegExp(a))return a.test(e)}}function b6(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,a)=>r.toUpperCase()+a)}function _6(t,e){let r=z.toCamelCase(" "+e);["get","set","has"].forEach(a=>{Object.defineProperty(t,a+r,{value:function(s,i,n){return this[a].call(this,e,s,i,n)},configurable:!0})})}var Qi=class{constructor(e){e&&this.set(e)}set(e,r,a){let s=this;function i(o,l,c){let u=fc(l);if(!u)throw new Error("header name must be a non-empty string");let d=z.findKey(s,u);(!d||s[d]===void 0||c===!0||c===void 0&&s[d]!==!1)&&(s[d||l]=Ad(o))}let n=(o,l)=>z.forEach(o,(c,u)=>i(c,u,l));if(z.isPlainObject(e)||e instanceof this.constructor)n(e,r);else if(z.isString(e)&&(e=e.trim())&&!x6(e))n(OO(e),r);else if(z.isHeaders(e))for(let[o,l]of e.entries())i(l,o,a);else e!=null&&i(r,e,a);return this}get(e,r){if(e=fc(e),e){let a=z.findKey(this,e);if(a){let s=this[a];if(!r)return s;if(r===!0)return y6(s);if(z.isFunction(r))return r.call(this,s,a);if(z.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=fc(e),e){let a=z.findKey(this,e);return!!(a&&this[a]!==void 0&&(!r||Nv(this,this[a],a,r)))}return!1}delete(e,r){let a=this,s=!1;function i(n){if(n=fc(n),n){let o=z.findKey(a,n);o&&(!r||Nv(a,a[o],o,r))&&(delete a[o],s=!0)}}return z.isArray(e)?e.forEach(i):i(e),s}clear(e){let r=Object.keys(this),a=r.length,s=!1;for(;a--;){let i=r[a];(!e||Nv(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){let r=this,a={};return z.forEach(this,(s,i)=>{let n=z.findKey(a,i);if(n){r[n]=Ad(s),delete r[i];return}let o=e?b6(i):String(i).trim();o!==i&&delete r[i],r[o]=Ad(s),a[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let r=Object.create(null);return z.forEach(this,(a,s)=>{a!=null&&a!==!1&&(r[s]=e&&z.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){let a=new this(e);return r.forEach(s=>a.set(s)),a}static accessor(e){let a=(this[IO]=this[IO]={accessors:{}}).accessors,s=this.prototype;function i(n){let o=fc(n);a[o]||(_6(s,n),a[o]=!0)}return z.isArray(e)?e.forEach(i):i(e),this}};Qi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);z.reduceDescriptors(Qi.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(a){this[r]=a}}});z.freezeMethods(Qi);var wt=Qi;function mc(t,e){let r=this||Ji,a=e||r,s=wt.from(a.headers),i=a.data;return z.forEach(t,function(o){i=o.call(r,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function hc(t){return!!(t&&t.__CANCEL__)}function AO(t,e,r){ce.call(this,t??"canceled",ce.ERR_CANCELED,e,r),this.name="CanceledError"}z.inherits(AO,ce,{__CANCEL__:!0});var Rr=AO;function Ca(t,e,r){let a=r.config.validateStatus;!r.status||!a||a(r.status)?t(r):e(new ce("Request failed with status code "+r.status,[ce.ERR_BAD_REQUEST,ce.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function $v(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Lv(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function $n(t,e,r){let a=!$v(e);return t&&(a||r==!1)?Lv(t,e):e}var m1=Ee(DO(),1),h1=Ee(require("http"),1),v1=Ee(require("https"),1),g1=Ee(require("util"),1),y1=Ee(YO(),1),es=Ee(require("zlib"),1);var qn="1.8.4";function bc(t){let e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}var c5=/^(?:([^;]+);)?(?:[^;]+;)?(base64|),([\s\S]*)$/;function Xv(t,e,r){let a=r&&r.Blob||lt.classes.Blob,s=bc(t);if(e===void 0&&a&&(e=!0),s==="data"){t=s.length?t.slice(s.length+1):t;let i=c5.exec(t);if(!i)throw new ce("Invalid URL",ce.ERR_INVALID_URL);let n=i[1],o=i[2],l=i[3],c=Buffer.from(decodeURIComponent(l),o?"base64":"utf8");if(e){if(!a)throw new ce("Blob is not supported",ce.ERR_NOT_SUPPORT);return new a([c],{type:n})}return c}throw new ce("Unsupported protocol "+s,ce.ERR_NOT_SUPPORT)}var Un=Ee(require("stream"),1);var XO=Ee(require("stream"),1);var eg=Symbol("internals"),tg=class extends XO.default.Transform{constructor(e){e=z.toFlatObject(e,{maxRate:0,chunkSize:64*1024,minChunkSize:100,timeWindow:500,ticksRate:2,samplesCount:15},null,(a,s)=>!z.isUndefined(s[a])),super({readableHighWaterMark:e.chunkSize});let r=this[eg]={timeWindow:e.timeWindow,chunkSize:e.chunkSize,maxRate:e.maxRate,minChunkSize:e.minChunkSize,bytesSeen:0,isCaptured:!1,notifiedBytesLoaded:0,ts:Date.now(),bytes:0,onReadCallback:null};this.on("newListener",a=>{a==="progress"&&(r.isCaptured||(r.isCaptured=!0))})}_read(e){let r=this[eg];return r.onReadCallback&&r.onReadCallback(),super._read(e)}_transform(e,r,a){let s=this[eg],i=s.maxRate,n=this.readableHighWaterMark,o=s.timeWindow,l=1e3/o,c=i/l,u=s.minChunkSize!==!1?Math.max(s.minChunkSize,c*.01):0,d=(p,m)=>{let f=Buffer.byteLength(p);s.bytesSeen+=f,s.bytes+=f,s.isCaptured&&this.emit("progress",s.bytesSeen),this.push(p)?process.nextTick(m):s.onReadCallback=()=>{s.onReadCallback=null,process.nextTick(m)}},h=(p,m)=>{let f=Buffer.byteLength(p),v=null,g=n,b,w=0;if(i){let C=Date.now();(!s.ts||(w=C-s.ts)>=o)&&(s.ts=C,b=c-s.bytes,s.bytes=b<0?-b:0,w=0),b=c-s.bytes}if(i){if(b<=0)return setTimeout(()=>{m(null,p)},o-w);b<g&&(g=b)}g&&f>g&&f-g>u&&(v=p.subarray(g),p=p.subarray(0,g)),d(p,v?()=>{process.nextTick(m,null,v)}:m)};h(e,function p(m,f){if(m)return a(m);f?h(f,p):a(null)})}},rg=tg;var x1=require("events");var t1=Ee(require("util"),1),r1=require("stream");var{asyncIterator:e1}=Symbol,l5=async function*(t){t.stream?yield*t.stream():t.arrayBuffer?yield await t.arrayBuffer():t[e1]?yield*t[e1]():yield t},Ld=l5;var u5=lt.ALPHABET.ALPHA_DIGIT+"-_",_c=typeof TextEncoder=="function"?new TextEncoder:new t1.default.TextEncoder,Is=`\r
`,d5=_c.encode(Is),p5=2,ag=class{constructor(e,r){let{escapeName:a}=this.constructor,s=z.isString(r),i=`Content-Disposition: form-data; name="${a(e)}"${!s&&r.name?`; filename="${a(r.name)}"`:""}${Is}`;s?r=_c.encode(String(r).replace(/\r?\n|\r\n?/g,Is)):i+=`Content-Type: ${r.type||"application/octet-stream"}${Is}`,this.headers=_c.encode(i+Is),this.contentLength=s?r.byteLength:r.size,this.size=this.headers.byteLength+this.contentLength+p5,this.name=e,this.value=r}async*encode(){yield this.headers;let{value:e}=this;z.isTypedArray(e)?yield e:yield*Ld(e),yield d5}static escapeName(e){return String(e).replace(/[\r\n"]/g,r=>({"\r":"%0D","\n":"%0A",'"':"%22"})[r])}},f5=(t,e,r)=>{let{tag:a="form-data-boundary",size:s=25,boundary:i=a+"-"+lt.generateString(s,u5)}=r||{};if(!z.isFormData(t))throw TypeError("FormData instance required");if(i.length<1||i.length>70)throw Error("boundary must be 10-70 characters long");let n=_c.encode("--"+i+Is),o=_c.encode("--"+i+"--"+Is+Is),l=o.byteLength,c=Array.from(t.entries()).map(([d,h])=>{let p=new ag(d,h);return l+=p.size,p});l+=n.byteLength*c.length,l=z.toFiniteNumber(l);let u={"Content-Type":`multipart/form-data; boundary=${i}`};return Number.isFinite(l)&&(u["Content-Length"]=l),e&&e(u),r1.Readable.from(async function*(){for(let d of c)yield n,yield*d.encode();yield o}())},a1=f5;var s1=Ee(require("stream"),1),sg=class extends s1.default.Transform{__transform(e,r,a){this.push(e),a()}_transform(e,r,a){if(e.length!==0&&(this._transform=this.__transform,e[0]!==120)){let s=Buffer.alloc(2);s[0]=120,s[1]=156,this.push(s,r)}this.__transform(e,r,a)}},n1=sg;var m5=(t,e)=>z.isAsyncFn(t)?function(...r){let a=r.pop();t.apply(this,r).then(s=>{try{e?a(null,...e(s)):a(null,s)}catch(i){a(i)}},a)}:t,i1=m5;function h5(t,e){t=t||10;let r=new Array(t),a=new Array(t),s=0,i=0,n;return e=e!==void 0?e:1e3,function(l){let c=Date.now(),u=a[i];n||(n=c),r[s]=l,a[s]=c;let d=i,h=0;for(;d!==s;)h+=r[d++],d=d%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),c-n<e)return;let p=u&&c-u;return p?Math.round(h*1e3/p):void 0}}var o1=h5;function v5(t,e){let r=0,a=1e3/e,s,i,n=(c,u=Date.now())=>{r=u,s=null,i&&(clearTimeout(i),i=null),t.apply(null,c)};return[(...c)=>{let u=Date.now(),d=u-r;d>=a?n(c,u):(s=c,i||(i=setTimeout(()=>{i=null,n(s)},a-d)))},()=>s&&n(s)]}var c1=v5;var Xa=(t,e,r=3)=>{let a=0,s=o1(50,250);return c1(i=>{let n=i.loaded,o=i.lengthComputable?i.total:void 0,l=n-a,c=s(l),u=n<=o;a=n;let d={loaded:n,total:o,progress:o?n/o:void 0,bytes:l,rate:c||void 0,estimated:c&&o&&u?(o-n)/c:void 0,event:i,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(d)},r)},ro=(t,e)=>{let r=t!=null;return[a=>e[0]({lengthComputable:r,total:t,loaded:a}),e[1]]},ao=t=>(...e)=>z.asap(()=>t(...e));var l1={flush:es.default.constants.Z_SYNC_FLUSH,finishFlush:es.default.constants.Z_SYNC_FLUSH},g5={flush:es.default.constants.BROTLI_OPERATION_FLUSH,finishFlush:es.default.constants.BROTLI_OPERATION_FLUSH},u1=z.isFunction(es.default.createBrotliDecompress),{http:y5,https:x5}=y1.default,b5=/https:?/,d1=lt.protocols.map(t=>t+":"),p1=(t,[e,r])=>(t.on("end",r).on("error",r),e);function _5(t,e){t.beforeRedirects.proxy&&t.beforeRedirects.proxy(t),t.beforeRedirects.config&&t.beforeRedirects.config(t,e)}function b1(t,e,r){let a=e;if(!a&&a!==!1){let s=m1.default.getProxyForUrl(r);s&&(a=new URL(s))}if(a){if(a.username&&(a.auth=(a.username||"")+":"+(a.password||"")),a.auth){(a.auth.username||a.auth.password)&&(a.auth=(a.auth.username||"")+":"+(a.auth.password||""));let i=Buffer.from(a.auth,"utf8").toString("base64");t.headers["Proxy-Authorization"]="Basic "+i}t.headers.host=t.hostname+(t.port?":"+t.port:"");let s=a.hostname||a.host;t.hostname=s,t.host=s,t.port=a.port,t.path=r,a.protocol&&(t.protocol=a.protocol.includes(":")?a.protocol:`${a.protocol}:`)}t.beforeRedirects.proxy=function(i){b1(i,e,i.href)}}var w5=typeof process<"u"&&z.kindOf(process)==="process",S5=t=>new Promise((e,r)=>{let a,s,i=(l,c)=>{s||(s=!0,a&&a(l,c))},n=l=>{i(l),e(l)},o=l=>{i(l,!0),r(l)};t(n,o,l=>a=l).catch(o)}),E5=({address:t,family:e})=>{if(!z.isString(t))throw TypeError("address must be a string");return{address:t,family:e||(t.indexOf(".")<0?6:4)}},f1=(t,e)=>E5(z.isObject(t)?t:{address:t,family:e}),_1=w5&&function(e){return S5(async function(a,s,i){let{data:n,lookup:o,family:l}=e,{responseType:c,responseEncoding:u}=e,d=e.method.toUpperCase(),h,p=!1,m;if(o){let G=i1(o,K=>z.isArray(K)?K:[K]);o=(K,Q,Y)=>{G(K,Q,(ae,ue,Qe)=>{if(ae)return Y(ae);let ye=z.isArray(ue)?ue.map(Re=>f1(Re)):[f1(ue,Qe)];Q.all?Y(ae,ye):Y(ae,ye[0].address,ye[0].family)})}}let f=new x1.EventEmitter,v=()=>{e.cancelToken&&e.cancelToken.unsubscribe(g),e.signal&&e.signal.removeEventListener("abort",g),f.removeAllListeners()};i((G,K)=>{h=!0,K&&(p=!0,v())});function g(G){f.emit("abort",!G||G.type?new Rr(null,e,m):G)}f.once("abort",s),(e.cancelToken||e.signal)&&(e.cancelToken&&e.cancelToken.subscribe(g),e.signal&&(e.signal.aborted?g():e.signal.addEventListener("abort",g)));let b=$n(e.baseURL,e.url,e.allowAbsoluteUrls),w=new URL(b,lt.hasBrowserEnv?lt.origin:void 0),C=w.protocol||d1[0];if(C==="data:"){let G;if(d!=="GET")return Ca(a,s,{status:405,statusText:"method not allowed",headers:{},config:e});try{G=Xv(e.url,c==="blob",{Blob:e.env&&e.env.Blob})}catch(K){throw ce.from(K,ce.ERR_BAD_REQUEST,e)}return c==="text"?(G=G.toString(u),(!u||u==="utf8")&&(G=z.stripBOM(G))):c==="stream"&&(G=Un.default.Readable.from(G)),Ca(a,s,{data:G,status:200,statusText:"OK",headers:new wt,config:e})}if(d1.indexOf(C)===-1)return s(new ce("Unsupported protocol "+C,ce.ERR_BAD_REQUEST,e));let T=wt.from(e.headers).normalize();T.set("User-Agent","axios/"+qn,!1);let{onUploadProgress:R,onDownloadProgress:O}=e,L=e.maxRate,N,q;if(z.isSpecCompliantForm(n)){let G=T.getContentType(/boundary=([-_\w\d]{10,70})/i);n=a1(n,K=>{T.set(K)},{tag:`axios-${qn}-boundary`,boundary:G&&G[1]||void 0})}else if(z.isFormData(n)&&z.isFunction(n.getHeaders)){if(T.set(n.getHeaders()),!T.hasContentLength())try{let G=await g1.default.promisify(n.getLength).call(n);Number.isFinite(G)&&G>=0&&T.setContentLength(G)}catch{}}else if(z.isBlob(n)||z.isFile(n))n.size&&T.setContentType(n.type||"application/octet-stream"),T.setContentLength(n.size||0),n=Un.default.Readable.from(Ld(n));else if(n&&!z.isStream(n)){if(!Buffer.isBuffer(n))if(z.isArrayBuffer(n))n=Buffer.from(new Uint8Array(n));else if(z.isString(n))n=Buffer.from(n,"utf-8");else return s(new ce("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",ce.ERR_BAD_REQUEST,e));if(T.setContentLength(n.length,!1),e.maxBodyLength>-1&&n.length>e.maxBodyLength)return s(new ce("Request body larger than maxBodyLength limit",ce.ERR_BAD_REQUEST,e))}let k=z.toFiniteNumber(T.getContentLength());z.isArray(L)?(N=L[0],q=L[1]):N=q=L,n&&(R||N)&&(z.isStream(n)||(n=Un.default.Readable.from(n,{objectMode:!1})),n=Un.default.pipeline([n,new rg({maxRate:z.toFiniteNumber(N)})],z.noop),R&&n.on("progress",p1(n,ro(k,Xa(ao(R),!1,3)))));let A;if(e.auth){let G=e.auth.username||"",K=e.auth.password||"";A=G+":"+K}if(!A&&w.username){let G=w.username,K=w.password;A=G+":"+K}A&&T.delete("authorization");let D;try{D=Nn(w.pathname+w.search,e.params,e.paramsSerializer).replace(/^\?/,"")}catch(G){let K=new Error(G.message);return K.config=e,K.url=e.url,K.exists=!0,s(K)}T.set("Accept-Encoding","gzip, compress, deflate"+(u1?", br":""),!1);let $={path:D,method:d,headers:T.toJSON(),agents:{http:e.httpAgent,https:e.httpsAgent},auth:A,protocol:C,family:l,beforeRedirect:_5,beforeRedirects:{}};!z.isUndefined(o)&&($.lookup=o),e.socketPath?$.socketPath=e.socketPath:($.hostname=w.hostname.startsWith("[")?w.hostname.slice(1,-1):w.hostname,$.port=w.port,b1($,e.proxy,C+"//"+w.hostname+(w.port?":"+w.port:"")+$.path));let B,W=b5.test($.protocol);if($.agent=W?e.httpsAgent:e.httpAgent,e.transport?B=e.transport:e.maxRedirects===0?B=W?v1.default:h1.default:(e.maxRedirects&&($.maxRedirects=e.maxRedirects),e.beforeRedirect&&($.beforeRedirects.config=e.beforeRedirect),B=W?x5:y5),e.maxBodyLength>-1?$.maxBodyLength=e.maxBodyLength:$.maxBodyLength=1/0,e.insecureHTTPParser&&($.insecureHTTPParser=e.insecureHTTPParser),m=B.request($,function(K){if(m.destroyed)return;let Q=[K],Y=+K.headers["content-length"];if(O||q){let Re=new rg({maxRate:z.toFiniteNumber(q)});O&&Re.on("progress",p1(Re,ro(Y,Xa(ao(O),!0,3)))),Q.push(Re)}let ae=K,ue=K.req||m;if(e.decompress!==!1&&K.headers["content-encoding"])switch((d==="HEAD"||K.statusCode===204)&&delete K.headers["content-encoding"],(K.headers["content-encoding"]||"").toLowerCase()){case"gzip":case"x-gzip":case"compress":case"x-compress":Q.push(es.default.createUnzip(l1)),delete K.headers["content-encoding"];break;case"deflate":Q.push(new n1),Q.push(es.default.createUnzip(l1)),delete K.headers["content-encoding"];break;case"br":u1&&(Q.push(es.default.createBrotliDecompress(g5)),delete K.headers["content-encoding"])}ae=Q.length>1?Un.default.pipeline(Q,z.noop):Q[0];let Qe=Un.default.finished(ae,()=>{Qe(),v()}),ye={status:K.statusCode,statusText:K.statusMessage,headers:new wt(K.headers),config:e,request:ue};if(c==="stream")ye.data=ae,Ca(a,s,ye);else{let Re=[],Ie=0;ae.on("data",function(U){Re.push(U),Ie+=U.length,e.maxContentLength>-1&&Ie>e.maxContentLength&&(p=!0,ae.destroy(),s(new ce("maxContentLength size of "+e.maxContentLength+" exceeded",ce.ERR_BAD_RESPONSE,e,ue)))}),ae.on("aborted",function(){if(p)return;let U=new ce("stream has been aborted",ce.ERR_BAD_RESPONSE,e,ue);ae.destroy(U),s(U)}),ae.on("error",function(U){m.destroyed||s(ce.from(U,null,e,ue))}),ae.on("end",function(){try{let U=Re.length===1?Re[0]:Buffer.concat(Re);c!=="arraybuffer"&&(U=U.toString(u),(!u||u==="utf8")&&(U=z.stripBOM(U))),ye.data=U}catch(U){return s(ce.from(U,null,e,ye.request,ye))}Ca(a,s,ye)})}f.once("abort",Re=>{ae.destroyed||(ae.emit("error",Re),ae.destroy())})}),f.once("abort",G=>{s(G),m.destroy(G)}),m.on("error",function(K){s(ce.from(K,null,e,m))}),m.on("socket",function(K){K.setKeepAlive(!0,1e3*60)}),e.timeout){let G=parseInt(e.timeout,10);if(Number.isNaN(G)){s(new ce("error trying to parse `config.timeout` to int",ce.ERR_BAD_OPTION_VALUE,e,m));return}m.setTimeout(G,function(){if(h)return;let Q=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",Y=e.transitional||Ki;e.timeoutErrorMessage&&(Q=e.timeoutErrorMessage),s(new ce(Q,Y.clarifyTimeoutError?ce.ETIMEDOUT:ce.ECONNABORTED,e,m)),g()})}if(z.isStream(n)){let G=!1,K=!1;n.on("end",()=>{G=!0}),n.once("error",Q=>{K=!0,m.destroy(Q)}),n.on("close",()=>{!G&&!K&&g(new Rr("Request stream has been aborted",e,m))}),n.pipe(m)}else m.end(n)})};var w1=lt.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,lt.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(lt.origin),lt.navigator&&/(msie|trident)/i.test(lt.navigator.userAgent)):()=>!0;var S1=lt.hasStandardBrowserEnv?{write(t,e,r,a,s,i){let n=[t+"="+encodeURIComponent(e)];z.isNumber(r)&&n.push("expires="+new Date(r).toGMTString()),z.isString(a)&&n.push("path="+a),z.isString(s)&&n.push("domain="+s),i===!0&&n.push("secure"),document.cookie=n.join("; ")},read(t){let e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};var E1=t=>t instanceof wt?{...t}:t;function la(t,e){e=e||{};let r={};function a(c,u,d,h){return z.isPlainObject(c)&&z.isPlainObject(u)?z.merge.call({caseless:h},c,u):z.isPlainObject(u)?z.merge({},u):z.isArray(u)?u.slice():u}function s(c,u,d,h){if(z.isUndefined(u)){if(!z.isUndefined(c))return a(void 0,c,d,h)}else return a(c,u,d,h)}function i(c,u){if(!z.isUndefined(u))return a(void 0,u)}function n(c,u){if(z.isUndefined(u)){if(!z.isUndefined(c))return a(void 0,c)}else return a(void 0,u)}function o(c,u,d){if(d in e)return a(c,u);if(d in t)return a(void 0,c)}let l={url:i,method:i,data:i,baseURL:n,transformRequest:n,transformResponse:n,paramsSerializer:n,timeout:n,timeoutMessage:n,withCredentials:n,withXSRFToken:n,adapter:n,responseType:n,xsrfCookieName:n,xsrfHeaderName:n,onUploadProgress:n,onDownloadProgress:n,decompress:n,maxContentLength:n,maxBodyLength:n,beforeRedirect:n,transport:n,httpAgent:n,httpsAgent:n,cancelToken:n,socketPath:n,responseEncoding:n,validateStatus:o,headers:(c,u,d)=>s(E1(c),E1(u),d,!0)};return z.forEach(Object.keys(Object.assign({},t,e)),function(u){let d=l[u]||s,h=d(t[u],e[u],u);z.isUndefined(h)&&d!==o||(r[u]=h)}),r}var Fd=t=>{let e=la({},t),{data:r,withXSRFToken:a,xsrfHeaderName:s,xsrfCookieName:i,headers:n,auth:o}=e;e.headers=n=wt.from(n),e.url=Nn($n(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&n.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(z.isFormData(r)){if(lt.hasStandardBrowserEnv||lt.hasStandardBrowserWebWorkerEnv)n.setContentType(void 0);else if((l=n.getContentType())!==!1){let[c,...u]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];n.setContentType([c||"multipart/form-data",...u].join("; "))}}if(lt.hasStandardBrowserEnv&&(a&&z.isFunction(a)&&(a=a(e)),a||a!==!1&&w1(e.url))){let c=s&&i&&S1.read(i);c&&n.set(s,c)}return e};var P5=typeof XMLHttpRequest<"u",P1=P5&&function(t){return new Promise(function(r,a){let s=Fd(t),i=s.data,n=wt.from(s.headers).normalize(),{responseType:o,onUploadProgress:l,onDownloadProgress:c}=s,u,d,h,p,m;function f(){p&&p(),m&&m(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let v=new XMLHttpRequest;v.open(s.method.toUpperCase(),s.url,!0),v.timeout=s.timeout;function g(){if(!v)return;let w=wt.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),T={data:!o||o==="text"||o==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:w,config:t,request:v};Ca(function(O){r(O),f()},function(O){a(O),f()},T),v=null}"onloadend"in v?v.onloadend=g:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(g)},v.onabort=function(){v&&(a(new ce("Request aborted",ce.ECONNABORTED,t,v)),v=null)},v.onerror=function(){a(new ce("Network Error",ce.ERR_NETWORK,t,v)),v=null},v.ontimeout=function(){let C=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded",T=s.transitional||Ki;s.timeoutErrorMessage&&(C=s.timeoutErrorMessage),a(new ce(C,T.clarifyTimeoutError?ce.ETIMEDOUT:ce.ECONNABORTED,t,v)),v=null},i===void 0&&n.setContentType(null),"setRequestHeader"in v&&z.forEach(n.toJSON(),function(C,T){v.setRequestHeader(T,C)}),z.isUndefined(s.withCredentials)||(v.withCredentials=!!s.withCredentials),o&&o!=="json"&&(v.responseType=s.responseType),c&&([h,m]=Xa(c,!0),v.addEventListener("progress",h)),l&&v.upload&&([d,p]=Xa(l),v.upload.addEventListener("progress",d),v.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(u=w=>{v&&(a(!w||w.type?new Rr(null,t,v):w),v.abort(),v=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));let b=bc(s.url);if(b&&lt.protocols.indexOf(b)===-1){a(new ce("Unsupported protocol "+b+":",ce.ERR_BAD_REQUEST,t));return}v.send(i||null)})};var R5=(t,e)=>{let{length:r}=t=t?t.filter(Boolean):[];if(e||r){let a=new AbortController,s,i=function(c){if(!s){s=!0,o();let u=c instanceof Error?c:this.reason;a.abort(u instanceof ce?u:new Rr(u instanceof Error?u.message:u))}},n=e&&setTimeout(()=>{n=null,i(new ce(`timeout ${e} of ms exceeded`,ce.ETIMEDOUT))},e),o=()=>{t&&(n&&clearTimeout(n),n=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),t=null)};t.forEach(c=>c.addEventListener("abort",i));let{signal:l}=a;return l.unsubscribe=()=>z.asap(o),l}},R1=R5;var C5=function*(t,e){let r=t.byteLength;if(!e||r<e){yield t;return}let a=0,s;for(;a<r;)s=a+e,yield t.slice(a,s),a=s},T5=async function*(t,e){for await(let r of O5(t))yield*C5(r,e)},O5=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}let e=t.getReader();try{for(;;){let{done:r,value:a}=await e.read();if(r)break;yield a}}finally{await e.cancel()}},ng=(t,e,r,a)=>{let s=T5(t,e),i=0,n,o=l=>{n||(n=!0,a&&a(l))};return new ReadableStream({async pull(l){try{let{done:c,value:u}=await s.next();if(c){o(),l.close();return}let d=u.byteLength;if(r){let h=i+=d;r(h)}l.enqueue(new Uint8Array(u))}catch(c){throw o(c),c}},cancel(l){return o(l),s.return()}},{highWaterMark:2})};var qd=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",T1=qd&&typeof ReadableStream=="function",I5=qd&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),O1=(t,...e)=>{try{return!!t(...e)}catch{return!1}},A5=T1&&O1(()=>{let t=!1,e=new Request(lt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),C1=64*1024,ig=T1&&O1(()=>z.isReadableStream(new Response("").body)),Md={stream:ig&&(t=>t.body)};qd&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Md[e]&&(Md[e]=z.isFunction(t[e])?r=>r[e]():(r,a)=>{throw new ce(`Response type '${e}' is not supported`,ce.ERR_NOT_SUPPORT,a)})})})(new Response);var k5=async t=>{if(t==null)return 0;if(z.isBlob(t))return t.size;if(z.isSpecCompliantForm(t))return(await new Request(lt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(z.isArrayBufferView(t)||z.isArrayBuffer(t))return t.byteLength;if(z.isURLSearchParams(t)&&(t=t+""),z.isString(t))return(await I5(t)).byteLength},D5=async(t,e)=>{let r=z.toFiniteNumber(t.getContentLength());return r??k5(e)},I1=qd&&(async t=>{let{url:e,method:r,data:a,signal:s,cancelToken:i,timeout:n,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:h}=Fd(t);c=c?(c+"").toLowerCase():"text";let p=R1([s,i&&i.toAbortSignal()],n),m,f=p&&p.unsubscribe&&(()=>{p.unsubscribe()}),v;try{if(l&&A5&&r!=="get"&&r!=="head"&&(v=await D5(u,a))!==0){let T=new Request(e,{method:"POST",body:a,duplex:"half"}),R;if(z.isFormData(a)&&(R=T.headers.get("content-type"))&&u.setContentType(R),T.body){let[O,L]=ro(v,Xa(ao(l)));a=ng(T.body,C1,O,L)}}z.isString(d)||(d=d?"include":"omit");let g="credentials"in Request.prototype;m=new Request(e,{...h,signal:p,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:a,duplex:"half",credentials:g?d:void 0});let b=await fetch(m),w=ig&&(c==="stream"||c==="response");if(ig&&(o||w&&f)){let T={};["status","statusText","headers"].forEach(N=>{T[N]=b[N]});let R=z.toFiniteNumber(b.headers.get("content-length")),[O,L]=o&&ro(R,Xa(ao(o),!0))||[];b=new Response(ng(b.body,C1,O,()=>{L&&L(),f&&f()}),T)}c=c||"text";let C=await Md[z.findKey(Md,c)||"text"](b,t);return!w&&f&&f(),await new Promise((T,R)=>{Ca(T,R,{data:C,headers:wt.from(b.headers),status:b.status,statusText:b.statusText,config:t,request:m})})}catch(g){throw f&&f(),g&&g.name==="TypeError"&&/fetch/i.test(g.message)?Object.assign(new ce("Network Error",ce.ERR_NETWORK,t,m),{cause:g.cause||g}):ce.from(g,g&&g.code,t,m)}});var og={http:_1,xhr:P1,fetch:I1};z.forEach(og,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});var A1=t=>`- ${t}`,j5=t=>z.isFunction(t)||t===null||t===!1,Ud={getAdapter:t=>{t=z.isArray(t)?t:[t];let{length:e}=t,r,a,s={};for(let i=0;i<e;i++){r=t[i];let n;if(a=r,!j5(r)&&(a=og[(n=String(r)).toLowerCase()],a===void 0))throw new ce(`Unknown adapter '${n}'`);if(a)break;s[n||"#"+i]=a}if(!a){let i=Object.entries(s).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build")),n=e?i.length>1?`since :
`+i.map(A1).join(`
`):" "+A1(i[0]):"as no adapter specified";throw new ce("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return a},adapters:og};function cg(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Rr(null,t)}function zd(t){return cg(t),t.headers=wt.from(t.headers),t.data=mc.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Ud.getAdapter(t.adapter||Ji.adapter)(t).then(function(a){return cg(t),a.data=mc.call(t,t.transformResponse,a),a.headers=wt.from(a.headers),a},function(a){return hc(a)||(cg(t),a&&a.response&&(a.response.data=mc.call(t,t.transformResponse,a.response),a.response.headers=wt.from(a.response.headers))),Promise.reject(a)})}var Bd={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Bd[t]=function(a){return typeof a===t||"a"+(e<1?"n ":" ")+t}});var k1={};Bd.transitional=function(e,r,a){function s(i,n){return"[Axios v"+qn+"] Transitional option '"+i+"'"+n+(a?". "+a:"")}return(i,n,o)=>{if(e===!1)throw new ce(s(n," has been removed"+(r?" in "+r:"")),ce.ERR_DEPRECATED);return r&&!k1[n]&&(k1[n]=!0,console.warn(s(n," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(i,n,o):!0}};Bd.spelling=function(e){return(r,a)=>(console.warn(`${a} is likely a misspelling of ${e}`),!0)};function N5(t,e,r){if(typeof t!="object")throw new ce("options must be an object",ce.ERR_BAD_OPTION_VALUE);let a=Object.keys(t),s=a.length;for(;s-- >0;){let i=a[s],n=e[i];if(n){let o=t[i],l=o===void 0||n(o,i,t);if(l!==!0)throw new ce("option "+i+" must be "+l,ce.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ce("Unknown option "+i,ce.ERR_BAD_OPTION)}}var wc={assertOptions:N5,validators:Bd};var Ta=wc.validators,so=class{constructor(e){this.defaults=e,this.interceptors={request:new Tv,response:new Tv}}async request(e,r){try{return await this._request(e,r)}catch(a){if(a instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;let i=s.stack?s.stack.replace(/^.+\n/,""):"";try{a.stack?i&&!String(a.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+i):a.stack=i}catch{}}throw a}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=la(this.defaults,r);let{transitional:a,paramsSerializer:s,headers:i}=r;a!==void 0&&wc.assertOptions(a,{silentJSONParsing:Ta.transitional(Ta.boolean),forcedJSONParsing:Ta.transitional(Ta.boolean),clarifyTimeoutError:Ta.transitional(Ta.boolean)},!1),s!=null&&(z.isFunction(s)?r.paramsSerializer={serialize:s}:wc.assertOptions(s,{encode:Ta.function,serialize:Ta.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),wc.assertOptions(r,{baseUrl:Ta.spelling("baseURL"),withXsrfToken:Ta.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let n=i&&z.merge(i.common,i[r.method]);i&&z.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),r.headers=wt.concat(n,i);let o=[],l=!0;this.interceptors.request.forEach(function(f){typeof f.runWhen=="function"&&f.runWhen(r)===!1||(l=l&&f.synchronous,o.unshift(f.fulfilled,f.rejected))});let c=[];this.interceptors.response.forEach(function(f){c.push(f.fulfilled,f.rejected)});let u,d=0,h;if(!l){let m=[zd.bind(this),void 0];for(m.unshift.apply(m,o),m.push.apply(m,c),h=m.length,u=Promise.resolve(r);d<h;)u=u.then(m[d++],m[d++]);return u}h=o.length;let p=r;for(d=0;d<h;){let m=o[d++],f=o[d++];try{p=m(p)}catch(v){f.call(this,v);break}}try{u=zd.call(this,p)}catch(m){return Promise.reject(m)}for(d=0,h=c.length;d<h;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=la(this.defaults,e);let r=$n(e.baseURL,e.url,e.allowAbsoluteUrls);return Nn(r,e.params,e.paramsSerializer)}};z.forEach(["delete","get","head","options"],function(e){so.prototype[e]=function(r,a){return this.request(la(a||{},{method:e,url:r,data:(a||{}).data}))}});z.forEach(["post","put","patch"],function(e){function r(a){return function(i,n,o){return this.request(la(o||{},{method:e,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:n}))}}so.prototype[e]=r(),so.prototype[e+"Form"]=r(!0)});var Sc=so;var lg=class t{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});let a=this;this.promise.then(s=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](s);a._listeners=null}),this.promise.then=s=>{let i,n=new Promise(o=>{a.subscribe(o),i=o}).then(s);return n.cancel=function(){a.unsubscribe(i)},n},e(function(i,n,o){a.reason||(a.reason=new Rr(i,n,o),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){let e=new AbortController,r=a=>{e.abort(a)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new t(function(s){e=s}),cancel:e}}},D1=lg;function ug(t){return function(r){return t.apply(null,r)}}function dg(t){return z.isObject(t)&&t.isAxiosError===!0}var pg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(pg).forEach(([t,e])=>{pg[e]=t});var j1=pg;function N1(t){let e=new Sc(t),r=ic(Sc.prototype.request,e);return z.extend(r,Sc.prototype,e,{allOwnKeys:!0}),z.extend(r,e,null,{allOwnKeys:!0}),r.create=function(s){return N1(la(t,s))},r}var At=N1(Ji);At.Axios=Sc;At.CanceledError=Rr;At.CancelToken=D1;At.isCancel=hc;At.VERSION=qn;At.toFormData=Os;At.AxiosError=ce;At.Cancel=At.CanceledError;At.all=function(e){return Promise.all(e)};At.spread=ug;At.isAxiosError=dg;At.mergeConfig=la;At.AxiosHeaders=wt;At.formToJSON=t=>Id(z.isHTMLForm(t)?new FormData(t):t);At.getAdapter=Ud.getAdapter;At.HttpStatusCode=j1;At.default=At;var no=At;var{Axios:aae,AxiosError:sae,CanceledError:nae,isCancel:iae,CancelToken:oae,VERSION:cae,all:lae,Cancel:uae,isAxiosError:dae,spread:pae,toFormData:fae,AxiosHeaders:mae,HttpStatusCode:hae,formToJSON:vae,getAdapter:gae,mergeConfig:yae}=no;var Zd=class{constructor(e){this.logger=e;this.codeVerifier=this.generateCodeVerifier()}codeVerifier;server=null;manualAuthCodeResolver=null;getOAuthConfig(){return{CLAUDE_AI_AUTHORIZE_URL:"https://claude.ai/oauth/authorize",CONSOLE_AUTHORIZE_URL:"https://console.anthropic.com/oauth/authorize",TOKEN_URL:"https://console.anthropic.com/v1/oauth/token",CLIENT_ID:"9d1c250a-e61b-44d9-88ed-5944d1962f5e",MANUAL_REDIRECT_URL:"https://console.anthropic.com/oauth/code/callback",SCOPES:["org:create_api_key","user:profile","user:inference"],API_KEY_URL:"https://api.anthropic.com/api/oauth/claude_cli/create_api_key",SUCCESS_URL:"https://console.anthropic.com/oauth/code/success?app=claude-code",PROFILE_URL:"https://api.anthropic.com/api/oauth/profile"}}async startOAuthFlow(e,r){let a=await this.startCallbackServer(),s=this.generateCodeChallenge(this.codeVerifier),i=this.generateState(),n=this.buildAuthUrls({codeChallenge:s,state:i,port:a,loginWithClaudeAi:e});await r(n);let{code:o,isManualFlow:l}=await this.waitForAuthorizationCode(i,a);return await this.exchangeCodeForTokens(o,i,this.codeVerifier,l?void 0:a)}buildAuthUrls(e){let r=this.getOAuthConfig(),a=e.loginWithClaudeAi?r.CLAUDE_AI_AUTHORIZE_URL:r.CONSOLE_AUTHORIZE_URL,s=new URL(a);s.searchParams.set("code","true"),s.searchParams.set("client_id",r.CLIENT_ID),s.searchParams.set("response_type","code");let i=r.SCOPES;s.searchParams.set("scope",i.join(" ")),s.searchParams.set("code_challenge",e.codeChallenge),s.searchParams.set("code_challenge_method","S256"),s.searchParams.set("state",e.state),s.searchParams.set("redirect_uri",`http://localhost:${e.port}/callback`);let n=s.toString();s.searchParams.set("redirect_uri",r.MANUAL_REDIRECT_URL);let o=s.toString();return{automaticRedirectUrl:n,manualRedirectUrl:o}}async startCallbackServer(){return new Promise((e,r)=>{this.server=$1.createServer(),this.server.listen(0,"127.0.0.1",()=>{let a=this.server.address();if(!a||typeof a=="string"){r(new Error("Failed to get server address"));return}e(a.port)}),this.server.on("error",r)})}async waitForAuthorizationCode(e,r){return new Promise((a,s)=>{if(!this.server){s(new Error("Server not started"));return}this.manualAuthCodeResolver=i=>{let n=i.trim().split("#");if(n[1]!==e)throw new Error("Invalid state parameter");a({code:n[0],isManualFlow:!0})},this.server.on("request",(i,n)=>{let o=new URL(i.url,`http://localhost:${r}`);if(o.pathname==="/callback"){let l=o.searchParams.get("code");if(o.searchParams.get("state")!==e){n.writeHead(400),n.end("Invalid state parameter"),s(new Error("Invalid state parameter"));return}if(!l){n.writeHead(400),n.end("Missing authorization code"),s(new Error("Missing authorization code"));return}let u=this.getOAuthConfig();n.writeHead(302,{Location:u.SUCCESS_URL}),n.end(),this.manualAuthCodeResolver=null,a({code:l,isManualFlow:!1})}})})}async exchangeCodeForTokens(e,r,a,s){let i=this.getOAuthConfig(),n={grant_type:"authorization_code",code:e,redirect_uri:s?`http://localhost:${s}/callback`:i.MANUAL_REDIRECT_URL,client_id:i.CLIENT_ID,code_verifier:a,state:r};try{let o=await no.post(i.TOKEN_URL,n,{headers:{"Content-Type":"application/json"}});if(o.status!==200)throw new Error(`Token exchange failed: ${o.statusText}`);let l=o.data,c={accessToken:l.access_token,refreshToken:l.refresh_token||null,expiresAt:l.expires_in?Date.now()+l.expires_in*1e3:null,scopes:l.scope?l.scope.split(" "):[],subscriptionType:null};if(c.scopes.includes("user:profile")){let u=await this.fetchProfileInfo(c.accessToken);c.subscriptionType=u.subscriptionType}return c}catch(o){let l=o;throw new Error(`Token exchange failed: ${l.response?.data?.error||l.response?.data?.message||l.message||"Unknown error"}`)}}handleManualAuthCodeInput(e){this.manualAuthCodeResolver&&e&&(this.manualAuthCodeResolver(e),this.manualAuthCodeResolver=null,this.cleanup())}async createApiKey(e){let r=this.getOAuthConfig();try{return(await no.post(r.API_KEY_URL,null,{headers:{Authorization:`Bearer ${e}`}})).data?.raw_key||null}catch{return null}}cleanup(){this.server&&(this.server.close(),this.server=null)}generateCodeVerifier(){return Ec.randomBytes(32).toString("base64url")}generateCodeChallenge(e){return Ec.createHash("sha256").update(e).digest("base64url")}generateState(){return Ec.randomBytes(32).toString("base64url")}async fetchProfileInfo(e){let r=this.getOAuthConfig();try{let s=(await no.get(r.PROFILE_URL,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}})).data?.organization?.organization_type,i=null;switch(s){case"claude_max":i="max";break;case"claude_pro":i="pro";break;case"claude_enterprise":i="enterprise";break;case"claude_team":i="team";break;default:i=null;break}return{subscriptionType:i}}catch(a){return this.logger.error(`Failed to fetch subscription: ${a}`),{subscriptionType:null}}}};var L1=require("fs"),io=class{constructor(e,r){this.logger=e;this.env=r;this.logger.log("AuthManager initialized")}currentOAuthService=null;getAuthStatus(){if(this.logger.log("Getting authentication status"),fg(this.env.CLAUDE_CODE_USE_BEDROCK)||fg(this.env.CLAUDE_CODE_USE_VERTEX)||this.env.ANTHROPIC_API_KEY||this.env.ANTHROPIC_AUTH_TOKEN||fg(this.env.CLAUDE_CODE_SKIP_AUTH_LOGIN))return{authMethod:"3p",email:null,subscriptionType:null};let e=this.getApiKey(),r=this.getOAuthTokens();if(!e&&!r){this.logger.log("No authentication found");return}let a;r?a=r.scopes.includes("user:inference")?"claudeai":"console":a="api-key";let s={authMethod:a,email:null,subscriptionType:r?.subscriptionType||null};return this.logger.log(`Auth status: method=${s.authMethod}`),s}getOAuthTokens(){let r=this.readSecureStorage()?.claudeAiOauth;return r?(this.logger.log("OAuth tokens found in secure storage"),{accessToken:r.accessToken,refreshToken:r.refreshToken||null,expiresAt:r.expiresAt||null,scopes:r.scopes,subscriptionType:r.subscriptionType}):null}getApiKey(){if(process.platform==="darwin")try{let a=(0,Zn.quote)(["security","find-generic-password","-a",process.env.USER||"user","-w","-s","Claude Code"]),s=(0,Bn.execSync)(a,{encoding:"utf8"}).trim();if(s)return this.logger.log("API key found in macOS keychain"),s}catch{this.logger.log("Keychain read failed, trying file fallback")}let e=this.getConfigPath(),r=zn.join(e,"config.json");if(Pt.existsSync(r))try{let a=JSON.parse(Pt.readFileSync(r,"utf8"));if(a.primaryApiKey)return this.logger.log("API key found in config file"),a.primaryApiKey}catch{this.logger.warn("Failed to read config file")}return null}readSecureStorage(){if(process.platform==="darwin")try{let r=(0,Zn.quote)(["security","find-generic-password","-a",process.env.USER||"user","-w","-s","Claude Code-credentials"]),a=(0,Bn.execSync)(r,{encoding:"utf8"}).trim();if(a)return JSON.parse(a)}catch{this.logger.log("Keychain credentials read failed")}let e=zn.join(this.getConfigPath(),".credentials.json");if(Pt.existsSync(e))try{let r=Pt.readFileSync(e,"utf8");return JSON.parse(r)}catch{this.logger.log("Failed to read credentials file")}return null}async saveOAuthTokens(e){this.logger.log("Saving OAuth tokens to secure storage");let r=this.readSecureStorage()||{};if(r.claudeAiOauth={accessToken:e.accessToken,refreshToken:e.refreshToken||"",expiresAt:e.expiresAt||Date.now()+1*60*60*1e3,scopes:e.scopes,subscriptionType:e.subscriptionType},process.platform==="darwin")try{let i=JSON.stringify(r),n=(0,Zn.quote)(["security","add-generic-password","-U","-a",process.env.USER||"user","-s","Claude Code-credentials","-w",i]);return(0,Bn.execSync)(n),this.logger.log("OAuth tokens saved to macOS keychain"),!0}catch(i){this.logger.error(`Failed to save to keychain: ${i}`)}let a=this.getConfigPath();Pt.existsSync(a)||Pt.mkdirSync(a,{recursive:!0});let s=zn.join(a,".credentials.json");try{return Pt.writeFileSync(s,JSON.stringify(r),{encoding:"utf8",mode:384}),this.logger.log("OAuth tokens saved to credentials file"),!0}catch(i){return this.logger.error(`Failed to save credentials: ${i}`),!1}}async saveApiKey(e){if(this.logger.log("Saving API key"),process.platform==="darwin")try{let i=(0,Zn.quote)(["security","add-generic-password","-U","-a",process.env.USER||"user","-s","Claude Code","-w",e]);return(0,Bn.execSync)(i),this.logger.log("API key saved to macOS keychain"),!0}catch(i){throw this.logger.error(`Failed to save API key to keychain: ${i}`),new Error("Unable to save API key to macOS Keychain. Please ensure VS Code has keychain access permissions.")}let r=this.getConfigPath();Pt.existsSync(r)||Pt.mkdirSync(r,{recursive:!0});let a=zn.join(r,"config.json"),s={};if(Pt.existsSync(a))try{s=JSON.parse(Pt.readFileSync(a,"utf8"))}catch{}s.primaryApiKey=e;try{return Pt.writeFileSync(a,JSON.stringify(s,null,2),"utf8"),(0,L1.chmodSync)(a,384),this.logger.log("API key saved to config file"),!0}catch(i){return this.logger.error(`Failed to save API key: ${i}`),!1}}async logout(){this.logger.log("Logging out - clearing stored credentials");let e=!0;if(process.platform==="darwin"){try{let i=(0,Zn.quote)(["security","delete-generic-password","-a",process.env.USER||"user","-s","Claude Code-credentials"]);(0,Bn.execSync)(i)}catch{}try{let i=(0,Zn.quote)(["security","delete-generic-password","-a",process.env.USER||"user","-s","Claude Code"]);(0,Bn.execSync)(i)}catch{}}let r=this.getConfigPath(),a=zn.join(r,".credentials.json"),s=zn.join(r,"config.json");if(Pt.existsSync(a))try{Pt.unlinkSync(a)}catch{e=!1}if(Pt.existsSync(s))try{let i=JSON.parse(Pt.readFileSync(s,"utf8"));delete i.primaryApiKey,Pt.writeFileSync(s,JSON.stringify(i,null,2),"utf8")}catch{e=!1}return this.logger.log(`Logout ${e?"successful":"failed"}`),e}getConfigPath(){return ei()}getAccessToken(){return this.getOAuthTokens()?.accessToken||null}getApiKeyDirect(){return this.getApiKey()}handleManualAuthCode(e){this.currentOAuthService?(this.logger.log("Handling manual auth code input"),this.currentOAuthService.handleManualAuthCodeInput(e)):this.logger.warn("No active OAuth service to handle manual auth code")}async login(e,r){this.logger.log(`Starting OAuth login flow: method=${e}`),this.currentOAuthService=new Zd(this.logger);try{let a=await this.currentOAuthService.startOAuthFlow(e==="claudeai",r);if(!await this.saveOAuthTokens(a))throw this.logger.error("Failed to save OAuth tokens"),new Error("Failed to save OAuth tokens");if(!a.scopes.includes("user:inference")){this.logger.log("Creating API key for Console user");let n=await this.currentOAuthService.createApiKey(a.accessToken);if(n)await this.saveApiKey(n);else throw this.logger.error("Failed to create API key"),new Error("Failed to create API key")}this.logger.log("Login successful");let i=this.getAuthStatus();if(!i)throw new Error("Failed to retrieve auth status after login");return i}finally{this.currentOAuthService&&(this.currentOAuthService.cleanup(),this.currentOAuthService=null)}}};function fg(t){if(!t)return!1;if(typeof t=="boolean")return t;let e=t.toLowerCase().trim();return["1","true","yes","on"].includes(e)}var $5=`
# VSCode Extension Context

You are running inside a VSCode native extension environment.

## Code References in Text
IMPORTANT: When referencing files or code locations, use markdown link syntax to make them clickable:
- For files: [filename.ts](src/filename.ts)
- For specific lines: [filename.ts:42](src/filename.ts#L42)
- For folders: [src/utils/](src/utils/)
Unless explicitly asked for by the user, DO NOT USE backtickets \` or HTML tags like code for file references - always use markdown [text](link) format.
The URL links should be relative paths from the root of  the user's workspace.

## User Selection Context
The user's IDE selection (if any) is included in the conversation context and marked with ide_selection tags. This represents code or text the user has highlighted in their editor and may or may not be relevant to their request.`,Pc=class extends pl{constructor(r,a,s,i,n,o,l,c,u,d,h,p,m,f,v){super(a,oo(n),s,!!v,new io(oo(n),Vd()));this.context=r;this.cwd=a;this.settings=s;this.webview=i;this.output=n;this.leftTempFileProvider=c;this.rightTempFileProvider=u;this.readOnlyTempFileProvider=d;this.acceptOrRejectDiffs=h;this.getCurrentSelection=p;this.isVisible=m;this.makeVisible=f;this.panelTab=v;o(g=>{this.send({type:"request",channelId:"",requestId:"",request:{type:"insert_at_mention",text:g}})}),l(g=>{this.send({type:"request",channelId:"",requestId:"",request:{type:"selection_changed",selection:g}})})}send(r){this.webview.postMessage({type:"from-extension",message:r})}async processRequest(r,a){if(r.request.type==="get_current_selection")return{type:"get_current_selection_response",selection:this.getCurrentSelection()};if(r.request.type==="new_conversation_tab")return await ut.commands.executeCommand("claude-vscode.editor.open",ut.ViewColumn.Active),{type:"new_conversation_tab_response"};if(r.request.type==="rename_tab")return this.panelTab&&(this.panelTab.title=r.request.title),{type:"rename_tab_response"};if(r.request.type==="show_notification"){let{message:s,severity:i,buttons:n,onlyIfNotVisible:o}=r.request;if(o&&this.isVisible())return{type:"show_notification_response"};let l;switch(i){case"error":l=await ut.window.showErrorMessage(s,...n||[]);break;case"warning":l=await ut.window.showWarningMessage(s,...n||[]);break;case"info":default:l=await ut.window.showInformationMessage(s,...n||[]);break}return l&&this.makeVisible(),{type:"show_notification_response",buttonValue:l}}return super.processRequest(r,a)}spawnClaude(r,a,s,i,n,o){M5();let l=Vd(),c=new md(oo(this.output)),u={cwd:n||this.cwd,resume:a,canUseTool:s,permissionMode:o===void 0?"default":o,model:i===null?"default":i,stderr:h=>{this.output.trace(`From claude: ${h}`)},env:l,appendSystemPrompt:$5,hooks:{PreToolUse:[{matcher:"Edit|Write|MultiEdit",hooks:[h=>c.captureBaseline(h)]}],PostToolUse:[{matcher:"Edit|Write|MultiEdit",hooks:[h=>c.findDiagnosticsProblems(h)]}]}};{let h=F5(this.context);h&&(u.pathToClaudeCodeExecutable=h)}return u.pathToClaudeCodeExecutable||(q5(),u.pathToClaudeCodeExecutable=this.context.asAbsolutePath((0,ua.join)("resources","claude-code","cli.js"))),this.output.info(`Spawning Claude with SDK query function - cwd: ${u.cwd}, permission mode: ${o}, version: 2.0.10, ${u.pathToClaudeCodeExecutable}, resume: ${a}`),process.env.CLAUDE_CODE_ENTRYPOINT="claude-vscode",B0({prompt:r,options:u})}async openFile(r,a){let s=(0,ua.isAbsolute)(r)?r:(0,ua.join)(this.cwd,r);if(!Wr.existsSync(s)&&!(0,ua.isAbsolute)(r)){let n=await of(r);n.length>0&&(s=(0,ua.join)(this.cwd,n[0].path))}let i=ut.Uri.file(s);if(Wr.existsSync(s)&&Wr.statSync(s).isDirectory()){ut.commands.executeCommand("revealInExplorer",i);return}ut.window.showTextDocument(i).then(n=>{if(a){let o=new ut.Range(new ut.Position((a.startLine||1)-1,0),new ut.Position((a.endLine||a.startLine||1)-1,0));n.revealRange(o,ut.TextEditorRevealType.InCenter),n.selection=new ut.Selection(o.start,o.end)}})}openConfigFile(r){let a,s=`{
  "mcpServers": {}
}
`,i=ei(),n=(0,ua.join)(i,".claude.json");switch(r){case"mcp-local":case"mcp-user":a=n;break;case"mcp-project":a=(0,ua.join)(this.cwd,".mcp.json");break;default:a=n;break}Wr.existsSync(a)||Wr.writeFileSync(a,s,"utf-8");let o=ut.Uri.file(a);ut.workspace.openTextDocument(o).then(l=>{ut.window.showTextDocument(l,{preview:!1})},l=>{this.output.error(`Failed to open config file ${a}: ${l}`)})}async openContent(r,a,s,i){return{type:"open_content_response",updatedContent:await Z0(this.output,this.readOnlyTempFileProvider,this.rightTempFileProvider,r,a,s,i)}}async openDiff(r,a,s,i,n){return{type:"open_diff_response",newEdits:await nw(this.output,this.leftTempFileProvider,this.rightTempFileProvider,r,a,s,i,this.acceptOrRejectDiffs,n)}}async openURL(r){await ut.env.openExternal(ut.Uri.parse(r))}async openClaudeInTerminal(){await ut.commands.executeCommand("claude-vscode.terminal.open")}getAssetUris(){let r=t_(),a=s=>this.webview.asWebviewUri(ut.Uri.file(this.context.asAbsolutePath(s))).toString();for(let s of Object.keys(r))r[s]={light:a(r[s].light),dark:a(r[s].dark)};return r}async findFiles(r){let a=ut.workspace.workspaceFolders;if(!a||a.length===0)return[];try{return await X_(r,this.cwd,oo(this.output))}catch(s){return this.output.warn(`Ripgrep search failed, falling back to VSCode findFiles: ${s}`),of(r)}}};function oo(t){return{log:(e,...r)=>t.info(e,...r),warn:(e,...r)=>t.warn(e,...r),error:(e,...r)=>t.error(e,...r)}}function L5(){if(process.platform!=="linux")return!1;try{if(Wr.existsSync("/lib/libc.musl-x86_64.so.1")||Wr.existsSync("/lib/libc.musl-aarch64.so.1"))return!0;let t=bo("ldd /bin/ls 2>/dev/null",{env:process.env,maxBuffer:1e6,timeout:2e4,stdio:["ignore","pipe","pipe"],shell:!0,reject:!1});return t.stdout&&t.stdout.includes("musl")}catch{return!1}}function F5(t){let e=process.platform==="win32"?"claude.exe":"claude",r=L5()?`${process.arch}-musl`:process.arch,a=t.asAbsolutePath((0,ua.join)("resources","native-binaries",`${process.platform}-${r}`,e));if(Wr.existsSync(a))return a;let s=t.asAbsolutePath((0,ua.join)("resources","native-binary",e));if(Wr.existsSync(s))return s}function M5(){if(process.platform==="win32")try{bo("where.exe",["git"],{stdio:"pipe",encoding:"utf8"})}catch{throw new Error("Claude Code on Windows requires git-bash (https://git-scm.com/downloads/win). If installed but not in PATH, set environment variable pointing to your bash.exe, similar to: CLAUDE_CODE_GIT_BASH_PATH=C:\\Program Files\\Git\\bin\\bash.exe")}}function q5(){try{let t=process.platform==="win32"?"node.exe":"node",r=bo(t,["--version"],{stdio:"pipe",encoding:"utf8"}).stdout.trim();if(!F1.default.gte(r,"18.0.0"))throw new Error(`Claude Code requires Node.js version 18 or higher. Found version ${r}.`)}catch(t){throw t instanceof Error&&t.message.includes("requires Node.js")?t:new Error("Claude Code requires Node.js version 18 or higher to be installed.")}}function Vd(){let e=ut.workspace.getConfiguration("claude-code").get("environmentVariables",[]),r={...process.env};for(let a of e)a.name&&(r[a.name]=a.value||"");return r}var Rc=class{constructor(e,r,a,s,i,n,o,l,c,u,d){this.extensionUri=e;this.context=r;this.output=a;this.settings=s;this.leftTempFileProvider=i;this.rightTempFileProvider=n;this.readOnlyTempFileProvider=o;this.acceptOrRejectDiffs=l;this.atMentionEvents=c;this.selectionChangedEvents=u;this.getSelection=d}static viewType="claudeVSCodeSidebar";disposables=[];allComms=new Set;webviews=new Set;hasVisibleWebview(){for(let e of this.webviews)if(e.isVisible())return!0;return!1}resolveWebviewView(e,r,a){let s={isVisible:()=>e.visible};this.webviews.add(s),e.webview.options={enableScripts:!0,localResourceRoots:[bt.Uri.joinPath(this.extensionUri,"webview"),bt.Uri.joinPath(this.extensionUri,"resources")]},e.webview.html=this.getHtmlForWebview(e.webview),e.show(!0);let n=(bt.workspace.workspaceFolders?.map(l=>l.uri.fsPath)||[])[0]||mg.homedir(),o=new Pc(this.context,n,this.settings,e.webview,this.output,this.atMentionEvents,this.selectionChangedEvents,this.leftTempFileProvider,this.rightTempFileProvider,this.readOnlyTempFileProvider,this.acceptOrRejectDiffs,this.getSelection,()=>e.visible,()=>e.show(),void 0);this.allComms.add(o),e.webview.onDidReceiveMessage(l=>{this.output.info(`Received message from webview: ${JSON.stringify(l)}`),o?.fromClient(l)},null,this.disposables),e.onDidDispose(()=>{o?.shutdown(),this.allComms.delete(o),this.webviews.delete(s)},null,this.disposables),e.onDidChangeVisibility(()=>{e.visible||o?.closeAllChannels()}),e.show(!0)}dispose(){for(;this.disposables.length;){let e=this.disposables.pop();e&&e.dispose()}}async notifyLogout(){for(let e of this.allComms)e.pushStateUpdate()}createPanel(){let e=!1,r=bt.ViewColumn.Beside,a=bt.window.tabGroups.all.find(i=>i.tabs.length===0?!1:i.tabs.every(n=>n.input instanceof bt.TabInputWebview?n.input.viewType.includes("claudeVSCodePanel"):!1));a&&a.viewColumn?r=a.viewColumn:(r=this.findUnusedColumn(),e=!0);let s=bt.window.createWebviewPanel("claudeVSCodePanel","Claude Code",r,{enableScripts:!0,retainContextWhenHidden:!0,localResourceRoots:[bt.Uri.joinPath(this.extensionUri,"webview"),bt.Uri.joinPath(this.extensionUri,"resources")]});return this.setupPanel(s),{startedInNewColumn:e}}findUnusedColumn(){let e=new Set;bt.window.tabGroups.all.forEach(r=>{r.viewColumn!==void 0&&e.add(r.viewColumn)});for(let r=bt.ViewColumn.One;r<=bt.ViewColumn.Nine;r++)if(!e.has(r))return r;return bt.ViewColumn.Beside}setupPanel(e){let r={isVisible:()=>e.visible};this.webviews.add(r);let s=(bt.workspace.workspaceFolders?.map(n=>n.uri.fsPath)||[])[0]||mg.homedir();e.iconPath=bt.Uri.file(M1.join(this.context.extensionPath,"resources","claude-logo.svg")),e.webview.html=this.getHtmlForWebview(e.webview);let i=new Pc(this.context,s,this.settings,e.webview,this.output,this.atMentionEvents,this.selectionChangedEvents,this.leftTempFileProvider,this.rightTempFileProvider,this.readOnlyTempFileProvider,this.acceptOrRejectDiffs,this.getSelection,()=>e.visible,()=>e.reveal(),e);this.allComms.add(i),e.webview.onDidReceiveMessage(n=>{this.output.info(`Received message from webview: ${JSON.stringify(n)}`),i?.fromClient(n)},null,this.disposables),e.onDidDispose(()=>{i.shutdown(),this.allComms.delete(i),this.webviews.delete(r)},null,this.disposables),this.disposables.push(e)}getHtmlForWebview(e){let r=bt.Uri.joinPath(this.extensionUri,"webview","index.js"),a=e.asWebviewUri(r),s=bt.Uri.joinPath(this.extensionUri,"webview","index.css"),i=e.asWebviewUri(s),n=Gn(),o=`style-src ${e.cspSource} 'unsafe-inline'`,l=`font-src ${e.cspSource}`,c=`img-src ${e.cspSource} https:`,u=`worker-src ${e.cspSource}`,d=bt.workspace.getConfiguration("editor"),h=d.get("fontFamily")||"monospace",p=d.get("fontSize")||12,m=d.get("fontWeight")||"normal",f=bt.workspace.getConfiguration("chat").get("fontSize")||13;return`<!DOCTYPE html>
      <html lang="en">
      <head>
        <meta charset="UTF-8">

        <!--
          Use a content security policy to only allow loading images from https or from our extension directory,
          and only allow scripts that have a specific nonce.
        -->
        <meta http-equiv="Content-Security-Policy" content="default-src 'none'; ${o}; ${l}; ${c}; script-src 'nonce-${n}'; ${u};">

        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="${i}" rel="stylesheet">
        <style>
          :root {
            --vscode-editor-font-family: ${h};
            --vscode-editor-font-size: ${p}px;
            --vscode-editor-font-weight: ${m};
            --vscode-chat-font-size: ${f}px;
          }
        </style>
      </head>
      <body>
        <div id="root"></div>

        <script nonce="${n}" src="${a}" type="module"></script>
      </body>
      </html>`}};var Hd=Ee(require("vscode"),1);var U5=Ee(tf(),1);var q1=Ee(require("child_process"),1),U1=require("util"),qae=(0,U1.promisify)(q1.execFile);var kt=Ee(require("vscode"),1);function hg(t){return t.includes("\\")?t.startsWith("\\\\")?"/"+t.substring(2).replace(/\\/g,"/"):(/^[a-zA-Z]:/.test(t)&&(t=t.replace(/^([a-zA-Z]):/,(e,r)=>"/"+r.toLowerCase()+":")),t.replace(/\\/g,"/")):t}var vg=class{constructor(e,r){this.uri=e;this.contents=r;this.ctime=this.modifiedTime=Date.now()}type=kt.FileType.File;ctime;modifiedTime;get mtime(){return this.modifiedTime}get size(){return this.data.length}get data(){return this.contents}write(e){this.modifiedTime=Date.now(),this.contents=e,this.emitter.fire()}emitter=new kt.EventEmitter;onDidSave=this.emitter.event},Cc=class{constructor(e){this.scheme=e}documents=new Map;createFile(e,r){let a=e;process.platform==="win32"&&(a=hg(e));let s=kt.Uri.from({scheme:this.scheme,path:a}),i=this.documents.get(s.path);return i?(this.writeFile(s,new TextEncoder().encode(r)),i):(i=new vg(s,new TextEncoder().encode(r)),this.documents.set(s.path,i),i)}emitter=new kt.EventEmitter;onDidChangeFile=this.emitter.event;watch(e){return new kt.Disposable(()=>{})}stat(e){return this.find(e)}find(e){let r=e.path;process.platform==="win32"&&(r=hg(e.path));let a=this.documents.get(r);if(!a)throw kt.FileSystemError.FileNotFound(e);return a}readDirectory(e){throw kt.FileSystemError.FileNotFound(e)}readFile(e){let r=this.find(e).data;if(r)return r;throw kt.FileSystemError.FileNotFound(e)}writeFile(e,r){this.find(e).write(r),this.emitter.fire([{type:kt.FileChangeType.Changed,uri:e}])}createDirectory(e){throw kt.FileSystemError.Unavailable()}delete(e){throw kt.FileSystemError.Unavailable()}rename(e,r,a){throw kt.FileSystemError.Unavailable()}},Gd=class{constructor(e){this.scheme=e}documents=new Map;onDidChangeEmitter=new kt.EventEmitter;onDidChange=this.onDidChangeEmitter.event;createFile(e,r){let a=e;process.platform==="win32"&&(a=hg(e));let s=kt.Uri.from({scheme:this.scheme,path:a});return this.addDocument(s,r),s}provideTextDocumentContent(e){return this.documents.get(e.toString())||""}addDocument(e,r){this.documents.set(e.toString(),r),this.onDidChangeEmitter.fire(e)}};var z1=Ee(rv(),1);function gg(t){let e=t.document,r=e.fileName,a=t.selection;if(a.isEmpty)return{filePath:r,startLine:a.start.line+1,endLine:a.start.line+1};{let s=e.getText(a);return{filePath:r,startLine:a.start.line+1,endLine:a.end.line+1,startColumn:a.start.character,endColumn:a.end.character,selectedText:s}}}var Tc=Ee(require("vscode"),1),Wd=class{async getModel(){let r=Tc.workspace.getConfiguration("claude-code").get("selectedModel");return r||"default"}async setModel(e){await Tc.workspace.getConfiguration("claude-code").update("selectedModel",e,Tc.ConfigurationTarget.Global)}};var B1=!1;function z5(t){B1=!0;let e=rt.window.createOutputChannel("Claude VSCode",{log:!0});t.subscriptions.push(e),rt.commands.executeCommand("setContext","claude-vscode.updateSupported",!1);let r=new Wd,a=new Cc("_claude_vscode_fs_left");t.subscriptions.push(rt.workspace.registerFileSystemProvider(a.scheme,a));let s=new Cc("_claude_vscode_fs_right");t.subscriptions.push(rt.workspace.registerFileSystemProvider(s.scheme,s));let i=new Gd("_claude_vscode_fs_readonly");t.subscriptions.push(rt.workspace.registerTextDocumentContentProvider(i.scheme,i)),t.subscriptions.push(V5(s.scheme));let n=ow(t.subscriptions),o=new rt.EventEmitter;t.subscriptions.push(o),B5(t.subscriptions,o);let l=o.event,c=Z5(t.subscriptions),u=new Rc(t.extensionUri,t,e,r,a,s,i,n,l,c,()=>Oc);t.subscriptions.push(u),(0,z1.activateExtension)(t,e,!0,{nativeAtMentionCallback:d=>u.hasVisibleWebview()?(o.fire(d),!0):!1}),t.subscriptions.push(rt.window.registerWebviewViewProvider(Rc.viewType,u)),rt.window.registerWebviewPanelSerializer("claudeVSCodePanel",{async deserializeWebviewPanel(d,h){u.setupPanel(d)}}),t.subscriptions.push(rt.commands.registerCommand("claude-vscode.editor.open",async()=>{let{startedInNewColumn:d}=u.createPanel();d&&rt.commands.executeCommand("workbench.action.lockEditorGroup")})),t.subscriptions.push(rt.commands.registerCommand("claude-vscode.sidebar.open",async()=>{rt.commands.executeCommand("setContext","claude-code:sidebarVisible",!0),await rt.commands.executeCommand("claudeVSCodeSidebar.focus")})),t.subscriptions.push(rt.commands.registerCommand("claude-vscode.window.open",async()=>{u.createPanel(),await rt.commands.executeCommand("workbench.action.moveEditorToNewWindow")})),t.subscriptions.push(rt.commands.registerCommand("claude-vscode.logout",async()=>{await new io(oo(e),Vd()).logout()?(await u.notifyLogout(),rt.window.showInformationMessage("Successfully logged out from Claude")):rt.window.showErrorMessage("Failed to logout completely. Some credentials may remain.")})),t.subscriptions.push(rt.commands.registerCommand("claude-vscode.terminal.open",async()=>{let d=rt.window.createTerminal("Claude");d.show(),d.sendText("claude")})),t.subscriptions.push(rt.commands.registerCommand("claude-vscode.showLogs",()=>{e.show()}))}function B5(t,e){t.push(rt.commands.registerCommand("claude-vscode.insertAtMention",async()=>{let r=rt.window.activeTextEditor;if(!r)return;let a=r.document,s=rt.workspace.asRelativePath(a.fileName),i=r.selection;if(i.isEmpty){e.fire(`@${s}`);return}let n=i.start.line+1,o=i.end.line+1,l=n!==o?`@${s}#${n}-${o}`:`@${s}#${n}`;e.fire(l)}))}var Oc;function Z5(t){let e=new rt.EventEmitter;return t.push(rt.window.onDidChangeTextEditorSelection(async r=>{if(!(r.textEditor!==rt.window.activeTextEditor||await cf(r.textEditor.document.uri))){if(r.selections.length===0){e.fire(void 0);return}Oc=gg(r.textEditor),e.fire(Oc)}})),t.push(rt.window.onDidChangeActiveTextEditor(async r=>{!r||await cf(r.document.uri)||(Oc=gg(r),e.fire(Oc))})),e.event}function V5(t){return rt.window.onDidChangeVisibleTextEditors(e=>{let r=e.some(a=>a?.document.uri.scheme===t);rt.commands.executeCommand("setContext","claude-vscode.viewingProposedDiff",r)})}function H5(){console.log("Claude code extension is now deactivated"),B1=!1}function G5(){return rt.window.tabGroups.all.flatMap(t=>t.tabs)}0&&(module.exports={activate,deactivate,openTabs});
/*! Bundled license information:

uri-js/dist/es5/uri.all.js:
  (** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js *)

mime-db/index.js:
  (*!
   * mime-db
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015-2022 Douglas Christopher Wilson
   * MIT Licensed
   *)

mime-types/index.js:
  (*!
   * mime-types
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)

lodash-es/lodash.js:
  (**
   * @license
   * Lodash (Custom Build) <https://lodash.com/>
   * Build: `lodash modularize exports="es" -o ./`
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/
